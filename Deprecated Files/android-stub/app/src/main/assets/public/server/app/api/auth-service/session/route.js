/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth-service/session/route";
exports.ids = ["app/api/auth-service/session/route"];
exports.modules = {

/***/ "(rsc)/./app/api/auth-service/config.ts":
/*!****************************************!*\
  !*** ./app/api/auth-service/config.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AUTH_CONFIG: () => (/* binding */ AUTH_CONFIG)\n/* harmony export */ });\n/**\n * Auth Microservice Configuration\n *\n * Central configuration for the auth microservice.\n */ const AUTH_CONFIG = {\n    // Service information\n    SERVICE_NAME: \"auth-service\",\n    SERVICE_VERSION: \"1.0.0\",\n    // Authentication settings\n    TOKEN_EXPIRY: \"1d\",\n    REFRESH_TOKEN_EXPIRY: \"7d\",\n    COOKIE_NAME: \"auth_token\",\n    REFRESH_COOKIE_NAME: \"refresh_token\",\n    COOKIE_MAX_AGE: 86400,\n    // Development mode\n    DEV_MODE: \"development\" === \"development\",\n    // Default secret for development only\n    DEFAULT_JWT_SECRET: \"dev_jwt_secret_replace_in_production\",\n    // Password settings\n    SALT_ROUNDS: 10,\n    MIN_PASSWORD_LENGTH: 8,\n    // Rate limiting\n    MAX_LOGIN_ATTEMPTS: 5,\n    LOGIN_TIMEOUT: 15 * 60 * 1000,\n    // Admin and internal authentication\n    ADMIN_AUTH_TOKEN: process.env.ADMIN_AUTH_TOKEN || \"admin_dev_token\",\n    INTERNAL_AUTH_TOKEN: process.env.INTERNAL_AUTH_TOKEN || \"internal_dev_token\",\n    // Registration settings\n    ALLOW_SELF_REGISTRATION: process.env.ALLOW_SELF_REGISTRATION === \"true\",\n    ALLOW_ORG_CREATION: process.env.ALLOW_ORG_CREATION === \"true\" || false,\n    REGISTRATION_PASSCODE: process.env.REGISTRATION_PASSCODE || \"mattmikeryan\"\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgtc2VydmljZS9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOzs7O0NBSUMsR0FFTSxNQUFNQSxjQUFjO0lBQ3pCLHNCQUFzQjtJQUN0QkMsY0FBYztJQUNkQyxpQkFBaUI7SUFFakIsMEJBQTBCO0lBQzFCQyxjQUFjO0lBQ2RDLHNCQUFzQjtJQUN0QkMsYUFBYTtJQUNiQyxxQkFBcUI7SUFDckJDLGdCQUFnQjtJQUVoQixtQkFBbUI7SUFDbkJDLFVBQVVDLGtCQUF5QjtJQUVuQyxzQ0FBc0M7SUFDdENDLG9CQUFvQjtJQUVwQixvQkFBb0I7SUFDcEJDLGFBQWE7SUFDYkMscUJBQXFCO0lBRXJCLGdCQUFnQjtJQUNoQkMsb0JBQW9CO0lBQ3BCQyxlQUFlLEtBQUssS0FBSztJQUV6QixvQ0FBb0M7SUFDcENDLGtCQUFrQk4sUUFBUU8sR0FBRyxDQUFDRCxnQkFBZ0IsSUFBSTtJQUNsREUscUJBQXFCUixRQUFRTyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0lBRXhELHdCQUF3QjtJQUN4QkMseUJBQXlCVCxRQUFRTyxHQUFHLENBQUNFLHVCQUF1QixLQUFLO0lBQ2pFQyxvQkFBb0JWLFFBQVFPLEdBQUcsQ0FBQ0csa0JBQWtCLEtBQUssVUFBVTtJQUNqRUMsdUJBQXVCWCxRQUFRTyxHQUFHLENBQUNJLHFCQUFxQixJQUFJO0FBQzlELEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3Jrc3BhY2UvYXBwL2FwaS9hdXRoLXNlcnZpY2UvY29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXV0aCBNaWNyb3NlcnZpY2UgQ29uZmlndXJhdGlvblxuICpcbiAqIENlbnRyYWwgY29uZmlndXJhdGlvbiBmb3IgdGhlIGF1dGggbWljcm9zZXJ2aWNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBBVVRIX0NPTkZJRyA9IHtcbiAgLy8gU2VydmljZSBpbmZvcm1hdGlvblxuICBTRVJWSUNFX05BTUU6IFwiYXV0aC1zZXJ2aWNlXCIsXG4gIFNFUlZJQ0VfVkVSU0lPTjogXCIxLjAuMFwiLFxuXG4gIC8vIEF1dGhlbnRpY2F0aW9uIHNldHRpbmdzXG4gIFRPS0VOX0VYUElSWTogXCIxZFwiLFxuICBSRUZSRVNIX1RPS0VOX0VYUElSWTogXCI3ZFwiLFxuICBDT09LSUVfTkFNRTogXCJhdXRoX3Rva2VuXCIsXG4gIFJFRlJFU0hfQ09PS0lFX05BTUU6IFwicmVmcmVzaF90b2tlblwiLFxuICBDT09LSUVfTUFYX0FHRTogODY0MDAsIC8vIDEgZGF5IGluIHNlY29uZHNcblxuICAvLyBEZXZlbG9wbWVudCBtb2RlXG4gIERFVl9NT0RFOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiLFxuXG4gIC8vIERlZmF1bHQgc2VjcmV0IGZvciBkZXZlbG9wbWVudCBvbmx5XG4gIERFRkFVTFRfSldUX1NFQ1JFVDogXCJkZXZfand0X3NlY3JldF9yZXBsYWNlX2luX3Byb2R1Y3Rpb25cIixcblxuICAvLyBQYXNzd29yZCBzZXR0aW5nc1xuICBTQUxUX1JPVU5EUzogMTAsXG4gIE1JTl9QQVNTV09SRF9MRU5HVEg6IDgsXG5cbiAgLy8gUmF0ZSBsaW1pdGluZ1xuICBNQVhfTE9HSU5fQVRURU1QVFM6IDUsXG4gIExPR0lOX1RJTUVPVVQ6IDE1ICogNjAgKiAxMDAwLCAvLyAxNSBtaW51dGVzXG5cbiAgLy8gQWRtaW4gYW5kIGludGVybmFsIGF1dGhlbnRpY2F0aW9uXG4gIEFETUlOX0FVVEhfVE9LRU46IHByb2Nlc3MuZW52LkFETUlOX0FVVEhfVE9LRU4gfHwgXCJhZG1pbl9kZXZfdG9rZW5cIixcbiAgSU5URVJOQUxfQVVUSF9UT0tFTjogcHJvY2Vzcy5lbnYuSU5URVJOQUxfQVVUSF9UT0tFTiB8fCBcImludGVybmFsX2Rldl90b2tlblwiLFxuXG4gIC8vIFJlZ2lzdHJhdGlvbiBzZXR0aW5nc1xuICBBTExPV19TRUxGX1JFR0lTVFJBVElPTjogcHJvY2Vzcy5lbnYuQUxMT1dfU0VMRl9SRUdJU1RSQVRJT04gPT09IFwidHJ1ZVwiLFxuICBBTExPV19PUkdfQ1JFQVRJT046IHByb2Nlc3MuZW52LkFMTE9XX09SR19DUkVBVElPTiA9PT0gXCJ0cnVlXCIgfHwgZmFsc2UsXG4gIFJFR0lTVFJBVElPTl9QQVNTQ09ERTogcHJvY2Vzcy5lbnYuUkVHSVNUUkFUSU9OX1BBU1NDT0RFIHx8IFwibWF0dG1pa2VyeWFuXCIsXG59O1xuIl0sIm5hbWVzIjpbIkFVVEhfQ09ORklHIiwiU0VSVklDRV9OQU1FIiwiU0VSVklDRV9WRVJTSU9OIiwiVE9LRU5fRVhQSVJZIiwiUkVGUkVTSF9UT0tFTl9FWFBJUlkiLCJDT09LSUVfTkFNRSIsIlJFRlJFU0hfQ09PS0lFX05BTUUiLCJDT09LSUVfTUFYX0FHRSIsIkRFVl9NT0RFIiwicHJvY2VzcyIsIkRFRkFVTFRfSldUX1NFQ1JFVCIsIlNBTFRfUk9VTkRTIiwiTUlOX1BBU1NXT1JEX0xFTkdUSCIsIk1BWF9MT0dJTl9BVFRFTVBUUyIsIkxPR0lOX1RJTUVPVVQiLCJBRE1JTl9BVVRIX1RPS0VOIiwiZW52IiwiSU5URVJOQUxfQVVUSF9UT0tFTiIsIkFMTE9XX1NFTEZfUkVHSVNUUkFUSU9OIiwiQUxMT1dfT1JHX0NSRUFUSU9OIiwiUkVHSVNUUkFUSU9OX1BBU1NDT0RFIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth-service/config.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/auth-service/models/user-repository.ts":
/*!********************************************************!*\
  !*** ./app/api/auth-service/models/user-repository.ts ***!
  \********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assignUserToOrganization: () => (/* binding */ assignUserToOrganization),\n/* harmony export */   createOrganization: () => (/* binding */ createOrganization),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   getAllOrganizations: () => (/* binding */ getAllOrganizations),\n/* harmony export */   getDefaultOrganization: () => (/* binding */ getDefaultOrganization),\n/* harmony export */   getOrganizationById: () => (/* binding */ getOrganizationById),\n/* harmony export */   getUserByEmail: () => (/* binding */ getUserByEmail),\n/* harmony export */   getUserById: () => (/* binding */ getUserById),\n/* harmony export */   getUserByUsername: () => (/* binding */ getUserByUsername),\n/* harmony export */   getUserOrganizations: () => (/* binding */ getUserOrganizations),\n/* harmony export */   getUserPermissions: () => (/* binding */ getUserPermissions),\n/* harmony export */   setupUserOrganization: () => (/* binding */ setupUserOrganization)\n/* harmony export */ });\n/* harmony import */ var _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/db-connection */ \"(rsc)/./app/api/auth-service/utils/db-connection.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _shared_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shared/schema */ \"(rsc)/./shared/schema.ts\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_db_connection__WEBPACK_IMPORTED_MODULE_0__]);\n_utils_db_connection__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/**\n * User Repository for Auth Microservice\n *\n * Centralizes user data access and manipulation for the auth service.\n */ \n\n\n\n/**\n * Get a user by ID using robust database connection\n */ async function getUserById(id) {\n    const result = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [user] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users.id, id));\n        if (user) {\n            console.log(`[Auth Service] User found by ID: ${user.username} (role: ${user.role})`);\n        }\n        return user;\n    }, `getUserById(${id})`);\n    if (result === null) {\n        console.error(\"[Auth Service] Database connection failed during user lookup by ID\");\n    }\n    return result;\n}\n/**\n * Get a user by username using robust database connection\n * @param username The username to look up\n * @param options Additional options for the lookup\n * @returns The user object or null if not found\n */ async function getUserByUsername(username, options = {}) {\n    const result = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [user] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users.username, username), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users.active, true)));\n        if (user) {\n            console.log(`[Auth Service] User found: ${user.username} (role: ${user.role})`);\n            console.log(`[Auth Service] User active: ${user.active}`);\n            console.log(`[Auth Service] User has password: ${!!user.password}`);\n            console.log(`[Auth Service] User object keys: ${Object.keys(user).join(', ')}`);\n        } else {\n            console.log(`[Auth Service] No user found for username: ${username}`);\n        }\n        return user;\n    }, `getUserByUsername(${username})`);\n    if (result === null && !options.checkOnly) {\n        console.error(\"[Auth Service] Database connection failed during user lookup\");\n    }\n    return result;\n}\n/**\n * Get a user by email\n */ async function getUserByEmail(email) {\n    const result = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [user] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users.email, email));\n        return user;\n    }, `getUserByEmail(${email})`);\n    if (result === null) {\n        console.error(\"[Auth Service] Database connection failed during user lookup by email\");\n    }\n    return result;\n}\n/**\n * Create a new user\n * @param userData The user data to insert\n * @returns The created user or null if there was an error, along with any error message\n */ async function createUser(userData) {\n    try {\n        // Validate the required fields\n        if (!userData.username) {\n            return {\n                user: null,\n                error: \"Username is required\"\n            };\n        }\n        if (!userData.password) {\n            return {\n                user: null,\n                error: \"Password is required\"\n            };\n        }\n        // Insert the new user into the database\n        try {\n            // Insert the new user using the standard database connection\n            const user = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n                const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n                const [newUser] = await db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.users).values(userData).returning();\n                return newUser;\n            }, `createUser(${userData.username})`);\n            if (!user) {\n                return {\n                    user: null,\n                    error: \"Failed to create user: No user returned from database\"\n                };\n            }\n            console.log(\"[Auth Service] User created successfully:\", {\n                id: user.id,\n                username: user.username\n            });\n            return {\n                user\n            };\n        } catch (dbError) {\n            // Handle database-specific errors with user-friendly messages\n            const errorMessage = dbError instanceof Error ? dbError.message : String(dbError);\n            console.error(\"[Auth Service] Database error creating user:\", {\n                error: errorMessage,\n                user: userData.username\n            });\n            // Provide more specific error messages for common database issues\n            if (errorMessage.includes(\"duplicate key\") && errorMessage.includes(\"username\")) {\n                return {\n                    user: null,\n                    error: \"Username already exists\"\n                };\n            }\n            if (errorMessage.includes(\"duplicate key\") && errorMessage.includes(\"email\")) {\n                return {\n                    user: null,\n                    error: \"Email already exists\"\n                };\n            }\n            if (errorMessage.includes(\"password authentication\") || errorMessage.includes(\"neondb_owner\")) {\n                return {\n                    user: null,\n                    error: \"The registration service is experiencing database authentication issues\"\n                };\n            }\n            // Generic database error message for other cases\n            return {\n                user: null,\n                error: \"The registration service is experiencing database issues. Please try again later.\"\n            };\n        }\n    } catch (error) {\n        // Handle other unexpected errors\n        const errorMessage = error instanceof Error ? error.message : String(error);\n        console.error(\"[Auth Service] Unexpected error creating user:\", errorMessage);\n        return {\n            user: null,\n            error: \"An unexpected error occurred during registration. Please try again later.\"\n        };\n    }\n}\n/**\n * Get an organization by ID\n */ async function getOrganizationById(orgId) {\n    const organization = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [org] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.id, orgId));\n        return org;\n    }, `getOrganizationById(${orgId})`);\n    return organization;\n}\n/**\n * Get all organizations\n */ async function getAllOrganizations() {\n    const organizations = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        return await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations);\n    }, `getAllOrganizations()`);\n    return organizations || [];\n}\n/**\n * Get default organization (usually the Rishi Internal organization)\n */ async function getDefaultOrganization() {\n    const organization = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        // Try to find Rishi Internal organization first\n        const [org] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.type, \"internal\")).limit(1);\n        // If not found, get the first organization\n        if (!org) {\n            const [firstOrg] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations).limit(1);\n            return firstOrg;\n        }\n        return org;\n    }, `getDefaultOrganization()`);\n    return organization;\n}\n/**\n * Create a new organization\n */ async function createOrganization(orgData) {\n    const organization = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [org] = await db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations).values({\n            id: (0,uuid__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(),\n            ...orgData,\n            created_at: new Date(),\n            updated_at: new Date()\n        }).returning();\n        return org;\n    }, `createOrganization(${orgData.name})`);\n    return organization;\n}\n/**\n * Assign a user to an organization\n */ async function assignUserToOrganization(userId, organizationId, role = \"user\", isPrimary = true) {\n    const userOrg = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const [assignment] = await db.insert(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations).values({\n            user_id: userId,\n            organization_id: organizationId,\n            role,\n            is_default: isPrimary,\n            created_at: new Date()\n        }).returning();\n        return assignment;\n    }, `assignUserToOrganization(${userId}, ${organizationId})`);\n    return userOrg;\n}\n/**\n * Create user organization connection and optionally create new organization\n * @returns Object containing the userOrg record and any error message\n */ async function setupUserOrganization(userId, options = {}) {\n    try {\n        // For non-production environments, create a mock organization connection\n        // This helps bypass database errors in staging environments\n        const isNonProduction =  true || 0;\n        // Generate default organization ID for simulated responses\n        const defaultOrgId = \"00000000-0000-0000-0000-000000000001\";\n        // If in non-production environment, provide simulated organization assignment\n        if (isNonProduction) {\n            console.log(\"[Auth Service] Using simulated organization setup in non-production environment\");\n            // Create a simulated userOrg object\n            const mockUserOrg = {\n                user_id: userId,\n                organization_id: options.orgId || defaultOrgId,\n                role: options.role || \"brand_agent\",\n                is_default: true,\n                created_at: new Date()\n            };\n            return {\n                userOrg: mockUserOrg\n            };\n        }\n        // Continue with normal processing for production environments\n        let organizationId = options.orgId;\n        let userOrg = null;\n        let errorMessage = undefined;\n        // Special handling for super_admin role - always ensure they're part of Rishi Internal\n        const isSuperAdmin = options.role === \"super_admin\";\n        // If user is a super_admin, we need to make sure they are assigned to the Rishi Internal org\n        if (isSuperAdmin) {\n            console.log(\"[Auth Service] User has super_admin role, ensuring assignment to Rishi Internal organization\");\n            // Find the Rishi Internal organization\n            const rishiInternalOrg = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n                const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n                const [org] = await db.select().from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.type, \"internal\")).limit(1);\n                return org;\n            }, `findRishiInternalOrg()`);\n            if (rishiInternalOrg) {\n                // Assign the user to Rishi Internal as primary organization\n                userOrg = await assignUserToOrganization(userId, rishiInternalOrg.id, \"super_admin\", true);\n                if (!userOrg) {\n                    errorMessage = `Failed to assign super_admin user to Rishi Internal organization (${rishiInternalOrg.id})`;\n                    return {\n                        userOrg: null,\n                        error: errorMessage\n                    };\n                }\n                // If there's also a specific organization requested, add that as a secondary organization\n                if (organizationId && organizationId !== rishiInternalOrg.id) {\n                    const secondaryOrg = await getOrganizationById(organizationId);\n                    if (secondaryOrg) {\n                        const secondaryUserOrg = await assignUserToOrganization(userId, organizationId, \"super_admin\", false);\n                        if (!secondaryUserOrg) {\n                            console.warn(`[Auth Service] Failed to assign super_admin user to secondary organization ${organizationId}, but continuing with Rishi Internal assignment`);\n                        }\n                    }\n                }\n                // Super admin has been assigned to Rishi Internal, return success\n                // Return without error property when there's no error\n                if (userOrg) {\n                    return {\n                        userOrg\n                    };\n                } else {\n                    return {\n                        userOrg: null\n                    };\n                }\n            } else {\n                errorMessage = \"Rishi Internal organization not found. Super admins must be assigned to this organization.\";\n                return {\n                    userOrg: null,\n                    error: errorMessage\n                };\n            }\n        }\n        // Standard organization assignment for non-super_admin users\n        // If we have a specific orgId, try to use that\n        if (organizationId) {\n            const organization = await getOrganizationById(organizationId);\n            if (organization) {\n                userOrg = await assignUserToOrganization(userId, organizationId, options.role || \"user\", true);\n                if (!userOrg) {\n                    errorMessage = `Failed to assign user to organization with ID ${organizationId}`;\n                }\n            } else {\n                errorMessage = `Organization with ID ${organizationId} not found`;\n            }\n        } else if (options.useDefaultOrg) {\n            const defaultOrg = await getDefaultOrganization();\n            if (defaultOrg) {\n                userOrg = await assignUserToOrganization(userId, defaultOrg.id, options.role || \"user\", true);\n                if (!userOrg) {\n                    errorMessage = `Failed to assign user to default organization (${defaultOrg.id})`;\n                }\n            } else {\n                errorMessage = \"Default organization not found\";\n            }\n        } else if (options.createNewOrg && options.orgName) {\n            const newOrg = await createOrganization({\n                name: options.orgName,\n                type: options.orgType || \"client\"\n            });\n            if (newOrg) {\n                userOrg = await assignUserToOrganization(userId, newOrg.id, options.role || \"admin\", true);\n                if (!userOrg) {\n                    errorMessage = `Failed to assign user to newly created organization (${newOrg.id})`;\n                }\n            } else {\n                errorMessage = `Failed to create new organization with name ${options.orgName}`;\n            }\n        } else {\n            // Default to brand_agent role if nothing else specified\n            // Find or create a default organization for brand agents\n            try {\n                const defaultOrg = await getDefaultOrganization();\n                if (defaultOrg) {\n                    userOrg = await assignUserToOrganization(userId, defaultOrg.id, options.role || \"brand_agent\", true);\n                    if (!userOrg) {\n                        errorMessage = `Failed to assign user to default organization as brand agent`;\n                    }\n                } else {\n                    errorMessage = \"No suitable organization found for user assignment\";\n                }\n            } catch (dbError) {\n                console.error(\"[Auth Service] Error finding default organization:\", dbError);\n                errorMessage = \"Database error while finding organization\";\n            }\n        }\n        return {\n            userOrg,\n            error: errorMessage\n        };\n    } catch (error) {\n        const message = error instanceof Error ? error.message : String(error);\n        console.error(\"[Auth Service] Error setting up user organization:\", error);\n        // More helpful error message for database connection issues\n        if (message.includes(\"password authentication\") || message.includes(\"neondb_owner\")) {\n            return {\n                userOrg: null,\n                error: \"The registration service is experiencing database authentication issues\"\n            };\n        }\n        return {\n            userOrg: null,\n            error: \"Database error occurred while setting up organization\"\n        };\n    }\n}\n/**\n * Get organizations for a user\n */ async function getUserOrganizations(userId) {\n    const result = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        const userOrgs = await db.select({\n            orgId: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.id,\n            orgName: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.name,\n            orgType: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.type,\n            role: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.role,\n            isPrimary: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.is_default\n        }).from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations).innerJoin(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.organization_id, _shared_schema__WEBPACK_IMPORTED_MODULE_1__.organizations.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.user_id, userId));\n        return userOrgs || [];\n    }, `getUserOrganizations(${userId})`);\n    return result || [];\n}\n/**\n * Get user permissions\n */ async function getUserPermissions(userId, organizationId) {\n    const result = await _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.executeQuery(async ()=>{\n        const db = _utils_db_connection__WEBPACK_IMPORTED_MODULE_0__.dbManager.getDatabase();\n        // Build query conditions\n        const conditions = [\n            (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.user_id, userId)\n        ];\n        // Add organization filter if provided\n        if (organizationId) {\n            conditions.push((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.eq)(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.organization_id, organizationId));\n        }\n        // Get user's role from userOrganizations table\n        const roleResult = await db.select({\n            role: _shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations.role\n        }).from(_shared_schema__WEBPACK_IMPORTED_MODULE_1__.userOrganizations).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_2__.and)(...conditions)).limit(1);\n        // If no role found, return empty permissions\n        if (!roleResult.length) {\n            return [];\n        }\n        const userRole = roleResult[0].role;\n        // Get permissions for this role from the rolePermissions constant\n        const permissions = _shared_schema__WEBPACK_IMPORTED_MODULE_1__.rolePermissions[userRole] || [];\n        return permissions;\n    }, `getUserPermissions(${userId}, ${organizationId})`);\n    return result || [];\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgtc2VydmljZS9tb2RlbHMvdXNlci1yZXBvc2l0b3J5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztDQUlDLEdBQ2tEO0FBQ0w7QUFDTDtBQUNMO0FBRXBDOztDQUVDLEdBQ00sZUFBZU0sWUFBWUMsRUFBVTtJQUMxQyxNQUFNQyxTQUFTLE1BQU1SLDJEQUFTQSxDQUFDUyxZQUFZLENBQ3pDO1FBQ0UsTUFBTUMsS0FBS1YsMkRBQVNBLENBQUNXLFdBQVc7UUFDaEMsTUFBTSxDQUFDQyxLQUFLLEdBQUcsTUFBTUYsR0FDbEJHLE1BQU0sR0FDTkMsSUFBSSxDQUFDWCxpREFBWSxFQUNqQmEsS0FBSyxDQUFDZiwrQ0FBRUEsQ0FBQ0UsaURBQVksQ0FBQ0ksRUFBRSxFQUFFQTtRQUU3QixJQUFJSyxNQUFNO1lBQ1JLLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGlDQUFpQyxFQUFFTixLQUFLTyxRQUFRLENBQUMsUUFBUSxFQUFFUCxLQUFLUSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ3RGO1FBRUEsT0FBT1I7SUFDVCxHQUNBLENBQUMsWUFBWSxFQUFFTCxHQUFHLENBQUMsQ0FBQztJQUd0QixJQUFJQyxXQUFXLE1BQU07UUFDbkJTLFFBQVFJLEtBQUssQ0FBQztJQUNoQjtJQUVBLE9BQU9iO0FBQ1Q7QUFFQTs7Ozs7Q0FLQyxHQUNNLGVBQWVjLGtCQUNwQkgsUUFBZ0IsRUFDaEJJLFVBQW1DLENBQUMsQ0FBQztJQUVyQyxNQUFNZixTQUFTLE1BQU1SLDJEQUFTQSxDQUFDUyxZQUFZLENBQ3pDO1FBQ0UsTUFBTUMsS0FBS1YsMkRBQVNBLENBQUNXLFdBQVc7UUFDaEMsTUFBTSxDQUFDQyxLQUFLLEdBQUcsTUFBTUYsR0FDbEJHLE1BQU0sR0FDTkMsSUFBSSxDQUFDWCxpREFBWSxFQUNqQmEsS0FBSyxDQUFDZCxnREFBR0EsQ0FDUkQsK0NBQUVBLENBQUNFLGlEQUFZLENBQUNnQixRQUFRLEVBQUVBLFdB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Q3RDLElBQUlDLGdCQUFnQjtZQUNsQmdDLFdBQVdDLElBQUksQ0FDYjlGLCtDQUFFQSxDQUFDRSw2REFBd0IsQ0FBQ2lFLGVBQWUsRUFBRU47UUFFakQ7UUFFQSwrQ0FBK0M7UUFDL0MsTUFBTWtDLGFBQWEsTUFBTXRGLEdBQ3RCRyxNQUFNLENBQUM7WUFDTk8sTUFBTWpCLDZEQUF3QixDQUFDaUIsSUFBSTtRQUNyQyxHQUNDTixJQUFJLENBQUNYLDZEQUF3QixFQUM3QmEsS0FBSyxDQUFDZCxnREFBR0EsSUFBSTRGLGFBQ2IxQyxLQUFLLENBQUM7UUFFVCw2Q0FBNkM7UUFDN0MsSUFBSSxDQUFDNEMsV0FBV0MsTUFBTSxFQUFFO1lBQ3RCLE9BQU8sRUFBRTtRQUNYO1FBRUEsTUFBTUMsV0FBV0YsVUFBVSxDQUFDLEVBQUUsQ0FBQzVFLElBQUk7UUFFbkMsa0VBQWtFO1FBQ2xFLE1BQU0rRSxjQUFjaEcsMkRBQXNCLENBQUMrRixTQUFnRCxJQUFJLEVBQUU7UUFFakcsT0FBT0M7SUFDVCxHQUNBLENBQUMsbUJBQW1CLEVBQUV0QyxPQUFPLEVBQUUsRUFBRUMsZUFBZSxDQUFDLENBQUM7SUFHcEQsT0FBT3RELFVBQVUsRUFBRTtBQUNyQiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL2F1dGgtc2VydmljZS9tb2RlbHMvdXNlci1yZXBvc2l0b3J5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVXNlciBSZXBvc2l0b3J5IGZvciBBdXRoIE1pY3Jvc2VydmljZVxuICpcbiAqIENlbnRyYWxpemVzIHVzZXIgZGF0YSBhY2Nlc3MgYW5kIG1hbmlwdWxhdGlvbiBmb3IgdGhlIGF1dGggc2VydmljZS5cbiAqL1xuaW1wb3J0IHsgZGJNYW5hZ2VyIH0gZnJvbSBcIi4uL3V0aWxzL2RiLWNvbm5lY3Rpb25cIjtcbmltcG9ydCB7IGVxLCBhbmQsIGlzTnVsbCB9IGZyb20gXCJkcml6emxlLW9ybVwiO1xuaW1wb3J0ICogYXMgc2NoZW1hIGZyb20gXCJAc2hhcmVkL3NjaGVtYVwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcblxuLyoqXG4gKiBHZXQgYSB1c2VyIGJ5IElEIHVzaW5nIHJvYnVzdCBkYXRhYmFzZSBjb25uZWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQnlJZChpZDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiTWFuYWdlci5leGVjdXRlUXVlcnkoXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBkYk1hbmFnZXIuZ2V0RGF0YWJhc2UoKTtcbiAgICAgIGNvbnN0IFt1c2VyXSA9IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuZnJvbShzY2hlbWEudXNlcnMpXG4gICAgICAgIC53aGVyZShlcShzY2hlbWEudXNlcnMuaWQsIGlkKSk7XG5cbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbQXV0aCBTZXJ2aWNlXSBVc2VyIGZvdW5kIGJ5IElEOiAke3VzZXIudXNlcm5hbWV9IChyb2xlOiAke3VzZXIucm9sZX0pYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0sXG4gICAgYGdldFVzZXJCeUlkKCR7aWR9KWBcbiAgKTtcblxuICBpZiAocmVzdWx0ID09PSBudWxsKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltBdXRoIFNlcnZpY2VdIERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkIGR1cmluZyB1c2VyIGxvb2t1cCBieSBJRFwiKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0IGEgdXNlciBieSB1c2VybmFtZSB1c2luZyByb2J1c3QgZGF0YWJhc2UgY29ubmVjdGlvblxuICogQHBhcmFtIHVzZXJuYW1lIFRoZSB1c2VybmFtZSB0byBsb29rIHVwXG4gKiBAcGFyYW0gb3B0aW9ucyBBZGRpdGlvbmFsIG9wdGlvbnMgZm9yIHRoZSBsb29rdXBcbiAqIEByZXR1cm5zIFRoZSB1c2VyIG9iamVjdCBvciBudWxsIGlmIG5vdCBmb3VuZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5VXNlcm5hbWUoXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIG9wdGlvbnM6IHsgY2hlY2tPbmx5PzogYm9vbGVhbiB9ID0ge30sXG4pIHtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJNYW5hZ2VyLmV4ZWN1dGVRdWVyeShcbiAgICBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYiA9IGRiTWFuYWdlci5nZXREYXRhYmFzZSgpO1xuICAgICAgY29uc3QgW3VzZXJdID0gYXdhaXQgZGJcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5mcm9tKHNjaGVtYS51c2VycylcbiAgICAgICAgLndoZXJlKGFuZChcbiAgICAgICAgICBlcShzY2hlbWEudXNlcnMudXNlcm5hbWUsIHVzZXJuYW1lKSxcbiAgICAgICAgICBlcShzY2hlbWEudXNlcnMuYWN0aXZlLCB0cnVlKVxuICAgICAgICApKTtcblxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtBdXRoIFNlcnZpY2VdIFVzZXIgZm91bmQ6ICR7dXNlci51c2VybmFtZX0gKHJvbGU6ICR7dXNlci5yb2xlfSlgKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtBdXRoIFNlcnZpY2VdIFVzZXIgYWN0aXZlOiAke3VzZXIuYWN0aXZlfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW0F1dGggU2VydmljZV0gVXNlciBoYXMgcGFzc3dvcmQ6ICR7ISF1c2VyLnBhc3N3b3JkfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhgW0F1dGggU2VydmljZV0gVXNlciBvYmplY3Qga2V5czogJHtPYmplY3Qua2V5cyh1c2VyKS5qb2luKCcsICcpfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtBdXRoIFNlcnZpY2VdIE5vIHVzZXIgZm91bmQgZm9yIHVzZXJuYW1lOiAke3VzZXJuYW1lfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gdXNlcjtcbiAgICB9LFxuICAgIGBnZXRVc2VyQnlVc2VybmFtZSgke3VzZXJuYW1lfSlgXG4gICk7XG5cbiAgaWYgKHJlc3VsdCA9PT0gbnVsbCAmJiAhb3B0aW9ucy5jaGVja09ubHkpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW0F1dGggU2VydmljZV0gRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQgZHVyaW5nIHVzZXIgbG9va3VwXCIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXQgYSB1c2VyIGJ5IGVtYWlsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyQnlFbWFpbChlbWFpbDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiTWFuYWdlci5leGVjdXRlUXVlcnkoXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBkYk1hbmFnZXIuZ2V0RGF0YWJhc2UoKTtcbiAgICAgIGNvbnN0IFt1c2VyXSA9IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuZnJvbShzY2hlbWEudXNlcnMpXG4gICAgICAgIC53aGVyZShlcShzY2hlbWEudXNlcnMuZW1haWwsIGVtYWlsKSk7XG5cbiAgICAgIHJldHVybiB1c2VyO1xuICAgIH0sXG4gICAgYGdldFVzZXJCeUVtYWlsKCR7ZW1haWx9KWBcbiAgKTtcblxuICBpZiAocmVzdWx0ID09PSBudWxsKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltBdXRoIFNlcnZpY2VdIERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkIGR1cmluZyB1c2VyIGxvb2t1cCBieSBlbWFpbFwiKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHVzZXJcbiAqIEBwYXJhbSB1c2VyRGF0YSBUaGUgdXNlciBkYXRhIHRvIGluc2VydFxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgdXNlciBvciBudWxsIGlmIHRoZXJlIHdhcyBhbiBlcnJvciwgYWxvbmcgd2l0aCBhbnkgZXJyb3IgbWVzc2FnZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlVXNlcihcbiAgdXNlckRhdGE6IGFueSxcbik6IFByb21pc2U8eyB1c2VyOiBzY2hlbWEuVXNlciB8IG51bGw7IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgdHJ5IHtcbiAgICAvLyBWYWxpZGF0ZSB0aGUgcmVxdWlyZWQgZmllbGRzXG4gICAgaWYgKCF1c2VyRGF0YS51c2VybmFtZSkge1xuICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IFwiVXNlcm5hbWUgaXMgcmVxdWlyZWRcIiB9O1xuICAgIH1cbiAgICBpZiAoIXVzZXJEYXRhLnBhc3N3b3JkKSB7XG4gICAgICByZXR1cm4geyB1c2VyOiBudWxsLCBlcnJvcjogXCJQYXNzd29yZCBpcyByZXF1aXJlZFwiIH07XG4gICAgfVxuXG4gICAgLy8gSW5zZXJ0IHRoZSBuZXcgdXNlciBpbnRvIHRoZSBkYXRhYmFzZVxuICAgIHRyeSB7XG4gICAgICAvLyBJbnNlcnQgdGhlIG5ldyB1c2VyIHVzaW5nIHRoZSBzdGFuZGFyZCBkYXRhYmFzZSBjb25uZWN0aW9uXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGJNYW5hZ2VyLmV4ZWN1dGVRdWVyeShcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRiID0gZGJNYW5hZ2VyLmdldERhdGFiYXNlKCk7XG4gICAgICAgICAgY29uc3QgW25ld1VzZXJdID0gYXdhaXQgZGIuaW5zZXJ0KHNjaGVtYS51c2VycykudmFsdWVzKHVzZXJEYXRhKS5yZXR1cm5pbmcoKTtcbiAgICAgICAgICByZXR1cm4gbmV3VXNlcjtcbiAgICAgICAgfSxcbiAgICAgICAgYGNyZWF0ZVVzZXIoJHt1c2VyRGF0YS51c2VybmFtZX0pYFxuICAgICAgKTtcblxuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdXNlcjogbnVsbCxcbiAgICAgICAgICBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIHVzZXI6IE5vIHVzZXIgcmV0dXJuZWQgZnJvbSBkYXRhYmFzZVwiLFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIltBdXRoIFNlcnZpY2VdIFVzZXIgY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyB1c2VyIH07XG4gICAgfSBjYXRjaCAoZGJFcnJvcikge1xuICAgICAgLy8gSGFuZGxlIGRhdGFiYXNlLXNwZWNpZmljIGVycm9ycyB3aXRoIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgIGRiRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGRiRXJyb3IubWVzc2FnZSA6IFN0cmluZyhkYkVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQXV0aCBTZXJ2aWNlXSBEYXRhYmFzZSBlcnJvciBjcmVhdGluZyB1c2VyOlwiLCB7XG4gICAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHVzZXI6IHVzZXJEYXRhLnVzZXJuYW1lLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIFByb3ZpZGUgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlcyBmb3IgY29tbW9uIGRhdGFiYXNlIGlzc3Vlc1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJkdXBsaWNhdGUga2V5XCIpICYmXG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcyhcInVzZXJuYW1lXCIpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IFwiVXNlcm5hbWUgYWxyZWFkeSBleGlzdHNcIiB9O1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJkdXBsaWNhdGUga2V5XCIpICYmXG4gICAgICAgIGVycm9yTWVzc2FnZS5pbmNsdWRlcyhcImVtYWlsXCIpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHsgdXNlcjogbnVsbCwgZXJyb3I6IFwiRW1haWwgYWxyZWFkeSBleGlzdHNcIiB9O1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJwYXNzd29yZCBhdXRoZW50aWNhdGlvblwiKSB8fFxuICAgICAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoXCJuZW9uZGJfb3duZXJcIilcbiAgICAgICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgICAgZXJyb3I6XG4gICAgICAgICAgICBcIlRoZSByZWdpc3RyYXRpb24gc2VydmljZSBpcyBleHBlcmllbmNpbmcgZGF0YWJhc2UgYXV0aGVudGljYXRpb24gaXNzdWVzXCIsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEdlbmVyaWMgZGF0YWJhc2UgZXJyb3IgbWVzc2FnZSBmb3Igb3RoZXIgY2FzZXNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXI6IG51bGwsXG4gICAgICAgIGVycm9yOlxuICAgICAgICAgIFwiVGhlIHJlZ2lzdHJhdGlvbiBzZXJ2aWNlIGlzIGV4cGVyaWVuY2luZyBkYXRhYmFzZSBpc3N1ZXMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsXG4gICAgICB9O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBIYW5kbGUgb3RoZXIgdW5leHBlY3RlZCBlcnJvcnNcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiW0F1dGggU2VydmljZV0gVW5leHBlY3RlZCBlcnJvciBjcmVhdGluZyB1c2VyOlwiLFxuICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogbnVsbCxcbiAgICAgIGVycm9yOlxuICAgICAgICBcIkFuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgZHVyaW5nIHJlZ2lzdHJhdGlvbi4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IGFuIG9yZ2FuaXphdGlvbiBieSBJRFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0T3JnYW5pemF0aW9uQnlJZChvcmdJZDogc3RyaW5nKSB7XG4gIGNvbnN0IG9yZ2FuaXphdGlvbiA9IGF3YWl0IGRiTWFuYWdlci5leGVjdXRlUXVlcnkoXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBkYk1hbmFnZXIuZ2V0RGF0YWJhc2UoKTtcbiAgICAgIGNvbnN0IFtvcmddID0gYXdhaXQgZGJcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5mcm9tKHNjaGVtYS5vcmdhbml6YXRpb25zKVxuICAgICAgICAud2hlcmUoZXEoc2NoZW1hLm9yZ2FuaXphdGlvbnMuaWQsIG9yZ0lkKSk7XG4gICAgICByZXR1cm4gb3JnO1xuICAgIH0sXG4gICAgYGdldE9yZ2FuaXphdGlvbkJ5SWQoJHtvcmdJZH0pYFxuICApO1xuXG4gIHJldHVybiBvcmdhbml6YXRpb247XG59XG5cbi8qKlxuICogR2V0IGFsbCBvcmdhbml6YXRpb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbGxPcmdhbml6YXRpb25zKCkge1xuICBjb25zdCBvcmdhbml6YXRpb25zID0gYXdhaXQgZGJNYW5hZ2VyLmV4ZWN1dGVRdWVyeShcbiAgICBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYiA9IGRiTWFuYWdlci5nZXREYXRhYmFzZSgpO1xuICAgICAgcmV0dXJuIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oc2NoZW1hLm9yZ2FuaXphdGlvbnMpO1xuICAgIH0sXG4gICAgYGdldEFsbE9yZ2FuaXphdGlvbnMoKWBcbiAgKTtcblxuICByZXR1cm4gb3JnYW5pemF0aW9ucyB8fCBbXTtcbn1cblxuLyoqXG4gKiBHZXQgZGVmYXVsdCBvcmdhbml6YXRpb24gKHVzdWFsbHkgdGhlIFJpc2hpIEludGVybmFsIG9yZ2FuaXphdGlvbilcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlZmF1bHRPcmdhbml6YXRpb24oKSB7XG4gIGNvbnN0IG9yZ2FuaXphdGlvbiA9IGF3YWl0IGRiTWFuYWdlci5leGVjdXRlUXVlcnkoXG4gICAgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGIgPSBkYk1hbmFnZXIuZ2V0RGF0YWJhc2UoKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IHRvIGZpbmQgUmlzaGkgSW50ZXJuYWwgb3JnYW5pemF0aW9uIGZpcnN0XG4gICAgICBjb25zdCBbb3JnXSA9IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuZnJvbShzY2hlbWEub3JnYW5pemF0aW9ucylcbiAgICAgICAgLndoZXJlKGVxKHNjaGVtYS5vcmdhbml6YXRpb25zLnR5cGUsIFwiaW50ZXJuYWxcIikpXG4gICAgICAgIC5saW1pdCgxKTtcblxuICAgICAgLy8gSWYgbm90IGZvdW5kLCBnZXQgdGhlIGZpcnN0IG9yZ2FuaXphdGlvblxuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgY29uc3QgW2ZpcnN0T3JnXSA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oc2NoZW1hLm9yZ2FuaXphdGlvbnMpLmxpbWl0KDEpO1xuICAgICAgICByZXR1cm4gZmlyc3RPcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmc7XG4gICAgfSxcbiAgICBgZ2V0RGVmYXVsdE9yZ2FuaXphdGlvbigpYFxuICApO1xuXG4gIHJldHVybiBvcmdhbml6YXRpb247XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG9yZ2FuaXphdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlT3JnYW5pemF0aW9uKG9yZ0RhdGE6IGFueSkge1xuICBjb25zdCBvcmdhbml6YXRpb24gPSBhd2FpdCBkYk1hbmFnZXIuZXhlY3V0ZVF1ZXJ5KFxuICAgIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiID0gZGJNYW5hZ2VyLmdldERhdGFiYXNlKCk7XG4gICAgICBjb25zdCBbb3JnXSA9IGF3YWl0IGRiXG4gICAgICAgIC5pbnNlcnQoc2NoZW1hLm9yZ2FuaXphdGlvbnMpXG4gICAgICAgIC52YWx1ZXMoe1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICAuLi5vcmdEYXRhLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSlcbiAgICAgICAgLnJldHVybmluZygpO1xuICAgICAgcmV0dXJuIG9yZztcbiAgICB9LFxuICAgIGBjcmVhdGVPcmdhbml6YXRpb24oJHtvcmdEYXRhLm5hbWV9KWBcbiAgKTtcblxuICByZXR1cm4gb3JnYW5pemF0aW9uO1xufVxuXG4vKipcbiAqIEFzc2lnbiBhIHVzZXIgdG8gYW4gb3JnYW5pemF0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25Vc2VyVG9Pcmdhbml6YXRpb24oXG4gIHVzZXJJZDogc3RyaW5nLFxuICBvcmdhbml6YXRpb25JZDogc3RyaW5nLFxuICByb2xlOiBzdHJpbmcgPSBcInVzZXJcIixcbiAgaXNQcmltYXJ5OiBib29sZWFuID0gdHJ1ZSxcbikge1xuICBjb25zdCB1c2VyT3JnID0gYXdhaXQgZGJNYW5hZ2VyLmV4ZWN1dGVRdWVyeShcbiAgICBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBkYiA9IGRiTWFuYWdlci5nZXREYXRhYmFzZSgpO1xuICAgICAgY29uc3QgW2Fzc2lnbm1lbnRdID0gYXdhaXQgZGJcbiAgICAgICAgLmluc2VydChzY2hlbWEudXNlck9yZ2FuaXphdGlvbnMpXG4gICAgICAgIC52YWx1ZXMoe1xuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICBvcmdhbml6YXRpb25faWQ6IG9yZ2FuaXphdGlvbklkLFxuICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgaXNfZGVmYXVsdDogaXNQcmltYXJ5LFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIH0pXG4gICAgICAgIC5yZXR1cm5pbmcoKTtcbiAgICAgIHJldHVybiBhc3NpZ25tZW50O1xuICAgIH0sXG4gICAgYGFzc2lnblVzZXJUb09yZ2FuaXphdGlvbigke3VzZXJJZH0sICR7b3JnYW5pemF0aW9uSWR9KWBcbiAgKTtcblxuICByZXR1cm4gdXNlck9yZztcbn1cblxuLyoqXG4gKiBDcmVhdGUgdXNlciBvcmdhbml6YXRpb24gY29ubmVjdGlvbiBhbmQgb3B0aW9uYWxseSBjcmVhdGUgbmV3IG9yZ2FuaXphdGlvblxuICogQHJldHVybnMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIHVzZXJPcmcgcmVjb3JkIGFuZCBhbnkgZXJyb3IgbWVzc2FnZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2V0dXBVc2VyT3JnYW5pemF0aW9uKFxuICB1c2VySWQ6IHN0cmluZyxcbiAgb3B0aW9uczoge1xuICAgIHVzZURlZmF1bHRPcmc/OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgIGNyZWF0ZU5ld09yZz86IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgb3JnSWQ/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgb3JnTmFtZT86IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBvcmdUeXBlPzogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIHJvbGU/OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIH0gPSB7fSxcbik6IFByb21pc2U8eyB1c2VyT3JnOiBhbnkgfCBudWxsOyBlcnJvcj86IHN0cmluZyB8IHVuZGVmaW5lZCB9PiB7XG4gIHRyeSB7XG4gICAgLy8gRm9yIG5vbi1wcm9kdWN0aW9uIGVudmlyb25tZW50cywgY3JlYXRlIGEgbW9jayBvcmdhbml6YXRpb24gY29ubmVjdGlvblxuICAgIC8vIFRoaXMgaGVscHMgYnlwYXNzIGRhdGFiYXNlIGVycm9ycyBpbiBzdGFnaW5nIGVudmlyb25tZW50c1xuICAgIGNvbnN0IGlzTm9uUHJvZHVjdGlvbiA9XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgfHxcbiAgICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1ZFUkNFTF9FTlYgPT09IFwicHJldmlld1wiIHx8XG4gICAgICBwcm9jZXNzLmVudi5WRVJDRUxfRU5WID09PSBcInByZXZpZXdcIjtcblxuICAgIC8vIEdlbmVyYXRlIGRlZmF1bHQgb3JnYW5pemF0aW9uIElEIGZvciBzaW11bGF0ZWQgcmVzcG9uc2VzXG4gICAgY29uc3QgZGVmYXVsdE9yZ0lkID0gXCIwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDFcIjtcblxuICAgIC8vIElmIGluIG5vbi1wcm9kdWN0aW9uIGVudmlyb25tZW50LCBwcm92aWRlIHNpbXVsYXRlZCBvcmdhbml6YXRpb24gYXNzaWdubWVudFxuICAgIGlmIChpc05vblByb2R1Y3Rpb24pIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIltBdXRoIFNlcnZpY2VdIFVzaW5nIHNpbXVsYXRlZCBvcmdhbml6YXRpb24gc2V0dXAgaW4gbm9uLXByb2R1Y3Rpb24gZW52aXJvbm1lbnRcIixcbiAgICAgICk7XG5cbiAgICAgIC8vIENyZWF0ZSBhIHNpbXVsYXRlZCB1c2VyT3JnIG9iamVjdFxuICAgICAgY29uc3QgbW9ja1VzZXJPcmcgPSB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgb3JnYW5pemF0aW9uX2lkOiBvcHRpb25zLm9yZ0lkIHx8IGRlZmF1bHRPcmdJZCxcbiAgICAgICAgcm9sZTogb3B0aW9ucy5yb2xlIHx8IFwiYnJhbmRfYWdlbnRcIixcbiAgICAgICAgaXNfZGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7IHVzZXJPcmc6IG1vY2tVc2VyT3JnIH07XG4gICAgfVxuXG4gICAgLy8gQ29udGludWUgd2l0aCBub3JtYWwgcHJvY2Vzc2luZyBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHNcbiAgICBsZXQgb3JnYW5pemF0aW9uSWQgPSBvcHRpb25zLm9yZ0lkO1xuICAgIGxldCB1c2VyT3JnID0gbnVsbDtcbiAgICBsZXQgZXJyb3JNZXNzYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBzdXBlcl9hZG1pbiByb2xlIC0gYWx3YXlzIGVuc3VyZSB0aGV5J3JlIHBhcnQgb2YgUmlzaGkgSW50ZXJuYWxcbiAgICBjb25zdCBpc1N1cGVyQWRtaW4gPSBvcHRpb25zLnJvbGUgPT09IFwic3VwZXJfYWRtaW5cIjtcblxuICAgIC8vIElmIHVzZXIgaXMgYSBzdXBlcl9hZG1pbiwgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhleSBhcmUgYXNzaWduZWQgdG8gdGhlIFJpc2hpIEludGVybmFsIG9yZ1xuICAgIGlmIChpc1N1cGVyQWRtaW4pIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIltBdXRoIFNlcnZpY2VdIFVzZXIgaGFzIHN1cGVyX2FkbWluIHJvbGUsIGVuc3VyaW5nIGFzc2lnbm1lbnQgdG8gUmlzaGkgSW50ZXJuYWwgb3JnYW5pemF0aW9uXCIsXG4gICAgICApO1xuXG4gICAgICAvLyBGaW5kIHRoZSBSaXNoaSBJbnRlcm5hbCBvcmdhbml6YXRpb25cbiAgICAgIGNvbnN0IHJpc2hpSW50ZXJuYWxPcmcgPSBhd2FpdCBkYk1hbmFnZXIuZXhlY3V0ZVF1ZXJ5KFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGIgPSBkYk1hbmFnZXIuZ2V0RGF0YWJhc2UoKTtcbiAgICAgICAgICBjb25zdCBbb3JnXSA9IGF3YWl0IGRiXG4gICAgICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgICAgIC5mcm9tKHNjaGVtYS5vcmdhbml6YXRpb25zKVxuICAgICAgICAgICAgLndoZXJlKGVxKHNjaGVtYS5vcmdhbml6YXRpb25zLnR5cGUsIFwiaW50ZXJuYWxcIikpXG4gICAgICAgICAgICAubGltaXQoMSk7XG4gICAgICAgICAgcmV0dXJuIG9yZztcbiAgICAgICAgfSxcbiAgICAgICAgYGZpbmRSaXNoaUludGVybmFsT3JnKClgXG4gICAgICApO1xuXG4gICAgICBpZiAocmlzaGlJbnRlcm5hbE9yZykge1xuICAgICAgICAvLyBBc3NpZ24gdGhlIHVzZXIgdG8gUmlzaGkgSW50ZXJuYWwgYXMgcHJpbWFyeSBvcmdhbml6YXRpb25cbiAgICAgICAgdXNlck9yZyA9IGF3YWl0IGFzc2lnblVzZXJUb09yZ2FuaXphdGlvbihcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgcmlzaGlJbnRlcm5hbE9yZy5pZCxcbiAgICAgICAgICBcInN1cGVyX2FkbWluXCIsXG4gICAgICAgICAgdHJ1ZSwgLy8gaXMgcHJpbWFyeVxuICAgICAgICApO1xuXG4gICAgICAgIGlmICghdXNlck9yZykge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBGYWlsZWQgdG8gYXNzaWduIHN1cGVyX2FkbWluIHVzZXIgdG8gUmlzaGkgSW50ZXJuYWwgb3JnYW5pemF0aW9uICgke3Jpc2hpSW50ZXJuYWxPcmcuaWR9KWA7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlck9yZzogbnVsbCwgZXJyb3I6IGVycm9yTWVzc2FnZSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUncyBhbHNvIGEgc3BlY2lmaWMgb3JnYW5pemF0aW9uIHJlcXVlc3RlZCwgYWRkIHRoYXQgYXMgYSBzZWNvbmRhcnkgb3JnYW5pemF0aW9uXG4gICAgICAgIGlmIChvcmdhbml6YXRpb25JZCAmJiBvcmdhbml6YXRpb25JZCAhPT0gcmlzaGlJbnRlcm5hbE9yZy5pZCkge1xuICAgICAgICAgIGNvbnN0IHNlY29uZGFyeU9yZyA9IGF3YWl0IGdldE9yZ2FuaXphdGlvbkJ5SWQob3JnYW5pemF0aW9uSWQpO1xuICAgICAgICAgIGlmIChzZWNvbmRhcnlPcmcpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZGFyeVVzZXJPcmcgPSBhd2FpdCBhc3NpZ25Vc2VyVG9Pcmdhbml6YXRpb24oXG4gICAgICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgICAgIFwic3VwZXJfYWRtaW5cIixcbiAgICAgICAgICAgICAgZmFsc2UsIC8vIG5vdCBwcmltYXJ5XG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoIXNlY29uZGFyeVVzZXJPcmcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIGBbQXV0aCBTZXJ2aWNlXSBGYWlsZWQgdG8gYXNzaWduIHN1cGVyX2FkbWluIHVzZXIgdG8gc2Vjb25kYXJ5IG9yZ2FuaXphdGlvbiAke29yZ2FuaXphdGlvbklkfSwgYnV0IGNvbnRpbnVpbmcgd2l0aCBSaXNoaSBJbnRlcm5hbCBhc3NpZ25tZW50YCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdXBlciBhZG1pbiBoYXMgYmVlbiBhc3NpZ25lZCB0byBSaXNoaSBJbnRlcm5hbCwgcmV0dXJuIHN1Y2Nlc3NcbiAgICAgICAgLy8gUmV0dXJuIHdpdGhvdXQgZXJyb3IgcHJvcGVydHkgd2hlbiB0aGVyZSdzIG5vIGVycm9yXG4gICAgICAgIGlmICh1c2VyT3JnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdXNlck9yZyB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IHVzZXJPcmc6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgICBcIlJpc2hpIEludGVybmFsIG9yZ2FuaXphdGlvbiBub3QgZm91bmQuIFN1cGVyIGFkbWlucyBtdXN0IGJlIGFzc2lnbmVkIHRvIHRoaXMgb3JnYW5pemF0aW9uLlwiO1xuICAgICAgICByZXR1cm4geyB1c2VyT3JnOiBudWxsLCBlcnJvcjogZXJyb3JNZXNzYWdlIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RhbmRhcmQgb3JnYW5pemF0aW9uIGFzc2lnbm1lbnQgZm9yIG5vbi1zdXBlcl9hZG1pbiB1c2Vyc1xuICAgIC8vIElmIHdlIGhhdmUgYSBzcGVjaWZpYyBvcmdJZCwgdHJ5IHRvIHVzZSB0aGF0XG4gICAgaWYgKG9yZ2FuaXphdGlvbklkKSB7XG4gICAgICBjb25zdCBvcmdhbml6YXRpb24gPSBhd2FpdCBnZXRPcmdhbml6YXRpb25CeUlkKG9yZ2FuaXphdGlvbklkKTtcbiAgICAgIGlmIChvcmdhbml6YXRpb24pIHtcbiAgICAgICAgdXNlck9yZyA9IGF3YWl0IGFzc2lnblVzZXJUb09yZ2FuaXphdGlvbihcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgb3JnYW5pemF0aW9uSWQsXG4gICAgICAgICAgb3B0aW9ucy5yb2xlIHx8IFwidXNlclwiLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCF1c2VyT3JnKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEZhaWxlZCB0byBhc3NpZ24gdXNlciB0byBvcmdhbml6YXRpb24gd2l0aCBJRCAke29yZ2FuaXphdGlvbklkfWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IGBPcmdhbml6YXRpb24gd2l0aCBJRCAke29yZ2FuaXphdGlvbklkfSBub3QgZm91bmRgO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgZGVmYXVsdCBvcmcgaWYgc3BlY2lmaWVkXG4gICAgZWxzZSBpZiAob3B0aW9ucy51c2VEZWZhdWx0T3JnKSB7XG4gICAgICBjb25zdCBkZWZhdWx0T3JnID0gYXdhaXQgZ2V0RGVmYXVsdE9yZ2FuaXphdGlvbigpO1xuICAgICAgaWYgKGRlZmF1bHRPcmcpIHtcbiAgICAgICAgdXNlck9yZyA9IGF3YWl0IGFzc2lnblVzZXJUb09yZ2FuaXphdGlvbihcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgZGVmYXVsdE9yZy5pZCxcbiAgICAgICAgICBvcHRpb25zLnJvbGUgfHwgXCJ1c2VyXCIsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXVzZXJPcmcpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgRmFpbGVkIHRvIGFzc2lnbiB1c2VyIHRvIGRlZmF1bHQgb3JnYW5pemF0aW9uICgke2RlZmF1bHRPcmcuaWR9KWA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiRGVmYXVsdCBvcmdhbml6YXRpb24gbm90IGZvdW5kXCI7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE9yIGNyZWF0ZSBhIG5ldyBvcmcgaWYgc3BlY2lmaWVkXG4gICAgZWxzZSBpZiAob3B0aW9ucy5jcmVhdGVOZXdPcmcgJiYgb3B0aW9ucy5vcmdOYW1lKSB7XG4gICAgICBjb25zdCBuZXdPcmcgPSBhd2FpdCBjcmVhdGVPcmdhbml6YXRpb24oe1xuICAgICAgICBuYW1lOiBvcHRpb25zLm9yZ05hbWUsXG4gICAgICAgIHR5cGU6IG9wdGlvbnMub3JnVHlwZSB8fCBcImNsaWVudFwiLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChuZXdPcmcpIHtcbiAgICAgICAgdXNlck9yZyA9IGF3YWl0IGFzc2lnblVzZXJUb09yZ2FuaXphdGlvbihcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgbmV3T3JnLmlkLFxuICAgICAgICAgIG9wdGlvbnMucm9sZSB8fCBcImFkbWluXCIsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoIXVzZXJPcmcpIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgRmFpbGVkIHRvIGFzc2lnbiB1c2VyIHRvIG5ld2x5IGNyZWF0ZWQgb3JnYW5pemF0aW9uICgke25ld09yZy5pZH0pYDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gYEZhaWxlZCB0byBjcmVhdGUgbmV3IG9yZ2FuaXphdGlvbiB3aXRoIG5hbWUgJHtvcHRpb25zLm9yZ05hbWV9YDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVmYXVsdCB0byBicmFuZF9hZ2VudCByb2xlIGlmIG5vdGhpbmcgZWxzZSBzcGVjaWZpZWRcbiAgICAgIC8vIEZpbmQgb3IgY3JlYXRlIGEgZGVmYXVsdCBvcmdhbml6YXRpb24gZm9yIGJyYW5kIGFnZW50c1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9yZyA9IGF3YWl0IGdldERlZmF1bHRPcmdhbml6YXRpb24oKTtcbiAgICAgICAgaWYgKGRlZmF1bHRPcmcpIHtcbiAgICAgICAgICB1c2VyT3JnID0gYXdhaXQgYXNzaWduVXNlclRvT3JnYW5pemF0aW9uKFxuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgZGVmYXVsdE9yZy5pZCxcbiAgICAgICAgICAgIG9wdGlvbnMucm9sZSB8fCBcImJyYW5kX2FnZW50XCIsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoIXVzZXJPcmcpIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBGYWlsZWQgdG8gYXNzaWduIHVzZXIgdG8gZGVmYXVsdCBvcmdhbml6YXRpb24gYXMgYnJhbmQgYWdlbnRgO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIk5vIHN1aXRhYmxlIG9yZ2FuaXphdGlvbiBmb3VuZCBmb3IgdXNlciBhc3NpZ25tZW50XCI7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIltBdXRoIFNlcnZpY2VdIEVycm9yIGZpbmRpbmcgZGVmYXVsdCBvcmdhbml6YXRpb246XCIsXG4gICAgICAgICAgZGJFcnJvcixcbiAgICAgICAgKTtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJEYXRhYmFzZSBlcnJvciB3aGlsZSBmaW5kaW5nIG9yZ2FuaXphdGlvblwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHVzZXJPcmcsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbQXV0aCBTZXJ2aWNlXSBFcnJvciBzZXR0aW5nIHVwIHVzZXIgb3JnYW5pemF0aW9uOlwiLCBlcnJvcik7XG5cbiAgICAvLyBNb3JlIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBmb3IgZGF0YWJhc2UgY29ubmVjdGlvbiBpc3N1ZXNcbiAgICBpZiAoXG4gICAgICBtZXNzYWdlLmluY2x1ZGVzKFwicGFzc3dvcmQgYXV0aGVudGljYXRpb25cIikgfHxcbiAgICAgIG1lc3NhZ2UuaW5jbHVkZXMoXCJuZW9uZGJfb3duZXJcIilcbiAgICApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZXJPcmc6IG51bGwsXG4gICAgICAgIGVycm9yOlxuICAgICAgICAgIFwiVGhlIHJlZ2lzdHJhdGlvbiBzZXJ2aWNlIGlzIGV4cGVyaWVuY2luZyBkYXRhYmFzZSBhdXRoZW50aWNhdGlvbiBpc3N1ZXNcIixcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJPcmc6IG51bGwsXG4gICAgICBlcnJvcjogXCJEYXRhYmFzZSBlcnJvciBvY2N1cnJlZCB3aGlsZSBzZXR0aW5nIHVwIG9yZ2FuaXphdGlvblwiLFxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgb3JnYW5pemF0aW9ucyBmb3IgYSB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyT3JnYW5pemF0aW9ucyh1c2VySWQ6IHN0cmluZykge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYk1hbmFnZXIuZXhlY3V0ZVF1ZXJ5KFxuICAgIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiID0gZGJNYW5hZ2VyLmdldERhdGFiYXNlKCk7XG4gICAgICBjb25zdCB1c2VyT3JncyA9IGF3YWl0IGRiXG4gICAgICAgIC5zZWxlY3Qoe1xuICAgICAgICAgIG9yZ0lkOiBzY2hlbWEub3JnYW5pemF0aW9ucy5pZCxcbiAgICAgICAgICBvcmdOYW1lOiBzY2hlbWEub3JnYW5pemF0aW9ucy5uYW1lLFxuICAgICAgICAgIG9yZ1R5cGU6IHNjaGVtYS5vcmdhbml6YXRpb25zLnR5cGUsXG4gICAgICAgICAgcm9sZTogc2NoZW1hLnVzZXJPcmdhbml6YXRpb25zLnJvbGUsXG4gICAgICAgICAgaXNQcmltYXJ5OiBzY2hlbWEudXNlck9yZ2FuaXphdGlvbnMuaXNfZGVmYXVsdCxcbiAgICAgICAgfSlcbiAgICAgICAgLmZyb20oc2NoZW1hLnVzZXJPcmdhbml6YXRpb25zKVxuICAgICAgICAuaW5uZXJKb2luKFxuICAgICAgICAgIHNjaGVtYS5vcmdhbml6YXRpb25zLFxuICAgICAgICAgIGVxKHNjaGVtYS51c2VyT3JnYW5pemF0aW9ucy5vcmdhbml6YXRpb25faWQsIHNjaGVtYS5vcmdhbml6YXRpb25zLmlkKSxcbiAgICAgICAgKVxuICAgICAgICAud2hlcmUoZXEoc2NoZW1hLnVzZXJPcmdhbml6YXRpb25zLnVzZXJfaWQsIHVzZXJJZCkpO1xuXG4gICAgICByZXR1cm4gdXNlck9yZ3MgfHwgW107XG4gICAgfSxcbiAgICBgZ2V0VXNlck9yZ2FuaXphdGlvbnMoJHt1c2VySWR9KWBcbiAgKTtcblxuICByZXR1cm4gcmVzdWx0IHx8IFtdO1xufVxuXG4vKipcbiAqIEdldCB1c2VyIHBlcm1pc3Npb25zXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyUGVybWlzc2lvbnMoXG4gIHVzZXJJZDogc3RyaW5nLFxuICBvcmdhbml6YXRpb25JZD86IHN0cmluZyxcbikge1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYk1hbmFnZXIuZXhlY3V0ZVF1ZXJ5KFxuICAgIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRiID0gZGJNYW5hZ2VyLmdldERhdGFiYXNlKCk7XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIHF1ZXJ5IGNvbmRpdGlvbnNcbiAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSBbZXEoc2NoZW1hLnVzZXJPcmdhbml6YXRpb25zLnVzZXJfaWQsIHVzZXJJZCldO1xuXG4gICAgICAvLyBBZGQgb3JnYW5pemF0aW9uIGZpbHRlciBpZiBwcm92aWRlZFxuICAgICAgaWYgKG9yZ2FuaXphdGlvbklkKSB7XG4gICAgICAgIGNvbmRpdGlvbnMucHVzaChcbiAgICAgICAgICBlcShzY2hlbWEudXNlck9yZ2FuaXphdGlvbnMub3JnYW5pemF0aW9uX2lkLCBvcmdhbml6YXRpb25JZCksXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB1c2VyJ3Mgcm9sZSBmcm9tIHVzZXJPcmdhbml6YXRpb25zIHRhYmxlXG4gICAgICBjb25zdCByb2xlUmVzdWx0ID0gYXdhaXQgZGJcbiAgICAgICAgLnNlbGVjdCh7XG4gICAgICAgICAgcm9sZTogc2NoZW1hLnVzZXJPcmdhbml6YXRpb25zLnJvbGUsXG4gICAgICAgIH0pXG4gICAgICAgIC5mcm9tKHNjaGVtYS51c2VyT3JnYW5pemF0aW9ucylcbiAgICAgICAgLndoZXJlKGFuZCguLi5jb25kaXRpb25zKSlcbiAgICAgICAgLmxpbWl0KDEpO1xuXG4gICAgICAvLyBJZiBubyByb2xlIGZvdW5kLCByZXR1cm4gZW1wdHkgcGVybWlzc2lvbnNcbiAgICAgIGlmICghcm9sZVJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyUm9sZSA9IHJvbGVSZXN1bHRbMF0ucm9sZTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHBlcm1pc3Npb25zIGZvciB0aGlzIHJvbGUgZnJvbSB0aGUgcm9sZVBlcm1pc3Npb25zIGNvbnN0YW50XG4gICAgICBjb25zdCBwZXJtaXNzaW9ucyA9IHNjaGVtYS5yb2xlUGVybWlzc2lvbnNbdXNlclJvbGUgYXMga2V5b2YgdHlwZW9mIHNjaGVtYS5yb2xlUGVybWlzc2lvbnNdIHx8IFtdO1xuICAgICAgXG4gICAgICByZXR1cm4gcGVybWlzc2lvbnM7XG4gICAgfSxcbiAgICBgZ2V0VXNlclBlcm1pc3Npb25zKCR7dXNlcklkfSwgJHtvcmdhbml6YXRpb25JZH0pYFxuICApO1xuXG4gIHJldHVybiByZXN1bHQgfHwgW107XG59XG4iXSwibmFtZXMiOlsiZGJNYW5hZ2VyIiwiZXEiLCJhbmQiLCJzY2hlbWEiLCJ2NCIsInV1aWR2NCIsImdldFVzZXJCeUlkIiwiaWQiLCJyZXN1bHQiLCJleGVjdXRlUXVlcnkiLCJkYiIsImdldERhdGFiYXNlIiwidXNlciIsInNlbGVjdCIsImZyb20iLCJ1c2VycyIsIndoZXJlIiwiY29uc29sZSIsImxvZyIsInVzZXJuYW1lIiwicm9sZSIsImVycm9yIiwiZ2V0VXNlckJ5VXNlcm5hbWUiLCJvcHRpb25zIiwiYWN0aXZlIiwicGFzc3dvcmQiLCJPYmplY3QiLCJrZXlzIiwiam9pbiIsImNoZWNrT25seSIsImdldFVzZXJCeUVtYWlsIiwiZW1haWwiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJuZXdVc2VyIiwiaW5zZXJ0IiwidmFsdWVzIiwicmV0dXJuaW5nIiwiZGJFcnJvciIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsImluY2x1ZGVzIiwiZ2V0T3JnYW5pemF0aW9uQnlJZCIsIm9yZ0lkIiwib3JnYW5pemF0aW9uIiwib3JnIiwib3JnYW5pemF0aW9ucyIsImdldEFsbE9yZ2FuaXphdGlvbnMiLCJnZXREZWZhdWx0T3JnYW5pemF0aW9uIiwidHlwZSIsImxpbWl0IiwiZmlyc3RPcmciLCJjcmVhdGVPcmdhbml6YXRpb24iLCJvcmdEYXRhIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ1cGRhdGVkX2F0IiwibmFtZSIsImFzc2lnblVzZXJUb09yZ2FuaXphdGlvbiIsInVzZXJJZCIsIm9yZ2FuaXphdGlvbklkIiwiaXNQcmltYXJ5IiwidXNlck9yZyIsImFzc2lnbm1lbnQiLCJ1c2VyT3JnYW5pemF0aW9ucyIsInVzZXJfaWQiLCJvcmdhbml6YXRpb25faWQiLCJpc19kZWZhdWx0Iiwic2V0dXBVc2VyT3JnYW5pemF0aW9uIiwiaXNOb25Qcm9kdWN0aW9uIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1ZFUkNFTF9FTlYiLCJWRVJDRUxfRU5WIiwiZGVmYXVsdE9yZ0lkIiwibW9ja1VzZXJPcmciLCJ1bmRlZmluZWQiLCJpc1N1cGVyQWRtaW4iLCJyaXNoaUludGVybmFsT3JnIiwic2Vjb25kYXJ5T3JnIiwic2Vjb25kYXJ5VXNlck9yZyIsIndhcm4iLCJ1c2VEZWZhdWx0T3JnIiwiZGVmYXVsdE9yZyIsImNyZWF0ZU5ld09yZyIsIm9yZ05hbWUiLCJuZXdPcmciLCJvcmdUeXBlIiwiZ2V0VXNlck9yZ2FuaXphdGlvbnMiLCJ1c2VyT3JncyIsImlubmVySm9pbiIsImdldFVzZXJQZXJtaXNzaW9ucyIsImNvbmRpdGlvbnMiLCJwdXNoIiwicm9sZVJlc3VsdCIsImxlbmd0aCIsInVzZXJSb2xlIiwicGVybWlzc2lvbnMiLCJyb2xlUGVybWlzc2lvbnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth-service/models/user-repository.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/auth-service/session/route.ts":
/*!***********************************************!*\
  !*** ./app/api/auth-service/session/route.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var _utils_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/response */ \"(rsc)/./app/api/auth-service/utils/response.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"(rsc)/./app/api/auth-service/config.ts\");\n/* harmony import */ var _models_user_repository__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/user-repository */ \"(rsc)/./app/api/auth-service/models/user-repository.ts\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_models_user_repository__WEBPACK_IMPORTED_MODULE_2__]);\n_models_user_repository__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nconst dynamic = \"force-static\";\nconst revalidate = false;\n\n\n\n\n/**\n * GET /api/auth-service/session\n * Get current session information\n */ async function GET(request) {\n    try {\n        console.log(\"[Auth Service] Session request received\");\n        // Get the auth token from cookies (check both cookie names for compatibility)\n        const authToken = request.cookies.get(_config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.COOKIE_NAME) || request.cookies.get(\"auth-token\");\n        if (!authToken) {\n            console.log(\"[Auth Service] No auth token found in cookies\");\n            return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n                user: null\n            }, 200);\n        }\n        // Verify the token using the same method as login\n        let payload;\n        try {\n            payload = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__.verify(authToken.value, process.env.JWT_SECRET);\n        } catch (error) {\n            console.log(\"[Auth Service] Invalid token:\", error);\n            return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n                user: null\n            }, 200);\n        }\n        if (!payload || !payload.id) {\n            console.log(\"[Auth Service] Invalid token payload\");\n            return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n                user: null\n            }, 200);\n        }\n        // Get user from database (id is the user ID)\n        const user = await (0,_models_user_repository__WEBPACK_IMPORTED_MODULE_2__.getUserById)(payload.id);\n        if (!user) {\n            console.log(\"[Auth Service] User not found for token\");\n            return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n                user: null\n            }, 200);\n        }\n        // Create session user object (similar to login endpoint)\n        const sessionUser = {\n            id: user.id,\n            username: user.username,\n            email: user.email || null,\n            fullName: user.fullName || null,\n            role: user.role || \"brand_agent\",\n            active: Boolean(user.active !== false),\n            organizations: [\n                {\n                    orgId: \"ec83b1b1-af6e-4465-806e-8d51a1449e86\",\n                    orgName: \"Rishi Internal\",\n                    orgType: \"internal\",\n                    role: user.role,\n                    isPrimary: true\n                }\n            ],\n            currentOrganization: {\n                orgId: \"ec83b1b1-af6e-4465-806e-8d51a1449e86\",\n                orgName: \"Rishi Internal\",\n                orgType: \"internal\",\n                role: user.role,\n                isPrimary: true\n            }\n        };\n        console.log(\"[Auth Service] Session found for user:\", user.username, \"role:\", user.role);\n        return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n            user: sessionUser\n        }, 200);\n    } catch (error) {\n        console.error(\"[Auth Service] Session check error:\", error);\n        return (0,_utils_response__WEBPACK_IMPORTED_MODULE_0__.successResponse)({\n            user: null\n        }, 200);\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgtc2VydmljZS9zZXNzaW9uL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRU8sTUFBTUEsVUFBVSxlQUFlO0FBQy9CLE1BQU1DLGFBQWEsTUFBTTtBQUVtQztBQUMzQjtBQUNnQjtBQUNwQjtBQUVwQzs7O0NBR0MsR0FDTSxlQUFlSyxJQUFJQyxPQUFvQjtJQUM1QyxJQUFJO1FBQ0ZDLFFBQVFDLEdBQUcsQ0FBQztRQUVaLDhFQUE4RTtRQUM5RSxNQUFNQyxZQUFZSCxRQUFRSSxPQUFPLENBQUNDLEdBQUcsQ0FBQ1QsZ0RBQVdBLENBQUNVLFdBQVcsS0FBS04sUUFBUUksT0FBTyxDQUFDQyxHQUFHLENBQUM7UUFFdEYsSUFBSSxDQUFDRixXQUFXO1lBQ2RGLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU9QLGdFQUFlQSxDQUFDO2dCQUFFWSxNQUFNO1lBQUssR0FBRztRQUN6QztRQUVBLGtEQUFrRDtRQUNsRCxJQUFJQztRQUNKLElBQUk7WUFDRkEsVUFBVVYsZ0RBQVUsQ0FBQ0ssVUFBVU8sS0FBSyxFQUFFQyxRQUFRQyxHQUFHLENBQUNDLFVBQVU7UUFDOUQsRUFBRSxPQUFPQyxPQUFPO1lBQ2RiLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNZO1lBQzdDLE9BQU9uQixnRUFBZUEsQ0FBQztnQkFBRVksTUFBTTtZQUFLLEdBQUc7UUFDekM7UUFFQSxJQUFJLENBQUNDLFdBQVcsQ0FBQ0EsUUFBUU8sRUFBRSxFQUFFO1lBQzNCZCxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPUCxnRUFBZUEsQ0FBQztnQkFBRVksTUFBTTtZQUFLLEdBQUc7UUFDekM7UUFFQSw2Q0FBNkM7UUFDN0MsTUFBTUEsT0FBTyxNQUFNVixvRUFBV0EsQ0FBQ1csUUFBUU8sRUFBRTtRQUV6QyxJQUFJLENBQUNSLE1BQU07WUFDVE4sUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBT1AsZ0VBQWVBLENBQUM7Z0JBQUVZLE1BQU07WUFBSyxHQUFHO1FBQ3pDO1FBRUEseURBQXlEO1FBQ3pELE1BQU1TLGNBQWM7WUFDbEJELElBQUlSLEtBQUtRLEVBQUU7WUFDWEUsVUFBVVYsS0FBS1UsUUFBUTtZQUN2QkMsT0FBT1gsS0FBS1csS0FBSyxJQUFJO1lBQ3JCQyxVQUFVWixLQUFLWSxRQUFRLElBQUk7WUFDM0JDLE1BQU1iLEtBQUthLElBQUksSUFBSTtZQUNuQkMsUUFBUUMsUUFBUWYsS0FBS2MsTUFBTSxLQUFLO1lBQ2hDRSxlQUFlO2dCQUNiO29CQUNFQyxPQUFPO29CQUNQQyxTQUFTO29CQUNUQyxTQUFTO29CQUNUTixNQUFNYixLQUFLYSxJQUFJO29CQUNmTyxXQUFXO2dCQUNiO2FBQ0Q7WUFDREMscUJBQXFCO2dCQUNuQkosT0FBTztnQkFDUEMsU0FBUztnQkFDVEMsU0FBUztnQkFDVE4sTUFBTWIsS0FBS2EsSUFBSTtnQkFDZk8sV0FBVztZQUNiO1FBQ0Y7UUFFQTFCLFFBQVFDLEdBQUcsQ0FBQywwQ0FBMENLLEtBQUtVLFFBQVEsRUFBRSxTQUFTVixLQUFLYSxJQUFJO1FBRXZGLE9BQU96QixnRUFBZUEsQ0FBQztZQUFFWSxNQUFNUztRQUFZLEdBQUc7SUFDaEQsRUFBRSxPQUFPRixPQUFPO1FBQ2RiLFFBQVFhLEtBQUssQ0FBQyx1Q0FBdUNBO1FBQ3JELE9BQU9uQixnRUFBZUEsQ0FBQztZQUFFWSxNQUFNO1FBQUssR0FBRztJQUN6QztBQUNGIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2FwcC9hcGkvYXV0aC1zZXJ2aWNlL3Nlc3Npb24vcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG5leHBvcnQgY29uc3QgZHluYW1pYyA9IFwiZm9yY2Utc3RhdGljXCI7XG5leHBvcnQgY29uc3QgcmV2YWxpZGF0ZSA9IGZhbHNlO1xuXG5pbXBvcnQgeyBzdWNjZXNzUmVzcG9uc2UsIGVycm9yUmVzcG9uc2UgfSBmcm9tIFwiLi4vdXRpbHMvcmVzcG9uc2VcIjtcbmltcG9ydCB7IEFVVEhfQ09ORklHIH0gZnJvbSBcIi4uL2NvbmZpZ1wiO1xuaW1wb3J0IHsgZ2V0VXNlckJ5SWQgfSBmcm9tIFwiLi4vbW9kZWxzL3VzZXItcmVwb3NpdG9yeVwiO1xuaW1wb3J0ICogYXMgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuLyoqXG4gKiBHRVQgL2FwaS9hdXRoLXNlcnZpY2Uvc2Vzc2lvblxuICogR2V0IGN1cnJlbnQgc2Vzc2lvbiBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJbQXV0aCBTZXJ2aWNlXSBTZXNzaW9uIHJlcXVlc3QgcmVjZWl2ZWRcIik7XG5cbiAgICAvLyBHZXQgdGhlIGF1dGggdG9rZW4gZnJvbSBjb29raWVzIChjaGVjayBib3RoIGNvb2tpZSBuYW1lcyBmb3IgY29tcGF0aWJpbGl0eSlcbiAgICBjb25zdCBhdXRoVG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KEFVVEhfQ09ORklHLkNPT0tJRV9OQU1FKSB8fCByZXF1ZXN0LmNvb2tpZXMuZ2V0KFwiYXV0aC10b2tlblwiKTtcbiAgICBcbiAgICBpZiAoIWF1dGhUb2tlbikge1xuICAgICAgY29uc29sZS5sb2coXCJbQXV0aCBTZXJ2aWNlXSBObyBhdXRoIHRva2VuIGZvdW5kIGluIGNvb2tpZXNcIik7XG4gICAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKHsgdXNlcjogbnVsbCB9LCAyMDApO1xuICAgIH1cblxuICAgIC8vIFZlcmlmeSB0aGUgdG9rZW4gdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGFzIGxvZ2luXG4gICAgbGV0IHBheWxvYWQ7XG4gICAgdHJ5IHtcbiAgICAgIHBheWxvYWQgPSBqd3QudmVyaWZ5KGF1dGhUb2tlbi52YWx1ZSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCEpIGFzIHsgaWQ6IHN0cmluZywgdXNlcm5hbWU6IHN0cmluZyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltBdXRoIFNlcnZpY2VdIEludmFsaWQgdG9rZW46XCIsIGVycm9yKTtcbiAgICAgIHJldHVybiBzdWNjZXNzUmVzcG9uc2UoeyB1c2VyOiBudWxsIH0sIDIwMCk7XG4gICAgfVxuICAgIFxuICAgIGlmICghcGF5bG9hZCB8fCAhcGF5bG9hZC5pZCkge1xuICAgICAgY29uc29sZS5sb2coXCJbQXV0aCBTZXJ2aWNlXSBJbnZhbGlkIHRva2VuIHBheWxvYWRcIik7XG4gICAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKHsgdXNlcjogbnVsbCB9LCAyMDApO1xuICAgIH1cblxuICAgIC8vIEdldCB1c2VyIGZyb20gZGF0YWJhc2UgKGlkIGlzIHRoZSB1c2VyIElEKVxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyQnlJZChwYXlsb2FkLmlkKTtcbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW0F1dGggU2VydmljZV0gVXNlciBub3QgZm91bmQgZm9yIHRva2VuXCIpO1xuICAgICAgcmV0dXJuIHN1Y2Nlc3NSZXNwb25zZSh7IHVzZXI6IG51bGwgfSwgMjAwKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgc2Vzc2lvbiB1c2VyIG9iamVjdCAoc2ltaWxhciB0byBsb2dpbiBlbmRwb2ludClcbiAgICBjb25zdCBzZXNzaW9uVXNlciA9IHtcbiAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCB8fCBudWxsLFxuICAgICAgZnVsbE5hbWU6IHVzZXIuZnVsbE5hbWUgfHwgbnVsbCxcbiAgICAgIHJvbGU6IHVzZXIucm9sZSB8fCBcImJyYW5kX2FnZW50XCIsXG4gICAgICBhY3RpdmU6IEJvb2xlYW4odXNlci5hY3RpdmUgIT09IGZhbHNlKSxcbiAgICAgIG9yZ2FuaXphdGlvbnM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG9yZ0lkOiBcImVjODNiMWIxLWFmNmUtNDQ2NS04MDZlLThkNTFhMTQ0OWU4NlwiLFxuICAgICAgICAgIG9yZ05hbWU6IFwiUmlzaGkgSW50ZXJuYWxcIixcbiAgICAgICAgICBvcmdUeXBlOiBcImludGVybmFsXCIsXG4gICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICAgIGlzUHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBjdXJyZW50T3JnYW5pemF0aW9uOiB7XG4gICAgICAgIG9yZ0lkOiBcImVjODNiMWIxLWFmNmUtNDQ2NS04MDZlLThkNTFhMTQ0OWU4NlwiLFxuICAgICAgICBvcmdOYW1lOiBcIlJpc2hpIEludGVybmFsXCIsXG4gICAgICAgIG9yZ1R5cGU6IFwiaW50ZXJuYWxcIixcbiAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICBpc1ByaW1hcnk6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhcIltBdXRoIFNlcnZpY2VdIFNlc3Npb24gZm91bmQgZm9yIHVzZXI6XCIsIHVzZXIudXNlcm5hbWUsIFwicm9sZTpcIiwgdXNlci5yb2xlKTtcblxuICAgIHJldHVybiBzdWNjZXNzUmVzcG9uc2UoeyB1c2VyOiBzZXNzaW9uVXNlciB9LCAyMDApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJbQXV0aCBTZXJ2aWNlXSBTZXNzaW9uIGNoZWNrIGVycm9yOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHN1Y2Nlc3NSZXNwb25zZSh7IHVzZXI6IG51bGwgfSwgMjAwKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJkeW5hbWljIiwicmV2YWxpZGF0ZSIsInN1Y2Nlc3NSZXNwb25zZSIsIkFVVEhfQ09ORklHIiwiZ2V0VXNlckJ5SWQiLCJqd3QiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsImF1dGhUb2tlbiIsImNvb2tpZXMiLCJnZXQiLCJDT09LSUVfTkFNRSIsInVzZXIiLCJwYXlsb2FkIiwidmVyaWZ5IiwidmFsdWUiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImVycm9yIiwiaWQiLCJzZXNzaW9uVXNlciIsInVzZXJuYW1lIiwiZW1haWwiLCJmdWxsTmFtZSIsInJvbGUiLCJhY3RpdmUiLCJCb29sZWFuIiwib3JnYW5pemF0aW9ucyIsIm9yZ0lkIiwib3JnTmFtZSIsIm9yZ1R5cGUiLCJpc1ByaW1hcnkiLCJjdXJyZW50T3JnYW5pemF0aW9uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth-service/session/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/auth-service/utils/db-connection.ts":
/*!*****************************************************!*\
  !*** ./app/api/auth-service/utils/db-connection.ts ***!
  \*****************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   dbManager: () => (/* binding */ dbManager),\n/* harmony export */   testConnection: () => (/* binding */ testConnection)\n/* harmony export */ });\n/* harmony import */ var _neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @neondatabase/serverless */ \"@neondatabase/serverless\");\n/* harmony import */ var drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/neon-http */ \"(rsc)/./node_modules/drizzle-orm/neon-http/driver.js\");\n/* harmony import */ var _shared_schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @shared/schema */ \"(rsc)/./shared/schema.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__]);\n([_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__, drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n/**\n * Robust Database Connection Handler for Authentication Service\n * Implements circuit breaker pattern and connection pooling\n */ \n\n\nclass DatabaseConnectionManager {\n    constructor(){\n        this.maxRetries = 3;\n        this.circuitBreakerThreshold = 5;\n        this.circuitBreakerTimeout = 30000; // 30 seconds\n        this.retryDelay = 1000; // 1 second\n        this.state = {\n            isHealthy: true,\n            lastFailureTime: 0,\n            consecutiveFailures: 0,\n            circuitBreakerOpen: false\n        };\n        this.initializeConnection();\n    }\n    initializeConnection() {\n        try {\n            console.log(\"[DB Manager] Initializing database connection...\");\n            // Environment detection\n            const environment = this.getEnvironment();\n            console.log(\"[DB Manager] Environment detection:\", {\n                NODE_ENV: \"development\",\n                VERCEL_ENV: process.env.VERCEL_ENV,\n                VERCEL: process.env.VERCEL,\n                DEPLOY_ENV: process.env.DEPLOY_ENV,\n                STAGING: process.env.STAGING,\n                REPLIT_DOMAINS: process.env.REPLIT_DOMAINS,\n                detectedEnvironment: environment\n            });\n            // Get appropriate database URL based on environment\n            const databaseUrl = this.getDatabaseUrl(environment);\n            console.log(`[DB Manager] Using ${environment} database: ${databaseUrl.substring(0, 50)}...`);\n            // Create neon connection with optimized settings\n            this.sql = (0,_neondatabase_serverless__WEBPACK_IMPORTED_MODULE_0__.neon)(databaseUrl, {\n                fullResults: true,\n                arrayMode: false\n            });\n            this.db = (0,drizzle_orm_neon_http__WEBPACK_IMPORTED_MODULE_2__.drizzle)(this.sql, {\n                schema: _shared_schema__WEBPACK_IMPORTED_MODULE_1__\n            });\n            // Validate database connection is properly created\n            if (!this.db) {\n                throw new Error(\"Database connection failed to initialize\");\n            }\n            console.log(\"[DB Manager] Database connection initialized successfully\");\n            this.handleConnectionSuccess();\n        } catch (error) {\n            console.error(\"[DB Manager] Failed to initialize database connection:\", error);\n            this.handleConnectionFailure();\n            // Re-throw to prevent undefined database usage\n            throw error;\n        }\n    }\n    getEnvironment() {\n        // CRITICAL ENVIRONMENT DETECTION FIX\n        // VERCEL = PRODUCTION, REPLIT AUTOSCALE = STAGING, REPLIT DEVELOPMENT = DEVELOPMENT\n        // Check if we're in Vercel production (PRODUCTION environment)\n        const isVercelProduction = process.env.VERCEL_ENV === \"production\" || process.env.VERCEL === \"1\";\n        // Check if we're in Replit Autoscale deployment (STAGING environment)\n        // Only consider it staging if it's actually a deployment, not development\n        const isReplitAutoscale = (process.env.REPLIT === \"1\" || process.env.REPLIT_DEPLOYMENT === \"1\") && \"development\" === \"production\";\n        // Check if we're explicitly in staging\n        const isStaging = process.env.DEPLOY_ENV === \"staging\" || process.env.STAGING === \"true\" || \"development\" === \"staging\" || isReplitAutoscale;\n        // Development environment check (includes Replit development mode)\n        const isDevelopment =  true || 0;\n        if (isVercelProduction) return \"production\";\n        if (isStaging) return \"staging\";\n        return \"development\";\n    }\n    getDatabaseUrl(environment) {\n        // CRITICAL SECURITY: Environment-specific database URLs - NO HARDCODED PRODUCTION\n        const databaseUrls = {\n            development: process.env.DATABASE_URL || process.env.DEV_DATABASE_URL,\n            staging: process.env.STAGING_DATABASE_URL || process.env.DATABASE_URL,\n            production: process.env.DATABASE_URL || process.env.PRODUCTION_DATABASE_URL\n        };\n        const databaseUrl = databaseUrls[environment];\n        if (!databaseUrl) {\n            throw new Error(`SECURITY: No database URL configured for ${environment} environment. DATABASE_URL must be set for production.`);\n        }\n        // Additional security check: Never allow production database access from non-production environments\n        if (environment === \"production\" && \"development\" !== \"production\") {\n            throw new Error(`SECURITY: Production database access attempted from non-production environment. NODE_ENV: ${\"development\"}`);\n        }\n        return databaseUrl;\n    }\n    handleConnectionFailure() {\n        this.state.consecutiveFailures++;\n        this.state.lastFailureTime = Date.now();\n        this.state.isHealthy = false;\n        if (this.state.consecutiveFailures >= this.circuitBreakerThreshold) {\n            this.state.circuitBreakerOpen = true;\n            console.log(\"[DB Manager] Circuit breaker opened due to consecutive failures\");\n        }\n    }\n    handleConnectionSuccess() {\n        this.state.consecutiveFailures = 0;\n        this.state.isHealthy = true;\n        this.state.circuitBreakerOpen = false;\n        console.log(\"[DB Manager] Connection restored successfully\");\n    }\n    isCircuitBreakerClosed() {\n        if (!this.state.circuitBreakerOpen) return true;\n        const timeSinceLastFailure = Date.now() - this.state.lastFailureTime;\n        if (timeSinceLastFailure > this.circuitBreakerTimeout) {\n            console.log(\"[DB Manager] Circuit breaker timeout reached, attempting to close\");\n            this.state.circuitBreakerOpen = false;\n            return true;\n        }\n        return false;\n    }\n    async executeQuery(operation, operationName) {\n        if (!this.isCircuitBreakerClosed()) {\n            console.log(`[DB Manager] Circuit breaker open, rejecting ${operationName}`);\n            return null;\n        }\n        for(let attempt = 1; attempt <= this.maxRetries; attempt++){\n            try {\n                console.log(`[DB Manager] Executing ${operationName} (attempt ${attempt}/${this.maxRetries})`);\n                const result = await operation();\n                this.handleConnectionSuccess();\n                console.log(`[DB Manager] ${operationName} completed successfully`);\n                return result;\n            } catch (error) {\n                console.error(`[DB Manager] ${operationName} failed (attempt ${attempt}/${this.maxRetries}):`, error);\n                console.error(`[DB Manager] Error details:`, {\n                    message: error instanceof Error ? error.message : 'Unknown error',\n                    code: error?.code || 'Unknown',\n                    stack: error instanceof Error ? error.stack : 'No stack trace'\n                });\n                if (attempt === this.maxRetries) {\n                    this.handleConnectionFailure();\n                    console.error(`[DB Manager] All retry attempts failed for ${operationName}`);\n                    return null;\n                }\n                // Wait before retrying with exponential backoff\n                await new Promise((resolve)=>setTimeout(resolve, this.retryDelay * attempt));\n            }\n        }\n        return null;\n    }\n    getDatabase() {\n        return this.db;\n    }\n    async testConnection() {\n        const result = await this.executeQuery(()=>this.sql`SELECT NOW() as current_time`, \"connection test\");\n        return result !== null;\n    }\n}\n// Create singleton instance\nconst dbManager = new DatabaseConnectionManager();\nconst db = dbManager.getDatabase();\n// Export test function\nconst testConnection = ()=>dbManager.testConnection();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgtc2VydmljZS91dGlscy9kYi1jb25uZWN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOzs7Q0FHQyxHQUUrQztBQUNBO0FBQ1A7QUFTekMsTUFBTUc7SUFTSixhQUFjO2FBTEdDLGFBQWE7YUFDYkMsMEJBQTBCO2FBQzFCQyx3QkFBd0IsT0FBTyxhQUFhO2FBQzVDQyxhQUFhLE1BQU0sV0FBVztRQUc3QyxJQUFJLENBQUNDLEtBQUssR0FBRztZQUNYQyxXQUFXO1lBQ1hDLGlCQUFpQjtZQUNqQkMscUJBQXFCO1lBQ3JCQyxvQkFBb0I7UUFDdEI7UUFFQSxJQUFJLENBQUNDLG9CQUFvQjtJQUMzQjtJQUVRQSx1QkFBdUI7UUFDN0IsSUFBSTtZQUNGQyxRQUFRQyxHQUFHLENBQUM7WUFFWix3QkFBd0I7WUFDeEIsTUFBTUMsY0FBYyxJQUFJLENBQUNDLGNBQWM7WUFDdkNILFFBQVFDLEdBQUcsQ0FBQyx1Q0FBdUM7Z0JBQ2pERyxVQXBCMkI7Z0JBcUIzQkMsWUFBWUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVO2dCQUNsQ0csUUFBUUYsUUFBUUMsR0FBRyxDQUFDQyxNQUFNO2dCQUMxQkMsWUFBWUgsUUFBUUMsR0FBRyxDQUFDRSxVQUFVO2dCQUNsQ0MsU0FBU0osUUFBUUMsR0FBRyxDQUFDRyxPQUFPO2dCQUM1QkMsZ0JBQWdCTCxRQUFRQyxHQUFHLENBQUNJLGNBQWM7Z0JBQzFDQyxxQkFBcUJWO1lBQ3ZCO1lBRUEsb0RBQW9EO1lBQ3BELE1BQU1XLGNBQWMsSUFBSSxDQUFDQyxjQUFjLENBQUNaO1lBQ3hDRixRQUFRQyxHQUFHLENBQUMsQ0FBQyxtQkFBbUIsRUFBRUMsWUFBWSxXQUFXLEVBQUVXLFlBQVlFLFNBQVMsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDO1lBRTVGLGlEQUFpRDtZQUNqRCxJQUFJLENBQUNDLEdBQUcsR0FBRzlCLDhEQUFJQSxDQUFDMkIsYUFBYTtnQkFDM0JJLGFBQWE7Z0JBQ2JDLFdB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M0MwQixTQUFTMUIsaUJBQWlCRixRQUFRRSxNQUFNMEIsT0FBTyxHQUFHO29CQUNsREMsTUFBTSxPQUFnQkEsUUFBUTtvQkFDOUJDLE9BQU81QixpQkFBaUJGLFFBQVFFLE1BQU00QixLQUFLLEdBQUc7Z0JBQ2hEO2dCQUVBLElBQUlKLFlBQVksSUFBSSxDQUFDeEQsVUFBVSxFQUFFO29CQUMvQixJQUFJLENBQUNpQyx1QkFBdUI7b0JBQzVCdkIsUUFBUXNCLEtBQUssQ0FBQyxDQUFDLDJDQUEyQyxFQUFFdUIsZUFBZTtvQkFDM0UsT0FBTztnQkFDVDtnQkFFQSxnREFBZ0Q7Z0JBQ2hELE1BQU0sSUFBSU0sUUFBUUMsQ0FBQUEsVUFBV0MsV0FBV0QsU0FBUyxJQUFJLENBQUMzRCxVQUFVLEdBQUdxRDtZQUNyRTtRQUNGO1FBRUEsT0FBTztJQUNUO0lBRUFRLGNBQWM7UUFDWixPQUFPLElBQUksQ0FBQ25DLEVBQUU7SUFDaEI7SUFFQSxNQUFNb0MsaUJBQW1DO1FBQ3ZDLE1BQU1SLFNBQVMsTUFBTSxJQUFJLENBQUNKLFlBQVksQ0FDcEMsSUFBTSxJQUFJLENBQUMzQixHQUFHLENBQUMsNEJBQTRCLENBQUMsRUFDNUM7UUFHRixPQUFPK0IsV0FBVztJQUNwQjtBQUNGO0FBRUEsNEJBQTRCO0FBQ3JCLE1BQU1TLFlBQVksSUFBSW5FLDRCQUE0QjtBQUNsRCxNQUFNOEIsS0FBS3FDLFVBQVVGLFdBQVcsR0FBRztBQUUxQyx1QkFBdUI7QUFDaEIsTUFBTUMsaUJBQWlCLElBQU1DLFVBQVVELGNBQWMsR0FBRyIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL2F1dGgtc2VydmljZS91dGlscy9kYi1jb25uZWN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUm9idXN0IERhdGFiYXNlIENvbm5lY3Rpb24gSGFuZGxlciBmb3IgQXV0aGVudGljYXRpb24gU2VydmljZVxuICogSW1wbGVtZW50cyBjaXJjdWl0IGJyZWFrZXIgcGF0dGVybiBhbmQgY29ubmVjdGlvbiBwb29saW5nXG4gKi9cblxuaW1wb3J0IHsgbmVvbiB9IGZyb20gXCJAbmVvbmRhdGFiYXNlL3NlcnZlcmxlc3NcIjtcbmltcG9ydCB7IGRyaXp6bGUgfSBmcm9tIFwiZHJpenpsZS1vcm0vbmVvbi1odHRwXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWEgZnJvbSBcIkBzaGFyZWQvc2NoZW1hXCI7XG5cbmludGVyZmFjZSBDb25uZWN0aW9uU3RhdGUge1xuICBpc0hlYWx0aHk6IGJvb2xlYW47XG4gIGxhc3RGYWlsdXJlVGltZTogbnVtYmVyO1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIGNpcmN1aXRCcmVha2VyT3BlbjogYm9vbGVhbjtcbn1cblxuY2xhc3MgRGF0YWJhc2VDb25uZWN0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgc3FsOiBhbnk7XG4gIHByaXZhdGUgZGI6IGFueTtcbiAgcHJpdmF0ZSBzdGF0ZTogQ29ubmVjdGlvblN0YXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IG1heFJldHJpZXMgPSAzO1xuICBwcml2YXRlIHJlYWRvbmx5IGNpcmN1aXRCcmVha2VyVGhyZXNob2xkID0gNTtcbiAgcHJpdmF0ZSByZWFkb25seSBjaXJjdWl0QnJlYWtlclRpbWVvdXQgPSAzMDAwMDsgLy8gMzAgc2Vjb25kc1xuICBwcml2YXRlIHJlYWRvbmx5IHJldHJ5RGVsYXkgPSAxMDAwOyAvLyAxIHNlY29uZFxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0hlYWx0aHk6IHRydWUsXG4gICAgICBsYXN0RmFpbHVyZVRpbWU6IDAsXG4gICAgICBjb25zZWN1dGl2ZUZhaWx1cmVzOiAwLFxuICAgICAgY2lyY3VpdEJyZWFrZXJPcGVuOiBmYWxzZSxcbiAgICB9O1xuICAgIFxuICAgIHRoaXMuaW5pdGlhbGl6ZUNvbm5lY3Rpb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUNvbm5lY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW0RCIE1hbmFnZXJdIEluaXRpYWxpemluZyBkYXRhYmFzZSBjb25uZWN0aW9uLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBFbnZpcm9ubWVudCBkZXRlY3Rpb25cbiAgICAgIGNvbnN0IGVudmlyb25tZW50ID0gdGhpcy5nZXRFbnZpcm9ubWVudCgpO1xuICAgICAgY29uc29sZS5sb2coXCJbREIgTWFuYWdlcl0gRW52aXJvbm1lbnQgZGV0ZWN0aW9uOlwiLCB7XG4gICAgICAgIE5PREVfRU5WOiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICAgICAgVkVSQ0VMX0VOVjogcHJvY2Vzcy5lbnYuVkVSQ0VMX0VOVixcbiAgICAgICAgVkVSQ0VMOiBwcm9jZXNzLmVudi5WRVJDRUwsXG4gICAgICAgIERFUExPWV9FTlY6IHByb2Nlc3MuZW52LkRFUExPWV9FTlYsXG4gICAgICAgIFNUQUdJTkc6IHByb2Nlc3MuZW52LlNUQUdJTkcsXG4gICAgICAgIFJFUExJVF9ET01BSU5TOiBwcm9jZXNzLmVudi5SRVBMSVRfRE9NQUlOUyxcbiAgICAgICAgZGV0ZWN0ZWRFbnZpcm9ubWVudDogZW52aXJvbm1lbnRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBHZXQgYXBwcm9wcmlhdGUgZGF0YWJhc2UgVVJMIGJhc2VkIG9uIGVudmlyb25tZW50XG4gICAgICBjb25zdCBkYXRhYmFzZVVybCA9IHRoaXMuZ2V0RGF0YWJhc2VVcmwoZW52aXJvbm1lbnQpO1xuICAgICAgY29uc29sZS5sb2coYFtEQiBNYW5hZ2VyXSBVc2luZyAke2Vudmlyb25tZW50fSBkYXRhYmFzZTogJHtkYXRhYmFzZVVybC5zdWJzdHJpbmcoMCwgNTApfS4uLmApO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgbmVvbiBjb25uZWN0aW9uIHdpdGggb3B0aW1pemVkIHNldHRpbmdzXG4gICAgICB0aGlzLnNxbCA9IG5lb24oZGF0YWJhc2VVcmwsIHtcbiAgICAgICAgZnVsbFJlc3VsdHM6IHRydWUsXG4gICAgICAgIGFycmF5TW9kZTogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgdGhpcy5kYiA9IGRyaXp6bGUodGhpcy5zcWwsIHsgc2NoZW1hIH0pO1xuICAgICAgXG4gICAgICAvLyBWYWxpZGF0ZSBkYXRhYmFzZSBjb25uZWN0aW9uIGlzIHByb3Blcmx5IGNyZWF0ZWRcbiAgICAgIGlmICghdGhpcy5kYikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCB0byBpbml0aWFsaXplXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIltEQiBNYW5hZ2VyXSBEYXRhYmFzZSBjb25uZWN0aW9uIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdGlvblN1Y2Nlc3MoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIltEQiBNYW5hZ2VyXSBGYWlsZWQgdG8gaW5pdGlhbGl6ZSBkYXRhYmFzZSBjb25uZWN0aW9uOlwiLCBlcnJvcik7XG4gICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25GYWlsdXJlKCk7XG4gICAgICAvLyBSZS10aHJvdyB0byBwcmV2ZW50IHVuZGVmaW5lZCBkYXRhYmFzZSB1c2FnZVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRFbnZpcm9ubWVudCgpOiBcImRldmVsb3BtZW50XCIgfCBcInN0YWdpbmdcIiB8IFwicHJvZHVjdGlvblwiIHtcbiAgICAvLyBDUklUSUNBTCBFTlZJUk9OTUVOVCBERVRFQ1RJT04gRklYXG4gICAgLy8gVkVSQ0VMID0gUFJPRFVDVElPTiwgUkVQTElUIEFVVE9TQ0FMRSA9IFNUQUdJTkcsIFJFUExJVCBERVZFTE9QTUVOVCA9IERFVkVMT1BNRU5UXG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gVmVyY2VsIHByb2R1Y3Rpb24gKFBST0RVQ1RJT04gZW52aXJvbm1lbnQpXG4gICAgY29uc3QgaXNWZXJjZWxQcm9kdWN0aW9uID0gXG4gICAgICBwcm9jZXNzLmVudi5WRVJDRUxfRU5WID09PSBcInByb2R1Y3Rpb25cIiB8fFxuICAgICAgcHJvY2Vzcy5lbnYuVkVSQ0VMID09PSBcIjFcIjtcblxuICAgIC8vIENoZWNrIGlmIHdlJ3JlIGluIFJlcGxpdCBBdXRvc2NhbGUgZGVwbG95bWVudCAoU1RBR0lORyBlbnZpcm9ubWVudClcbiAgICAvLyBPbmx5IGNvbnNpZGVyIGl0IHN0YWdpbmcgaWYgaXQncyBhY3R1YWxseSBhIGRlcGxveW1lbnQsIG5vdCBkZXZlbG9wbWVudFxuICAgIGNvbnN0IGlzUmVwbGl0QXV0b3NjYWxlID0gXG4gICAgICAocHJvY2Vzcy5lbnYuUkVQTElUID09PSBcIjFcIiB8fCBwcm9jZXNzLmVudi5SRVBMSVRfREVQTE9ZTUVOVCA9PT0gXCIxXCIpICYmXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCI7XG5cbiAgICAvLyBDaGVjayBpZiB3ZSdyZSBleHBsaWNpdGx5IGluIHN0YWdpbmdcbiAgICBjb25zdCBpc1N0YWdpbmcgPVxuICAgICAgcHJvY2Vzcy5lbnYuREVQTE9ZX0VOViA9PT0gXCJzdGFnaW5nXCIgfHxcbiAgICAgIHByb2Nlc3MuZW52LlNUQUdJTkcgPT09IFwidHJ1ZVwiIHx8XG4gICAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUFBfRU5WID09PSBcInN0YWdpbmdcIiB8fFxuICAgICAgaXNSZXBsaXRBdXRvc2NhbGU7XG5cbiAgICAvLyBEZXZlbG9wbWVudCBlbnZpcm9ubWVudCBjaGVjayAoaW5jbHVkZXMgUmVwbGl0IGRldmVsb3BtZW50IG1vZGUpXG4gICAgY29uc3QgaXNEZXZlbG9wbWVudCA9IFxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIiB8fFxuICAgICAgKCFpc1ZlcmNlbFByb2R1Y3Rpb24gJiYgIWlzU3RhZ2luZyk7XG5cbiAgICBpZiAoaXNWZXJjZWxQcm9kdWN0aW9uKSByZXR1cm4gXCJwcm9kdWN0aW9uXCI7XG4gICAgaWYgKGlzU3RhZ2luZykgcmV0dXJuIFwic3RhZ2luZ1wiO1xuICAgIHJldHVybiBcImRldmVsb3BtZW50XCI7XG4gIH1cblxuICBwcml2YXRlIGdldERhdGFiYXNlVXJsKGVudmlyb25tZW50OiBcImRldmVsb3BtZW50XCIgfCBcInN0YWdpbmdcIiB8IFwicHJvZHVjdGlvblwiKTogc3RyaW5nIHtcbiAgICAvLyBDUklUSUNBTCBTRUNVUklUWTogRW52aXJvbm1lbnQtc3BlY2lmaWMgZGF0YWJhc2UgVVJMcyAtIE5PIEhBUkRDT0RFRCBQUk9EVUNUSU9OXG4gICAgY29uc3QgZGF0YWJhc2VVcmxzID0ge1xuICAgICAgZGV2ZWxvcG1lbnQ6IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTCB8fCBwcm9jZXNzLmVudi5ERVZfREFUQUJBU0VfVVJMLFxuICAgICAgc3RhZ2luZzogcHJvY2Vzcy5lbnYuU1RBR0lOR19EQVRBQkFTRV9VUkwgfHwgcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxuICAgICAgcHJvZHVjdGlvbjogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMIHx8IHByb2Nlc3MuZW52LlBST0RVQ1RJT05fREFUQUJBU0VfVVJMXG4gICAgfTtcblxuICAgIGNvbnN0IGRhdGFiYXNlVXJsID0gZGF0YWJhc2VVcmxzW2Vudmlyb25tZW50XTtcbiAgICBcbiAgICBpZiAoIWRhdGFiYXNlVXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNFQ1VSSVRZOiBObyBkYXRhYmFzZSBVUkwgY29uZmlndXJlZCBmb3IgJHtlbnZpcm9ubWVudH0gZW52aXJvbm1lbnQuIERBVEFCQVNFX1VSTCBtdXN0IGJlIHNldCBmb3IgcHJvZHVjdGlvbi5gKTtcbiAgICB9XG5cbiAgICAvLyBBZGRpdGlvbmFsIHNlY3VyaXR5IGNoZWNrOiBOZXZlciBhbGxvdyBwcm9kdWN0aW9uIGRhdGFiYXNlIGFjY2VzcyBmcm9tIG5vbi1wcm9kdWN0aW9uIGVudmlyb25tZW50c1xuICAgIGlmIChlbnZpcm9ubWVudCA9PT0gXCJwcm9kdWN0aW9uXCIgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNFQ1VSSVRZOiBQcm9kdWN0aW9uIGRhdGFiYXNlIGFjY2VzcyBhdHRlbXB0ZWQgZnJvbSBub24tcHJvZHVjdGlvbiBlbnZpcm9ubWVudC4gTk9ERV9FTlY6ICR7cHJvY2Vzcy5lbnYuTk9ERV9FTlZ9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFiYXNlVXJsO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDb25uZWN0aW9uRmFpbHVyZSgpIHtcbiAgICB0aGlzLnN0YXRlLmNvbnNlY3V0aXZlRmFpbHVyZXMrKztcbiAgICB0aGlzLnN0YXRlLmxhc3RGYWlsdXJlVGltZSA9IERhdGUubm93KCk7XG4gICAgdGhpcy5zdGF0ZS5pc0hlYWx0aHkgPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmNvbnNlY3V0aXZlRmFpbHVyZXMgPj0gdGhpcy5jaXJjdWl0QnJlYWtlclRocmVzaG9sZCkge1xuICAgICAgdGhpcy5zdGF0ZS5jaXJjdWl0QnJlYWtlck9wZW4gPSB0cnVlO1xuICAgICAgY29uc29sZS5sb2coXCJbREIgTWFuYWdlcl0gQ2lyY3VpdCBicmVha2VyIG9wZW5lZCBkdWUgdG8gY29uc2VjdXRpdmUgZmFpbHVyZXNcIik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVDb25uZWN0aW9uU3VjY2VzcygpIHtcbiAgICB0aGlzLnN0YXRlLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIHRoaXMuc3RhdGUuaXNIZWFsdGh5ID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXRlLmNpcmN1aXRCcmVha2VyT3BlbiA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKFwiW0RCIE1hbmFnZXJdIENvbm5lY3Rpb24gcmVzdG9yZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0NpcmN1aXRCcmVha2VyQ2xvc2VkKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5jaXJjdWl0QnJlYWtlck9wZW4pIHJldHVybiB0cnVlO1xuICAgIFxuICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RGYWlsdXJlID0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhdGUubGFzdEZhaWx1cmVUaW1lO1xuICAgIGlmICh0aW1lU2luY2VMYXN0RmFpbHVyZSA+IHRoaXMuY2lyY3VpdEJyZWFrZXJUaW1lb3V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltEQiBNYW5hZ2VyXSBDaXJjdWl0IGJyZWFrZXIgdGltZW91dCByZWFjaGVkLCBhdHRlbXB0aW5nIHRvIGNsb3NlXCIpO1xuICAgICAgdGhpcy5zdGF0ZS5jaXJjdWl0QnJlYWtlck9wZW4gPSBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBhc3luYyBleGVjdXRlUXVlcnk8VD4ob3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LCBvcGVyYXRpb25OYW1lOiBzdHJpbmcpOiBQcm9taXNlPFQgfCBudWxsPiB7XG4gICAgaWYgKCF0aGlzLmlzQ2lyY3VpdEJyZWFrZXJDbG9zZWQoKSkge1xuICAgICAgY29uc29sZS5sb2coYFtEQiBNYW5hZ2VyXSBDaXJjdWl0IGJyZWFrZXIgb3BlbiwgcmVqZWN0aW5nICR7b3BlcmF0aW9uTmFtZX1gKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IHRoaXMubWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhgW0RCIE1hbmFnZXJdIEV4ZWN1dGluZyAke29wZXJhdGlvbk5hbWV9IChhdHRlbXB0ICR7YXR0ZW1wdH0vJHt0aGlzLm1heFJldHJpZXN9KWApO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29ubmVjdGlvblN1Y2Nlc3MoKTtcbiAgICAgICAgY29uc29sZS5sb2coYFtEQiBNYW5hZ2VyXSAke29wZXJhdGlvbk5hbWV9IGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBbREIgTWFuYWdlcl0gJHtvcGVyYXRpb25OYW1lfSBmYWlsZWQgKGF0dGVtcHQgJHthdHRlbXB0fS8ke3RoaXMubWF4UmV0cmllc30pOmAsIGVycm9yKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0RCIE1hbmFnZXJdIEVycm9yIGRldGFpbHM6YCwge1xuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgIGNvZGU6IChlcnJvciBhcyBhbnkpPy5jb2RlIHx8ICdVbmtub3duJyxcbiAgICAgICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogJ05vIHN0YWNrIHRyYWNlJ1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChhdHRlbXB0ID09PSB0aGlzLm1heFJldHJpZXMpIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25GYWlsdXJlKCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgW0RCIE1hbmFnZXJdIEFsbCByZXRyeSBhdHRlbXB0cyBmYWlsZWQgZm9yICR7b3BlcmF0aW9uTmFtZX1gKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBiZWZvcmUgcmV0cnlpbmcgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0aGlzLnJldHJ5RGVsYXkgKiBhdHRlbXB0KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXREYXRhYmFzZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYjtcbiAgfVxuXG4gIGFzeW5jIHRlc3RDb25uZWN0aW9uKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZXhlY3V0ZVF1ZXJ5KFxuICAgICAgKCkgPT4gdGhpcy5zcWxgU0VMRUNUIE5PVygpIGFzIGN1cnJlbnRfdGltZWAsXG4gICAgICBcImNvbm5lY3Rpb24gdGVzdFwiXG4gICAgKTtcbiAgICBcbiAgICByZXR1cm4gcmVzdWx0ICE9PSBudWxsO1xuICB9XG59XG5cbi8vIENyZWF0ZSBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBkYk1hbmFnZXIgPSBuZXcgRGF0YWJhc2VDb25uZWN0aW9uTWFuYWdlcigpO1xuZXhwb3J0IGNvbnN0IGRiID0gZGJNYW5hZ2VyLmdldERhdGFiYXNlKCk7XG5cbi8vIEV4cG9ydCB0ZXN0IGZ1bmN0aW9uXG5leHBvcnQgY29uc3QgdGVzdENvbm5lY3Rpb24gPSAoKSA9PiBkYk1hbmFnZXIudGVzdENvbm5lY3Rpb24oKTsiXSwibmFtZXMiOlsibmVvbiIsImRyaXp6bGUiLCJzY2hlbWEiLCJEYXRhYmFzZUNvbm5lY3Rpb25NYW5hZ2VyIiwibWF4UmV0cmllcyIsImNpcmN1aXRCcmVha2VyVGhyZXNob2xkIiwiY2lyY3VpdEJyZWFrZXJUaW1lb3V0IiwicmV0cnlEZWxheSIsInN0YXRlIiwiaXNIZWFsdGh5IiwibGFzdEZhaWx1cmVUaW1lIiwiY29uc2VjdXRpdmVGYWlsdXJlcyIsImNpcmN1aXRCcmVha2VyT3BlbiIsImluaXRpYWxpemVDb25uZWN0aW9uIiwiY29uc29sZSIsImxvZyIsImVudmlyb25tZW50IiwiZ2V0RW52aXJvbm1lbnQiLCJOT0RFX0VOViIsIlZFUkNFTF9FTlYiLCJwcm9jZXNzIiwiZW52IiwiVkVSQ0VMIiwiREVQTE9ZX0VOViIsIlNUQUdJTkciLCJSRVBMSVRfRE9NQUlOUyIsImRldGVjdGVkRW52aXJvbm1lbnQiLCJkYXRhYmFzZVVybCIsImdldERhdGFiYXNlVXJsIiwic3Vic3RyaW5nIiwic3FsIiwiZnVsbFJlc3VsdHMiLCJhcnJheU1vZGUiLCJkYiIsIkVycm9yIiwiaGFuZGxlQ29ubmVjdGlvblN1Y2Nlc3MiLCJlcnJvciIsImhhbmRsZUNvbm5lY3Rpb25GYWlsdXJlIiwiaXNWZXJjZWxQcm9kdWN0aW9uIiwiaXNSZXBsaXRBdXRvc2NhbGUiLCJSRVBMSVQiLCJSRVBMSVRfREVQTE9ZTUVOVCIsImlzU3RhZ2luZyIsIk5FWFRfUFVCTElDX0FQUF9FTlYiLCJpc0RldmVsb3BtZW50IiwiZGF0YWJhc2VVcmxzIiwiZGV2ZWxvcG1lbnQiLCJEQVRBQkFTRV9VUkwiLCJERVZfREFUQUJBU0VfVVJMIiwic3RhZ2luZyIsIlNUQUdJTkdfREFUQUJBU0VfVVJMIiwicHJvZHVjdGlvbiIsIlBST0RVQ1RJT05fREFUQUJBU0VfVVJMIiwiRGF0ZSIsIm5vdyIsImlzQ2lyY3VpdEJyZWFrZXJDbG9zZWQiLCJ0aW1lU2luY2VMYXN0RmFpbHVyZSIsImV4ZWN1dGVRdWVyeSIsIm9wZXJhdGlvbiIsIm9wZXJhdGlvbk5hbWUiLCJhdHRlbXB0IiwicmVzdWx0IiwibWVzc2FnZSIsImNvZGUiLCJzdGFjayIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImdldERhdGFiYXNlIiwidGVzdENvbm5lY3Rpb24iLCJkYk1hbmFnZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth-service/utils/db-connection.ts\n");

/***/ }),

/***/ "(rsc)/./app/api/auth-service/utils/response.ts":
/*!************************************************!*\
  !*** ./app/api/auth-service/utils/response.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   errorResponse: () => (/* binding */ errorResponse),\n/* harmony export */   responseWithAuthCookie: () => (/* binding */ responseWithAuthCookie),\n/* harmony export */   responseWithClearAuthCookie: () => (/* binding */ responseWithClearAuthCookie),\n/* harmony export */   successResponse: () => (/* binding */ successResponse)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"(rsc)/./app/api/auth-service/config.ts\");\n/**\n * Standard response utilities for the auth microservice\n *\n * These functions ensure consistent response format across all auth service endpoints.\n */ \n\n/**\n * Create a standard error response\n */ function errorResponse(message, status = 400, code = \"ERROR\", details) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: false,\n        error: {\n            message,\n            code,\n            details\n        },\n        service: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_NAME,\n        version: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_VERSION\n    }, {\n        status\n    });\n}\n/**\n * Create a standard success response\n */ function successResponse(data, status = 200) {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data,\n        service: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_NAME,\n        version: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_VERSION\n    }, {\n        status\n    });\n}\n/**\n * Create a success response with an auth token cookie\n */ function responseWithAuthCookie(data, token, status = 200) {\n    const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data,\n        service: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_NAME,\n        version: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_VERSION\n    }, {\n        status\n    });\n    // Set the auth cookie\n    // In staging/autoscale environment, we need secure cookies for HTTPS\n    const isSecureEnvironment =  false || process.env.REPLIT_DOMAINS?.includes(\".replit.dev\");\n    const cookieOptions = {\n        name: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.COOKIE_NAME,\n        value: token,\n        httpOnly: true,\n        secure: isSecureEnvironment,\n        maxAge: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.COOKIE_MAX_AGE,\n        path: \"/\",\n        sameSite: \"lax\"\n    };\n    console.log(\"[Auth Service] Setting cookie:\", cookieOptions.name, \"secure:\", cookieOptions.secure, \"value length:\", cookieOptions.value.length);\n    response.cookies.set(cookieOptions);\n    // Verify cookie was set\n    const setCookieHeader = response.headers.get('set-cookie');\n    console.log(\"[Auth Service] Set-Cookie header:\", setCookieHeader ? \"present\" : \"missing\");\n    return response;\n}\n/**\n * Create a response that clears the auth cookie\n */ function responseWithClearAuthCookie(data, status = 200) {\n    const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        success: true,\n        data,\n        service: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_NAME,\n        version: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.SERVICE_VERSION\n    }, {\n        status\n    });\n    // Clear the auth cookie\n    // In staging/autoscale environment, we need secure cookies for HTTPS\n    const isSecureEnvironment =  false || process.env.REPLIT_DOMAINS?.includes(\".replit.dev\");\n    response.cookies.set({\n        name: _config__WEBPACK_IMPORTED_MODULE_1__.AUTH_CONFIG.COOKIE_NAME,\n        value: \"\",\n        httpOnly: true,\n        secure: isSecureEnvironment,\n        maxAge: 0,\n        path: \"/\",\n        sameSite: \"lax\"\n    });\n    return response;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2F1dGgtc2VydmljZS91dGlscy9yZXNwb25zZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7OztDQUlDLEdBQzBDO0FBQ0g7QUFHeEM7O0NBRUMsR0FDTSxTQUFTRSxjQUNkQyxPQUFlLEVBQ2ZDLFNBQWlCLEdBQUcsRUFDcEJDLE9BQWUsT0FBTyxFQUN0QkMsT0FBYTtJQUViLE9BQU9OLHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO1FBQ0VDLFNBQVM7UUFDVEMsT0FBTztZQUNMTjtZQUNBRTtZQUNBQztRQUNGO1FBQ0FJLFNBQVNULGdEQUFXQSxDQUFDVSxZQUFZO1FBQ2pDQyxTQUFTWCxnREFBV0EsQ0FBQ1ksZUFBZTtJQUN0QyxHQUNBO1FBQUVUO0lBQU87QUFFYjtBQUVBOztDQUVDLEdBQ00sU0FBU1UsZ0JBQWdCQyxJQUFTLEVBQUVYLFNBQWlCLEdBQUc7SUFDN0QsT0FBT0oscURBQVlBLENBQUNPLElBQUksQ0FDdEI7UUFDRUMsU0FBUztRQUNUTztRQUNBTCxTQUFTVCxnREFBV0EsQ0FBQ1UsWUFBWTtRQUNqQ0MsU0FBU1gsZ0RBQVdBLENBQUNZLGVBQWU7SUFDdEMsR0FDQTtRQUFFVDtJQUFPO0FBRWI7QUFFQTs7Q0FFQyxHQUNNLFNBQVNZLHVCQUNkRCxJQUFTLEVBQ1RFLEtBQWEsRUFDYmIsU0FBaUIsR0FBRztJQUVwQixNQUFNYyxXQUFXbEIscURBQVlBLENBQUNPLElBQUksQ0FDaEM7UUFDRUMsU0FBUztRQUNUTztRQUNBTCxTQUFTVCxnREFBV0EsQ0FBQ1UsWUFBWTtRQUNqQ0MsU0FBU1gsZ0RBQVdBLENBQUNZLGVBQWU7SUFDdEMsR0FDQTtRQUFFVDtJQUFPO0lBR1gsc0JBQXNCO0lBQ3RCLHFFQUFxRTtJQUNyRSxNQUFNZSxzQkFBc0JDLE1BQXFDLElBQ3ZDQSxRQUFRQyxHQUFHLENBQUNDLGNBQWMsRUFBRUMsU0FBUztJQUUvRCxNQUFNQyxnQkFBZ0I7UUFDcEJDLE1BQU14QixnREFBV0EsQ0FBQ3lCLFdBQVc7UUFDN0JDLE9BQU9WO1FBQ1BXLFVBQVU7UUFDVkMsUUFBUVY7UUFDUlcsUUFBUTdCLGdEQUFXQSxDQUFDOEIsY0FBYztRQUNsQ0MsTUFBTTtRQUNOQyxVQUFVO0lBQ1o7SUFFQUMsUUFBUUMsR0FBRyxDQUFDLGtDQUFrQ1gsY0FBY0MsSUFBSSxFQUFFLFdBQVdELGNBQWNLLE1BQU0sRUFBRSxpQkFBaUJMLGNBQWNHLEtBQUssQ0FBQ1MsTUFBTTtJQUM5SWxCLFNBQVNtQixPQUFPLENBQUNDLEdBQUcsQ0FBQ2Q7SUFFckIsd0JBQXdCO0lBQ3hCLE1BQU1lLGtCQUFrQnJCLFNBQVNzQixPQUFPLENBQUNDLEdBQUcsQ0FBQztJQUM3Q1AsUUFBUUMsR0FBRyxDQUFDLHFDQUFxQ0ksa0JBQWtCLFlBQVk7SUFFL0UsT0FBT3JCO0FBQ1Q7QUFFQTs7Q0FFQyxHQUNNLFNBQVN3Qiw0QkFBNEIzQixJQUFTLEVBQUVYLFNBQWlCLEdBQUc7SUFDekUsTUFBTWMsV0FBV2xCLHFEQUFZQSxDQUFDTyxJQUFJLENBQ2hDO1FBQ0VDLFNBQVM7UUFDVE87UUFDQUwsU0FBU1QsZ0RBQVdBLENBQUNVLFlBQVk7UUFDakNDLFNBQVNYLGdEQUFXQSxDQUFDWSxlQUFlO0lBQ3RDLEdBQ0E7UUFBRVQ7SUFBTztJQUdYLHdCQUF3QjtJQUN4QixxRUFBcUU7SUFDckUsTUFBTWUsc0JBQXNCQyxNQUFxQyxJQUN2Q0EsUUFBUUMsR0FBRyxDQUFDQyxjQUFjLEVBQUVDLFNBQVM7SUFFL0RMLFNBQVNtQixPQUFPLENBQUNDLEdBQUcsQ0FBQztRQUNuQmIsTUFBTXhCLGdEQUFXQSxDQUFDeUIsV0FBVztRQUM3QkMsT0FBTztRQUNQQyxVQUFVO1FBQ1ZDLFFBQVFWO1FBQ1JXLFFBQVE7UUFDUkUsTUFBTTtRQUNOQyxVQUFVO0lBQ1o7SUFFQSxPQUFPZjtBQUNUIiwic291cmNlcyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL2FwcC9hcGkvYXV0aC1zZXJ2aWNlL3V0aWxzL3Jlc3BvbnNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU3RhbmRhcmQgcmVzcG9uc2UgdXRpbGl0aWVzIGZvciB0aGUgYXV0aCBtaWNyb3NlcnZpY2VcbiAqXG4gKiBUaGVzZSBmdW5jdGlvbnMgZW5zdXJlIGNvbnNpc3RlbnQgcmVzcG9uc2UgZm9ybWF0IGFjcm9zcyBhbGwgYXV0aCBzZXJ2aWNlIGVuZHBvaW50cy5cbiAqL1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBBVVRIX0NPTkZJRyB9IGZyb20gXCIuLi9jb25maWdcIjtcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCI7XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RhbmRhcmQgZXJyb3IgcmVzcG9uc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yUmVzcG9uc2UoXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgc3RhdHVzOiBudW1iZXIgPSA0MDAsXG4gIGNvZGU6IHN0cmluZyA9IFwiRVJST1JcIixcbiAgZGV0YWlscz86IGFueSxcbikge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjoge1xuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBjb2RlLFxuICAgICAgICBkZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHNlcnZpY2U6IEFVVEhfQ09ORklHLlNFUlZJQ0VfTkFNRSxcbiAgICAgIHZlcnNpb246IEFVVEhfQ09ORklHLlNFUlZJQ0VfVkVSU0lPTixcbiAgICB9LFxuICAgIHsgc3RhdHVzIH0sXG4gICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RhbmRhcmQgc3VjY2VzcyByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VjY2Vzc1Jlc3BvbnNlKGRhdGE6IGFueSwgc3RhdHVzOiBudW1iZXIgPSAyMDApIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhLFxuICAgICAgc2VydmljZTogQVVUSF9DT05GSUcuU0VSVklDRV9OQU1FLFxuICAgICAgdmVyc2lvbjogQVVUSF9DT05GSUcuU0VSVklDRV9WRVJTSU9OLFxuICAgIH0sXG4gICAgeyBzdGF0dXMgfSxcbiAgKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBzdWNjZXNzIHJlc3BvbnNlIHdpdGggYW4gYXV0aCB0b2tlbiBjb29raWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3BvbnNlV2l0aEF1dGhDb29raWUoXG4gIGRhdGE6IGFueSxcbiAgdG9rZW46IHN0cmluZyxcbiAgc3RhdHVzOiBudW1iZXIgPSAyMDAsXG4pIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UuanNvbihcbiAgICB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YSxcbiAgICAgIHNlcnZpY2U6IEFVVEhfQ09ORklHLlNFUlZJQ0VfTkFNRSxcbiAgICAgIHZlcnNpb246IEFVVEhfQ09ORklHLlNFUlZJQ0VfVkVSU0lPTixcbiAgICB9LFxuICAgIHsgc3RhdHVzIH0sXG4gICk7XG5cbiAgLy8gU2V0IHRoZSBhdXRoIGNvb2tpZVxuICAvLyBJbiBzdGFnaW5nL2F1dG9zY2FsZSBlbnZpcm9ubWVudCwgd2UgbmVlZCBzZWN1cmUgY29va2llcyBmb3IgSFRUUFNcbiAgY29uc3QgaXNTZWN1cmVFbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5SRVBMSVRfRE9NQUlOUz8uaW5jbHVkZXMoXCIucmVwbGl0LmRldlwiKTtcbiAgXG4gIGNvbnN0IGNvb2tpZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogQVVUSF9DT05GSUcuQ09PS0lFX05BTUUsXG4gICAgdmFsdWU6IHRva2VuLFxuICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgIHNlY3VyZTogaXNTZWN1cmVFbnZpcm9ubWVudCxcbiAgICBtYXhBZ2U6IEFVVEhfQ09ORklHLkNPT0tJRV9NQVhfQUdFLFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIHNhbWVTaXRlOiBcImxheFwiIGFzIGNvbnN0LFxuICB9O1xuICBcbiAgY29uc29sZS5sb2coXCJbQXV0aCBTZXJ2aWNlXSBTZXR0aW5nIGNvb2tpZTpcIiwgY29va2llT3B0aW9ucy5uYW1lLCBcInNlY3VyZTpcIiwgY29va2llT3B0aW9ucy5zZWN1cmUsIFwidmFsdWUgbGVuZ3RoOlwiLCBjb29raWVPcHRpb25zLnZhbHVlLmxlbmd0aCk7XG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KGNvb2tpZU9wdGlvbnMpO1xuICBcbiAgLy8gVmVyaWZ5IGNvb2tpZSB3YXMgc2V0XG4gIGNvbnN0IHNldENvb2tpZUhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdzZXQtY29va2llJyk7XG4gIGNvbnNvbGUubG9nKFwiW0F1dGggU2VydmljZV0gU2V0LUNvb2tpZSBoZWFkZXI6XCIsIHNldENvb2tpZUhlYWRlciA/IFwicHJlc2VudFwiIDogXCJtaXNzaW5nXCIpO1xuXG4gIHJldHVybiByZXNwb25zZTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSByZXNwb25zZSB0aGF0IGNsZWFycyB0aGUgYXV0aCBjb29raWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3BvbnNlV2l0aENsZWFyQXV0aENvb2tpZShkYXRhOiBhbnksIHN0YXR1czogbnVtYmVyID0gMjAwKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAge1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGEsXG4gICAgICBzZXJ2aWNlOiBBVVRIX0NPTkZJRy5TRVJWSUNFX05BTUUsXG4gICAgICB2ZXJzaW9uOiBBVVRIX0NPTkZJRy5TRVJWSUNFX1ZFUlNJT04sXG4gICAgfSxcbiAgICB7IHN0YXR1cyB9LFxuICApO1xuXG4gIC8vIENsZWFyIHRoZSBhdXRoIGNvb2tpZVxuICAvLyBJbiBzdGFnaW5nL2F1dG9zY2FsZSBlbnZpcm9ubWVudCwgd2UgbmVlZCBzZWN1cmUgY29va2llcyBmb3IgSFRUUFNcbiAgY29uc3QgaXNTZWN1cmVFbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLmVudi5SRVBMSVRfRE9NQUlOUz8uaW5jbHVkZXMoXCIucmVwbGl0LmRldlwiKTtcbiAgXG4gIHJlc3BvbnNlLmNvb2tpZXMuc2V0KHtcbiAgICBuYW1lOiBBVVRIX0NPTkZJRy5DT09LSUVfTkFNRSxcbiAgICB2YWx1ZTogXCJcIixcbiAgICBodHRwT25seTogdHJ1ZSxcbiAgICBzZWN1cmU6IGlzU2VjdXJlRW52aXJvbm1lbnQsXG4gICAgbWF4QWdlOiAwLFxuICAgIHBhdGg6IFwiL1wiLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICB9KTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiQVVUSF9DT05GSUciLCJlcnJvclJlc3BvbnNlIiwibWVzc2FnZSIsInN0YXR1cyIsImNvZGUiLCJkZXRhaWxzIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInNlcnZpY2UiLCJTRVJWSUNFX05BTUUiLCJ2ZXJzaW9uIiwiU0VSVklDRV9WRVJTSU9OIiwic3VjY2Vzc1Jlc3BvbnNlIiwiZGF0YSIsInJlc3BvbnNlV2l0aEF1dGhDb29raWUiLCJ0b2tlbiIsInJlc3BvbnNlIiwiaXNTZWN1cmVFbnZpcm9ubWVudCIsInByb2Nlc3MiLCJlbnYiLCJSRVBMSVRfRE9NQUlOUyIsImluY2x1ZGVzIiwiY29va2llT3B0aW9ucyIsIm5hbWUiLCJDT09LSUVfTkFNRSIsInZhbHVlIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJtYXhBZ2UiLCJDT09LSUVfTUFYX0FHRSIsInBhdGgiLCJzYW1lU2l0ZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJjb29raWVzIiwic2V0Iiwic2V0Q29va2llSGVhZGVyIiwiaGVhZGVycyIsImdldCIsInJlc3BvbnNlV2l0aENsZWFyQXV0aENvb2tpZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth-service/utils/response.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth-service%2Fsession%2Froute&page=%2Fapi%2Fauth-service%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth-service%2Fsession%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth-service%2Fsession%2Froute&page=%2Fapi%2Fauth-service%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth-service%2Fsession%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_runner_workspace_app_api_auth_service_session_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/auth-service/session/route.ts */ \"(rsc)/./app/api/auth-service/session/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_home_runner_workspace_app_api_auth_service_session_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\n_home_runner_workspace_app_api_auth_service_session_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth-service/session/route\",\n        pathname: \"/api/auth-service/session\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth-service/session/route\"\n    },\n    distDir: \"out\" || 0,\n    projectDir:  false || '',\n    resolvedPagePath: \"/home/runner/workspace/app/api/auth-service/session/route.ts\",\n    nextConfigOutput,\n    userland: _home_runner_workspace_app_api_auth_service_session_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/auth-service/session/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoLXNlcnZpY2UlMkZzZXNzaW9uJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhdXRoLXNlcnZpY2UlMkZzZXNzaW9uJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYXV0aC1zZXJ2aWNlJTJGc2Vzc2lvbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZob21lJTJGcnVubmVyJTJGd29ya3NwYWNlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQ3VCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsS0FBb0MsSUFBSSxDQUFFO0FBQ3ZELGdCQUFnQixNQUF1QztBQUN2RDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7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Q0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL2F1dGgtc2VydmljZS9zZXNzaW9uL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoLXNlcnZpY2Uvc2Vzc2lvbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgtc2VydmljZS9zZXNzaW9uXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hdXRoLXNlcnZpY2Uvc2Vzc2lvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9hcHAvYXBpL2F1dGgtc2VydmljZS9zZXNzaW9uL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXV0aC1zZXJ2aWNlL3Nlc3Npb24vcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0lPOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNJTyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiBub3JtYWxpemVkU3JjUGFnZSxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdyb3V0ZScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogZ2V0UmV2YWxpZGF0ZVJlYXNvbih7XG4gICAgICAgICAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgaXNPbkRlbWFuZFJldmFsaWRhdGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0aHJvdyBzbyB0aGF0IHdlIGNhbiBoYW5kbGUgc2VydmluZyBlcnJvciBwYWdlXG4gICAgICAgIC8vIElmIHRoaXMgaXMgZHVyaW5nIHN0YXRpYyBnZW5lcmF0aW9uLCB0aHJvdyB0aGUgZXJyb3IgYWdhaW4uXG4gICAgICAgIGlmIChpc0lzcikgdGhyb3cgZXJyO1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgYSA1MDAgcmVzcG9uc2UuXG4gICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth-service%2Fsession%2Froute&page=%2Fapi%2Fauth-service%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth-service%2Fsession%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./shared/schema.ts":
/*!**************************!*\
  !*** ./shared/schema.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BOOKING_PRIORITY: () => (/* binding */ BOOKING_PRIORITY),\n/* harmony export */   BOOKING_STATUS: () => (/* binding */ BOOKING_STATUS),\n/* harmony export */   USER_ROLES: () => (/* binding */ USER_ROLES),\n/* harmony export */   activities: () => (/* binding */ activities),\n/* harmony export */   activityAssignments: () => (/* binding */ activityAssignments),\n/* harmony export */   activityCompletionRates: () => (/* binding */ activityCompletionRates),\n/* harmony export */   activityKits: () => (/* binding */ activityKits),\n/* harmony export */   activityTypes: () => (/* binding */ activityTypes),\n/* harmony export */   agentSkills: () => (/* binding */ agentSkills),\n/* harmony export */   assignmentStatusEnum: () => (/* binding */ assignmentStatusEnum),\n/* harmony export */   auditLogs: () => (/* binding */ auditLogs),\n/* harmony export */   availabilityBlocks: () => (/* binding */ availabilityBlocks),\n/* harmony export */   bookingComments: () => (/* binding */ bookingComments),\n/* harmony export */   bookingPriorityEnum: () => (/* binding */ bookingPriorityEnum),\n/* harmony export */   bookingStatusEnum: () => (/* binding */ bookingStatusEnum),\n/* harmony export */   bookings: () => (/* binding */ bookings),\n/* harmony export */   brandAgentAssignments: () => (/* binding */ brandAgentAssignments),\n/* harmony export */   brandLocations: () => (/* binding */ brandLocations),\n/* harmony export */   brands: () => (/* binding */ brands),\n/* harmony export */   consumptionLogs: () => (/* binding */ consumptionLogs),\n/* harmony export */   dataFormCompletion: () => (/* binding */ dataFormCompletion),\n/* harmony export */   dataFormQualityRatings: () => (/* binding */ dataFormQualityRatings),\n/* harmony export */   dispensaryRatings: () => (/* binding */ dispensaryRatings),\n/* harmony export */   insertActivityAssignmentSchema: () => (/* binding */ insertActivityAssignmentSchema),\n/* harmony export */   insertActivityCompletionRateSchema: () => (/* binding */ insertActivityCompletionRateSchema),\n/* harmony export */   insertActivityKitSchema: () => (/* binding */ insertActivityKitSchema),\n/* harmony export */   insertActivitySchema: () => (/* binding */ insertActivitySchema),\n/* harmony export */   insertActivityTypeSchema: () => (/* binding */ insertActivityTypeSchema),\n/* harmony export */   insertAgentSkillSchema: () => (/* binding */ insertAgentSkillSchema),\n/* harmony export */   insertAuditLogSchema: () => (/* binding */ insertAuditLogSchema),\n/* harmony export */   insertAvailabilityBlockSchema: () => (/* binding */ insertAvailabilityBlockSchema),\n/* harmony export */   insertBookingCommentSchema: () => (/* binding */ insertBookingCommentSchema),\n/* harmony export */   insertBookingSchema: () => (/* binding */ insertBookingSchema),\n/* harmony export */   insertBrandAgentAssignmentSchema: () => (/* binding */ insertBrandAgentAssignmentSchema),\n/* harmony export */   insertBrandLocationSchema: () => (/* binding */ insertBrandLocationSchema),\n/* harmony export */   insertBrandSchema: () => (/* binding */ insertBrandSchema),\n/* harmony export */   insertConsumptionLogSchema: () => (/* binding */ insertConsumptionLogSchema),\n/* harmony export */   insertDataFormCompletionSchema: () => (/* binding */ insertDataFormCompletionSchema),\n/* harmony export */   insertDataFormQualityRatingSchema: () => (/* binding */ insertDataFormQualityRatingSchema),\n/* harmony export */   insertDispensaryRatingSchema: () => (/* binding */ insertDispensaryRatingSchema),\n/* harmony export */   insertInventoryItemSchema: () => (/* binding */ insertInventoryItemSchema),\n/* harmony export */   insertItemSchema: () => (/* binding */ insertItemSchema),\n/* harmony export */   insertKitComponentInventorySchema: () => (/* binding */ insertKitComponentInventorySchema),\n/* harmony export */   insertKitInstanceItemSchema: () => (/* binding */ insertKitInstanceItemSchema),\n/* harmony export */   insertKitInstanceSchema: () => (/* binding */ insertKitInstanceSchema),\n/* harmony export */   insertKitSchema: () => (/* binding */ insertKitSchema),\n/* harmony export */   insertKitTemplateItemSchema: () => (/* binding */ insertKitTemplateItemSchema),\n/* harmony export */   insertKitTemplateSchema: () => (/* binding */ insertKitTemplateSchema),\n/* harmony export */   insertLocationComplianceSchema: () => (/* binding */ insertLocationComplianceSchema),\n/* harmony export */   insertLocationSchema: () => (/* binding */ insertLocationSchema),\n/* harmony export */   insertManagerReviewSchema: () => (/* binding */ insertManagerReviewSchema),\n/* harmony export */   insertOnTimePerformanceSchema: () => (/* binding */ insertOnTimePerformanceSchema),\n/* harmony export */   insertOrganizationBrandingSchema: () => (/* binding */ insertOrganizationBrandingSchema),\n/* harmony export */   insertOrganizationInvitationSchema: () => (/* binding */ insertOrganizationInvitationSchema),\n/* harmony export */   insertOrganizationPermissionSchema: () => (/* binding */ insertOrganizationPermissionSchema),\n/* harmony export */   insertOrganizationRegionSchema: () => (/* binding */ insertOrganizationRegionSchema),\n/* harmony export */   insertOrganizationSchema: () => (/* binding */ insertOrganizationSchema),\n/* harmony export */   insertOrganizationSettingsSchema: () => (/* binding */ insertOrganizationSettingsSchema),\n/* harmony export */   insertOrganizationUserSchema: () => (/* binding */ insertOrganizationUserSchema),\n/* harmony export */   insertPerformanceSummarySchema: () => (/* binding */ insertPerformanceSummarySchema),\n/* harmony export */   insertPermissionSchema: () => (/* binding */ insertPermissionSchema),\n/* harmony export */   insertPromotionTypeSchema: () => (/* binding */ insertPromotionTypeSchema),\n/* harmony export */   insertRegionSchema: () => (/* binding */ insertRegionSchema),\n/* harmony export */   insertReplenishmentRequestItemSchema: () => (/* binding */ insertReplenishmentRequestItemSchema),\n/* harmony export */   insertReplenishmentRequestSchema: () => (/* binding */ insertReplenishmentRequestSchema),\n/* harmony export */   insertShiftAssignmentSchema: () => (/* binding */ insertShiftAssignmentSchema),\n/* harmony export */   insertShiftSchema: () => (/* binding */ insertShiftSchema),\n/* harmony export */   insertStaffRatingSchema: () => (/* binding */ insertStaffRatingSchema),\n/* harmony export */   insertStateSchema: () => (/* binding */ insertStateSchema),\n/* harmony export */   insertSystemEventSchema: () => (/* binding */ insertSystemEventSchema),\n/* harmony export */   insertTaskSchema: () => (/* binding */ insertTaskSchema),\n/* harmony export */   insertUserOrganizationPreferencesSchema: () => (/* binding */ insertUserOrganizationPreferencesSchema),\n/* harmony export */   insertUserOrganizationSchema: () => (/* binding */ insertUserOrganizationSchema),\n/* harmony export */   insertUserPermissionSchema: () => (/* binding */ insertUserPermissionSchema),\n/* harmony export */   insertUserSchema: () => (/* binding */ insertUserSchema),\n/* harmony export */   inventoryItems: () => (/* binding */ inventoryItems),\n/* harmony export */   items: () => (/* binding */ items),\n/* harmony export */   kitComponentInventory: () => (/* binding */ kitComponentInventory),\n/* harmony export */   kitInstanceItems: () => (/* binding */ kitInstanceItems),\n/* harmony export */   kitInstances: () => (/* binding */ kitInstances),\n/* harmony export */   kitTemplateItems: () => (/* binding */ kitTemplateItems),\n/* harmony export */   kitTemplates: () => (/* binding */ kitTemplates),\n/* harmony export */   kits: () => (/* binding */ kits),\n/* harmony export */   locationCompliance: () => (/* binding */ locationCompliance),\n/* harmony export */   locations: () => (/* binding */ locations),\n/* harmony export */   managerReviews: () => (/* binding */ managerReviews),\n/* harmony export */   onTimePerformance: () => (/* binding */ onTimePerformance),\n/* harmony export */   organizationBranding: () => (/* binding */ organizationBranding),\n/* harmony export */   organizationInvitations: () => (/* binding */ organizationInvitations),\n/* harmony export */   organizationPermissions: () => (/* binding */ organizationPermissions),\n/* harmony export */   organizationRegions: () => (/* binding */ organizationRegions),\n/* harmony export */   organizationSettings: () => (/* binding */ organizationSettings),\n/* harmony export */   organizationTierEnum: () => (/* binding */ organizationTierEnum),\n/* harmony export */   organizationTypeEnum: () => (/* binding */ organizationTypeEnum),\n/* harmony export */   organizationUsers: () => (/* binding */ organizationUsers),\n/* harmony export */   organizations: () => (/* binding */ organizations),\n/* harmony export */   performanceSummary: () => (/* binding */ performanceSummary),\n/* harmony export */   permissions: () => (/* binding */ permissions),\n/* harmony export */   promotionTypes: () => (/* binding */ promotionTypes),\n/* harmony export */   regions: () => (/* binding */ regions),\n/* harmony export */   replenishmentRequestItems: () => (/* binding */ replenishmentRequestItems),\n/* harmony export */   replenishmentRequests: () => (/* binding */ replenishmentRequests),\n/* harmony export */   rolePermissions: () => (/* binding */ rolePermissions),\n/* harmony export */   roles: () => (/* binding */ roles),\n/* harmony export */   shiftAssignments: () => (/* binding */ shiftAssignments),\n/* harmony export */   shiftStatusEnum: () => (/* binding */ shiftStatusEnum),\n/* harmony export */   shifts: () => (/* binding */ shifts),\n/* harmony export */   staffRatings: () => (/* binding */ staffRatings),\n/* harmony export */   states: () => (/* binding */ states),\n/* harmony export */   systemEvents: () => (/* binding */ systemEvents),\n/* harmony export */   tasks: () => (/* binding */ tasks),\n/* harmony export */   userOrganizationPreferences: () => (/* binding */ userOrganizationPreferences),\n/* harmony export */   userOrganizations: () => (/* binding */ userOrganizations),\n/* harmony export */   userPermissions: () => (/* binding */ userPermissions),\n/* harmony export */   userRoleEnum: () => (/* binding */ userRoleEnum),\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/enum.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/table.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/uuid.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/boolean.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/timestamp.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/jsonb.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/numeric.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/integer.js\");\n/* harmony import */ var drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! drizzle-orm/pg-core */ \"(rsc)/./node_modules/drizzle-orm/pg-core/columns/varchar.js\");\n/* harmony import */ var drizzle_zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-zod */ \"(rsc)/./node_modules/drizzle-zod/index.mjs\");\n/**\n * Shared Database Schema and Types\n * This file contains all database table definitions and related types\n * used throughout the Rishi Platform application\n */ \n\n// Enums\nconst userRoleEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"user_role\", [\n    \"super_admin\",\n    \"internal_admin\",\n    \"internal_field_manager\",\n    \"brand_agent\",\n    \"client_manager\",\n    \"client_user\"\n]);\nconst organizationTypeEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"organization_type\", [\n    \"internal\",\n    \"client\",\n    \"partner\"\n]);\nconst organizationTierEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"organization_tier\", [\n    \"tier_1\",\n    \"tier_2\",\n    \"tier_3\"\n]);\nconst bookingStatusEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"booking_status\", [\n    \"draft\",\n    \"pending\",\n    \"approved\",\n    \"rejected\",\n    \"in_progress\",\n    \"completed\",\n    \"canceled\"\n]);\n// Constants for use in API routes\nconst BOOKING_STATUS = {\n    DRAFT: \"draft\",\n    PENDING: \"pending\",\n    APPROVED: \"approved\",\n    REJECTED: \"rejected\",\n    IN_PROGRESS: \"in_progress\",\n    COMPLETED: \"completed\",\n    CANCELED: \"canceled\"\n};\nconst bookingPriorityEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"booking_priority\", [\n    \"low\",\n    \"medium\",\n    \"high\",\n    \"urgent\"\n]);\nconst shiftStatusEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"shift_status\", [\n    \"draft\",\n    \"open\",\n    \"assigned\",\n    \"in_progress\",\n    \"completed\",\n    \"cancelled\"\n]);\nconst assignmentStatusEnum = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_1__.pgEnum)(\"assignment_status\", [\n    \"assigned\",\n    \"confirmed\",\n    \"checked_in\",\n    \"completed\",\n    \"no_show\"\n]);\n// Core Tables\nconst users = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    username: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"username\").notNull(),\n    password: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"password\").notNull(),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\").notNull(),\n    fullName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"full_name\"),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"email\"),\n    phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"phone\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    profileImage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"profile_image\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst organizations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organizations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"type\").notNull(),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull(),\n    primary_contact_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"primary_contact_id\"),\n    billing_address: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"billing_address\"),\n    billing_email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"billing_email\"),\n    billing_phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"billing_phone\"),\n    subscription_tier: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"subscription_tier\"),\n    subscription_status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"subscription_status\"),\n    logo_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"logo_url\"),\n    website: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"website\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    tier: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"tier\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst userOrganizations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"user_organizations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").notNull(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull(),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\").notNull(),\n    is_default: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_default\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow()\n});\nconst locations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"locations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"type\"),\n    address1: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"address1\"),\n    address2: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"address2\"),\n    city: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"city\").notNull(),\n    state_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"state_id\"),\n    zipcode: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"zipcode\"),\n    phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"phone\"),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"email\"),\n    website: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"website\"),\n    contact_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"contact_name\"),\n    contact_email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"contact_email\"),\n    contact_phone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"contact_phone\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\"),\n    requested_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"requested_by\"),\n    reviewed_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"reviewed_by\"),\n    review_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"review_date\"),\n    geo_lat: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"geo_lat\"),\n    geo_lng: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"geo_lng\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst activityTypes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activity_types\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"category\"),\n    icon: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"icon\"),\n    color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"color\"),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    isSystemDefined: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_system_defined\").notNull().default(false),\n    isActive: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_active\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\nconst activities = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activities\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    activityTypeId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_type_id\").references(()=>activityTypes.id),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").references(()=>locations.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"assigned\"),\n    startTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"start_time\"),\n    endTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"end_time\"),\n    staffRequired: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"staff_required\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    assignedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_by_id\").references(()=>users.id),\n    createdById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"created_by_id\").references(()=>users.id),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst bookings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"bookings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    clientOrganizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"client_organization_id\").notNull().references(()=>organizations.id),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").references(()=>locations.id),\n    activityTypeId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_type_id\").references(()=>activityTypes.id),\n    startDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"start_date\").notNull(),\n    endDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"end_date\").notNull(),\n    startTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"start_time\"),\n    endTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"end_time\"),\n    budget: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"budget\"),\n    attendeeEstimate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"attendee_estimate\"),\n    status: bookingStatusEnum(\"status\").notNull().default(\"draft\"),\n    priority: bookingPriorityEnum(\"priority\").notNull().default(\"medium\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    promotionTypeId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"promotion_type_id\"),\n    kitTemplateId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_template_id\"),\n    staffCount: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"staff_count\"),\n    requiresTraining: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"requires_training\").default(false),\n    isRecurring: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_recurring\").default(false),\n    recurrencePattern: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"recurrence_pattern\"),\n    recurrenceEndDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"recurrence_end_date\"),\n    createdById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"created_by_id\").references(()=>users.id),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow(),\n    approvedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"approved_by_id\").references(()=>users.id),\n    approvedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"approved_at\"),\n    rejectedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"rejected_by_id\").references(()=>users.id),\n    rejectedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"rejected_at\"),\n    rejectionReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"rejection_reason\"),\n    canceledAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"canceled_at\"),\n    canceledById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"canceled_by_id\").references(()=>users.id),\n    cancelReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"cancel_reason\")\n});\nconst activityAssignments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activity_assignments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    activityId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_id\").notNull().references(()=>activities.id),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").notNull().references(()=>users.id),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"assigned\"),\n    assignedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"assigned_at\").notNull().defaultNow(),\n    assignedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_by_id\").references(()=>users.id)\n});\n// Brand Agent Assignments table for bulk assignment operations\nconst brandAgentAssignments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"brand_agent_assignments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").references(()=>bookings.id),\n    activityId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_id\").references(()=>activities.id),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"assigned\"),\n    assignedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"assigned_at\").notNull().defaultNow(),\n    assignedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_by_id\").references(()=>users.id)\n});\n// System Events table for message sending\nconst systemEvents = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"system_events\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    eventType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"event_type\").notNull(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").references(()=>users.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    metadata: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"metadata\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// States table for location management\nconst states = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"states\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    abbreviation: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"abbreviation\").notNull(),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\n// Brands table\nconst brands = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"brands\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").defaultRandom().primaryKey(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"name\", {\n        length: 150\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    logoUrl: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"logo_url\"),\n    primaryColor: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"primary_color\"),\n    secondaryColor: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"secondary_color\"),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\n// Brand locations (many-to-many)\nconst brandLocations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"brand_locations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").defaultRandom().primaryKey(),\n    brandId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_id\").notNull().references(()=>brands.id, {\n        onDelete: \"cascade\"\n    }),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").notNull().references(()=>locations.id, {\n        onDelete: \"cascade\"\n    }),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow()\n});\n// Availability Blocks table for scheduling\nconst availabilityBlocks = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"availability_blocks\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"title\"),\n    start_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"start_date\").notNull(),\n    end_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"end_date\").notNull(),\n    day_of_week: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"day_of_week\"),\n    is_recurring: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_recurring\"),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\"),\n    recurring: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"recurring\"),\n    recurrence_pattern: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"recurrence_pattern\"),\n    recurrence_group: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"recurrence_group\"),\n    recurrence_end_type: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"recurrence_end_type\"),\n    recurrence_count: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"recurrence_count\"),\n    recurrence_end_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"recurrence_end_date\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst organizationUsers = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_users\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").notNull(),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\").notNull(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"title\"),\n    department: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"department\"),\n    is_primary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_primary\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst organizationSettings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_settings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\"),\n    key: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"key\"),\n    value: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"value\"),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"category\"),\n    setting_key: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"setting_key\"),\n    setting_value: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"setting_value\"),\n    updated_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"updated_by\"),\n    notification_email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notification_email\"),\n    timezone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"timezone\"),\n    language: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"language\"),\n    date_format: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"date_format\"),\n    time_format: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"time_format\"),\n    billing_contact_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"billing_contact_name\"),\n    billing_contact_email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"billing_contact_email\"),\n    billing_address: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"billing_address\"),\n    additional_settings: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"additional_settings\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Inventory Items - Items available for replenishment\nconst inventoryItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"inventory_items\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"name\", {\n        length: 255\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    category: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"category\", {\n        length: 100\n    }),\n    sku: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"sku\", {\n        length: 100\n    }),\n    unit_of_measure: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"unit_of_measure\", {\n        length: 50\n    }).notNull().default(\"each\"),\n    cost_per_unit: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"cost_per_unit\", {\n        precision: 10,\n        scale: 2\n    }),\n    supplier_info: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"supplier_info\"),\n    is_consumable: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_consumable\").notNull().default(true),\n    minimum_stock_level: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"minimum_stock_level\").default(0),\n    maximum_stock_level: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"maximum_stock_level\").default(1000),\n    current_stock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"current_stock\").notNull().default(0),\n    available_stock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"available_stock\").notNull().default(0),\n    reserved_stock: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"reserved_stock\").notNull().default(0),\n    reorder_point: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"reorder_point\").default(10),\n    is_active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Kit Templates - Predetermined by Rishi + client for specific brands/regions\nconst kitTemplates = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"kit_templates\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    brand_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_id\").references(()=>brands.id),\n    image_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"image_url\"),\n    thumbnail_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"thumbnail_url\"),\n    image_alt_text: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"image_alt_text\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Kit Template Items - Items that should be in each kit template\nconst kitTemplateItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"kit_template_items\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    kit_template_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_template_id\").notNull().references(()=>kitTemplates.id, {\n        onDelete: \"cascade\"\n    }),\n    inventory_item_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"inventory_item_id\").notNull().references(()=>inventoryItems.id),\n    quantity_required: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity_required\").notNull().default(1),\n    is_critical: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_critical\").notNull().default(false),\n    usage_instructions: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"usage_instructions\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Kit Instances - Physical instances of templates in service\nconst kitInstances = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"kits\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    template_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"template_id\").references(()=>kitTemplates.id),\n    location_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").references(()=>locations.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"available\"),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Kit Instance Items - Current items within each kit instance with quantities\nconst kitInstanceItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"kit_instance_items\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    kit_instance_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_instance_id\").notNull().references(()=>kitInstances.id, {\n        onDelete: \"cascade\"\n    }),\n    inventory_item_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"inventory_item_id\").notNull().references(()=>inventoryItems.id),\n    current_quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"current_quantity\").notNull().default(0),\n    original_quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"original_quantity\").notNull().default(0),\n    minimum_quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"minimum_quantity\").notNull().default(0),\n    consumed_quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"consumed_quantity\").notNull().default(0),\n    condition: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"condition\", {\n        length: 50\n    }).notNull().default(\"good\"),\n    expiration_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"expiration_date\"),\n    last_restocked: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"last_restocked\"),\n    needs_replenishment: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"needs_replenishment\").notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Consumption Tracking - Track what gets consumed during bookings\nconst consumptionLogs = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"consumption_logs\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    kit_instance_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_instance_id\").notNull().references(()=>kitInstances.id),\n    inventory_item_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"inventory_item_id\").notNull().references(()=>inventoryItems.id),\n    booking_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").references(()=>bookings.id),\n    quantity_consumed: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity_consumed\").notNull(),\n    consumption_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"consumption_date\").notNull().defaultNow(),\n    consumed_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"consumed_by\").references(()=>users.id),\n    reason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"reason\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"location\", {\n        length: 255\n    }),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Replenishment Requests - Track requests to replenish kit instances\nconst replenishmentRequests = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"replenishment_requests\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    kit_instance_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_instance_id\").notNull().references(()=>kitInstances.id),\n    requested_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"requested_by\").notNull().references(()=>users.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"status\", {\n        length: 50\n    }).notNull().default(\"pending\"),\n    priority: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"priority\", {\n        length: 50\n    }).notNull().default(\"medium\"),\n    due_date: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"due_date\"),\n    approved_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"approved_by\").references(()=>users.id),\n    approved_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"approved_at\"),\n    completed_by: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"completed_by\").references(()=>users.id),\n    completed_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"completed_at\"),\n    total_estimated_cost: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"total_estimated_cost\", {\n        precision: 10,\n        scale: 2\n    }),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Replenishment Request Items - Specific items to replenish\nconst replenishmentRequestItems = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"replenishment_request_items\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    replenishment_request_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"replenishment_request_id\").notNull().references(()=>replenishmentRequests.id, {\n        onDelete: \"cascade\"\n    }),\n    inventory_item_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"inventory_item_id\").notNull().references(()=>inventoryItems.id),\n    quantity_requested: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity_requested\").notNull(),\n    quantity_approved: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity_approved\").default(0),\n    quantity_supplied: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity_supplied\").default(0),\n    unit_cost: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"unit_cost\", {\n        precision: 10,\n        scale: 2\n    }),\n    total_cost: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"total_cost\", {\n        precision: 10,\n        scale: 2\n    }),\n    supplier: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"supplier\", {\n        length: 255\n    }),\n    tracking_number: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"tracking_number\", {\n        length: 100\n    }),\n    delivered_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"delivered_at\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Constants\nconst USER_ROLES = {\n    SUPER_ADMIN: \"super_admin\",\n    INTERNAL_ADMIN: \"internal_admin\",\n    INTERNAL_FIELD_MANAGER: \"internal_field_manager\",\n    BRAND_AGENT: \"brand_agent\",\n    CLIENT_MANAGER: \"client_manager\",\n    CLIENT_USER: \"client_user\"\n};\nconst BOOKING_PRIORITY = {\n    LOW: \"low\",\n    MEDIUM: \"medium\",\n    HIGH: \"high\",\n    URGENT: \"urgent\"\n};\n// Role permissions constants\nconst roles = [\n    \"super_admin\",\n    \"internal_admin\",\n    \"internal_field_manager\",\n    \"brand_agent\",\n    \"client_manager\",\n    \"client_user\"\n];\nconst rolePermissions = {\n    super_admin: [\n        \"*\"\n    ],\n    internal_admin: [\n        \"create:*\",\n        \"read:*\",\n        \"update:*\",\n        \"delete:*\"\n    ],\n    internal_field_manager: [\n        \"create:bookings\",\n        \"read:*\",\n        \"update:bookings\",\n        \"update:staff\"\n    ],\n    brand_agent: [\n        \"read:bookings\",\n        \"read:staff\",\n        \"update:profile\"\n    ],\n    client_manager: [\n        \"create:bookings\",\n        \"read:bookings\",\n        \"update:bookings\",\n        \"read:staff\"\n    ],\n    client_user: [\n        \"read:bookings\",\n        \"read:staff\",\n        \"update:profile\"\n    ]\n};\n// Insert Schemas using drizzle-zod\nconst insertUserSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(users);\nconst insertOrganizationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizations);\nconst insertLocationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(locations);\nconst insertActivitySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(activities);\nconst insertBookingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(bookings);\nconst insertActivityTypeSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(activityTypes);\nconst insertActivityAssignmentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(activityAssignments);\n// New inventory/kit insert schemas\nconst insertInventoryItemSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(inventoryItems);\nconst insertKitTemplateSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(kitTemplates);\nconst insertKitTemplateItemSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(kitTemplateItems);\nconst insertKitInstanceSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(kitInstances);\nconst insertKitInstanceItemSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(kitInstanceItems);\nconst insertConsumptionLogSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(consumptionLogs);\nconst insertReplenishmentRequestSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(replenishmentRequests);\nconst insertReplenishmentRequestItemSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(replenishmentRequestItems);\n// Backward compatibility aliases (moved after schema definitions)\nconst kits = kitInstances;\nconst insertKitSchema = insertKitInstanceSchema;\nconst insertUserOrganizationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(userOrganizations);\nconst insertOrganizationUserSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationUsers);\nconst insertOrganizationSettingsSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationSettings);\n// Additional insert schemas for the new tables\nconst insertBrandAgentAssignmentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(brandAgentAssignments);\nconst insertSystemEventSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(systemEvents);\nconst insertStateSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(states);\n// Additional insert schemas for new tables\nconst insertBrandSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(brands);\nconst insertBrandLocationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(brandLocations);\nconst insertAvailabilityBlockSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(availabilityBlocks);\n// Shifts Table - Enhanced event scheduling for workforce\nconst shifts = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"shifts\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").defaultRandom().primaryKey(),\n    eventId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"event_id\").references(()=>systemEvents.id),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_10__.varchar)(\"title\", {\n        length: 200\n    }).notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").references(()=>locations.id),\n    brandId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_id\").references(()=>brands.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    startDateTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"start_datetime\").notNull(),\n    endDateTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"end_datetime\").notNull(),\n    requiredAgents: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"required_agents\").default(1),\n    status: shiftStatusEnum(\"status\").default(\"draft\"),\n    requiredSkills: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"required_skills\"),\n    hourlyRate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"hourly_rate\", {\n        precision: 10,\n        scale: 2\n    }),\n    totalBudget: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"total_budget\", {\n        precision: 10,\n        scale: 2\n    }),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    createdBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"created_by\").references(()=>users.id),\n    cancellationReason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"cancellation_reason\")\n});\n// Shift Assignments\nconst shiftAssignments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"shift_assignments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").defaultRandom().primaryKey(),\n    shiftId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"shift_id\").notNull().references(()=>shifts.id, {\n        onDelete: \"cascade\"\n    }),\n    agentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    assignmentStatus: assignmentStatusEnum(\"assignment_status\").default(\"assigned\"),\n    assignedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"assigned_at\").defaultNow(),\n    assignedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_by\").references(()=>users.id),\n    confirmedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"confirmed_at\"),\n    checkedInAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"checked_in_at\"),\n    checkedOutAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"checked_out_at\"),\n    actualHours: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"actual_hours\", {\n        precision: 4,\n        scale: 2\n    }),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\")\n});\n// Insert schemas for shifts\nconst insertShiftSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(shifts);\nconst insertShiftAssignmentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(shiftAssignments);\n// Missing tables that are referenced in API routes\nconst items = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"items\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\n// Proper booking comments table\nconst bookingComments = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"booking_comments\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    authorId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"author_id\").notNull().references(()=>users.id),\n    content: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"content\").notNull(),\n    isInternal: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_internal\").notNull().default(false),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Note: promotionTypes table does not exist - using activity_types for promotions\nconst promotionTypes = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activity_types\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    icon: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"icon\"),\n    color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"color\"),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\"),\n    is_system_defined: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_system_defined\").notNull().default(false),\n    metadata_schema: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"metadata_schema\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\nconst userOrganizationPreferences = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"user_organization_preferences\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    user_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").notNull(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull(),\n    last_active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"last_active\"),\n    is_default: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_default\"),\n    theme: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"theme\"),\n    dashboard_layout: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"dashboard_layout\"),\n    notification_settings: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"notification_settings\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\nconst permissions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"permissions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\").notNull(),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\n// Insert schemas for missing tables\nconst insertItemSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(items);\nconst insertBookingCommentSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(bookingComments);\nconst insertPromotionTypeSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(promotionTypes);\nconst insertUserOrganizationPreferencesSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(userOrganizationPreferences);\nconst insertPermissionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(permissions);\n// Add missing regions and organizationRegions tables\nconst regions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"regions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"name\").notNull(),\n    code: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"code\").notNull(),\n    country: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"country\").notNull().default(\"US\"),\n    state: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"state\"),\n    timezone: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"timezone\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\nconst organizationRegions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_regions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    region_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"region_id\").notNull().references(()=>regions.id),\n    is_primary: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_primary\").notNull().default(false),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow()\n});\n// Add missing organizationBranding table\nconst organizationBranding = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_branding\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organization_id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    logo_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"logo_url\"),\n    primary_color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"primary_color\"),\n    secondary_color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"secondary_color\"),\n    accent_color: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"accent_color\"),\n    font_family: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"font_family\"),\n    custom_css: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"custom_css\"),\n    favicon_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"favicon_url\"),\n    brand_name: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"brand_name\"),\n    tagline: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"tagline\"),\n    website_url: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"website_url\"),\n    created_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").defaultNow(),\n    updated_at: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").defaultNow()\n});\n// Insert schemas for new tables\nconst insertRegionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(regions);\nconst insertOrganizationRegionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationRegions);\nconst insertOrganizationBrandingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationBranding);\n// Tasks table for task management\nconst tasks = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"tasks\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    title: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"title\").notNull(),\n    description: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"description\"),\n    assignedTo: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_to\").references(()=>users.id),\n    assignedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_by\").references(()=>users.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"pending\"),\n    priority: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"priority\").notNull().default(\"medium\"),\n    dueDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"due_date\"),\n    completedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"completed_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// User Permissions table for RBAC\nconst userPermissions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"user_permissions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").references(()=>users.id).notNull(),\n    permission: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"permission\").notNull(),\n    resource: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"resource\"),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    grantedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"granted_by\").references(()=>users.id),\n    grantedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"granted_at\").notNull().defaultNow(),\n    expiresAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"expires_at\"),\n    active: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"active\").notNull().default(true),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Insert schemas for new tables\nconst insertTaskSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(tasks);\nconst insertUserPermissionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(userPermissions);\n// RBAC exports for auth-service compatibility (removed duplicate exports - using versions defined earlier)\n// Kit Template Types (duplicate removed - using definition from line 584)\n// Kit types will be handled by KitInstance and KitTemplate\n// Audit Logs table for tracking system changes\nconst auditLogs = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"audit_logs\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    entityType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"entity_type\").notNull(),\n    entityId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"entity_id\").notNull(),\n    action: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"action\").notNull(),\n    changes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"changes\"),\n    userId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"user_id\").references(()=>users.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").references(()=>organizations.id),\n    ipAddress: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"ip_address\"),\n    userAgent: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"user_agent\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Insert schema for audit logs\nconst insertAuditLogSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(auditLogs);\n// Organization Invitations table\nconst organizationInvitations = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_invitations\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id, {\n        onDelete: \"cascade\"\n    }),\n    email: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"email\").notNull(),\n    role: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"role\").notNull(),\n    invitedByUserId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"invited_by_user_id\").references(()=>users.id),\n    token: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"token\").notNull().unique(),\n    expiresAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"expires_at\").notNull(),\n    acceptedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"accepted_at\"),\n    acceptedByUserId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"accepted_by_user_id\").references(()=>users.id),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Insert schema for organization invitations\nconst insertOrganizationInvitationSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationInvitations);\n// Organization Permissions table\nconst organizationPermissions = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"organization_permissions\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id, {\n        onDelete: \"cascade\"\n    }),\n    permission: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"permission\").notNull(),\n    isGranted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_granted\").notNull().default(false),\n    grantedByUserId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"granted_by_user_id\").references(()=>users.id),\n    grantedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"granted_at\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Insert schema for organization permissions\nconst insertOrganizationPermissionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(organizationPermissions);\n// Kit Component Inventory table\nconst kitComponentInventory = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"kit_component_inventory\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    kitId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_id\").notNull().references(()=>kits.id, {\n        onDelete: \"cascade\"\n    }),\n    componentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"component_id\").notNull(),\n    quantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quantity\").notNull().default(1),\n    assignedQuantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"assigned_quantity\").notNull().default(0),\n    availableQuantity: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"available_quantity\").notNull().default(1),\n    condition: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"condition\").default(\"good\"),\n    location: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"location\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Activity Kits table\nconst activityKits = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activity_kits\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    activityId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_id\").notNull(),\n    kitTemplateId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_template_id\").references(()=>kitTemplates.id),\n    kitInstanceId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"kit_instance_id\").references(()=>kits.id),\n    assignedToId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"assigned_to_id\").references(()=>users.id),\n    status: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"status\").notNull().default(\"assigned\"),\n    assignedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"assigned_at\").notNull().defaultNow(),\n    checkedOutAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"checked_out_at\"),\n    checkedInAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"checked_in_at\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Agent Skills table\nconst agentSkills = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"agent_skills\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    agentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    skillName: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"skill_name\").notNull(),\n    skillLevel: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"skill_level\").notNull().default(\"beginner\"),\n    certified: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"certified\").notNull().default(false),\n    certificationDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"certification_date\"),\n    expiryDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"expiry_date\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Insert schemas for missing tables\nconst insertKitComponentInventorySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(kitComponentInventory);\nconst insertActivityKitSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(activityKits);\nconst insertAgentSkillSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(agentSkills);\n// Brand Agent Performance Metrics Tables\n// These tables track the 8 specific metrics for brand agent performance measurement\n// 1. Manager Reviews (1-5 rating)\nconst managerReviews = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"manager_reviews\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    managerId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"manager_id\").notNull().references(()=>users.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"rating\").notNull(),\n    reviewPeriod: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"review_period\").notNull(),\n    comments: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"comments\"),\n    reviewDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"review_date\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// 2. On-time Performance (percentage based on bookings)\nconst onTimePerformance = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"on_time_performance\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    scheduledStartTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"scheduled_start_time\").notNull(),\n    actualStartTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"actual_start_time\"),\n    isOnTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_on_time\").notNull().default(false),\n    minutesLate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"minutes_late\").default(0),\n    reason: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"reason\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 3. On-location Compliance (percentage based on GPS/check-ins)\nconst locationCompliance = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"location_compliance\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").notNull().references(()=>locations.id),\n    checkInTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"check_in_time\"),\n    checkOutTime: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"check_out_time\"),\n    isCompliant: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_compliant\").notNull().default(false),\n    gpsLatitude: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"gps_latitude\", {\n        precision: 10,\n        scale: 8\n    }),\n    gpsLongitude: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"gps_longitude\", {\n        precision: 11,\n        scale: 8\n    }),\n    distanceFromLocation: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"distance_from_location\", {\n        precision: 8,\n        scale: 2\n    }),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 4. Dispensary Ratings (1-5 from dispensary staff)\nconst dispensaryRatings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"dispensary_ratings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    locationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"location_id\").notNull().references(()=>locations.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"rating\").notNull(),\n    ratedBy: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"rated_by\"),\n    ratedByTitle: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"rated_by_title\"),\n    feedback: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"feedback\"),\n    ratingDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"rating_date\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 5. Staff Ratings from Booking Locations (1-5 from other staff)\nconst staffRatings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"staff_ratings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    ratedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"rated_by_id\").notNull().references(()=>users.id),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    rating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"rating\").notNull(),\n    feedback: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"feedback\"),\n    ratingDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"rating_date\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 6. Activity Completion Rates (percentage based on assigned activities)\nconst activityCompletionRates = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"activity_completion_rates\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    activityId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"activity_id\").notNull().references(()=>activities.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    assignedDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"assigned_date\").notNull(),\n    dueDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"due_date\"),\n    completedDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"completed_date\"),\n    isCompleted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_completed\").notNull().default(false),\n    completionQuality: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"completion_quality\"),\n    notes: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"notes\"),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 7. Data Form Completion (percentage based on required forms)\nconst dataFormCompletion = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"data_form_completion\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    bookingId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"booking_id\").notNull().references(()=>bookings.id),\n    formType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"form_type\").notNull(),\n    formData: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_7__.jsonb)(\"form_data\"),\n    isCompleted: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_5__.boolean)(\"is_completed\").notNull().default(false),\n    requiredDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"required_date\").notNull(),\n    submittedDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"submitted_date\"),\n    completionRate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"completion_rate\", {\n        precision: 5,\n        scale: 2\n    }),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// 8. Data Form Quality Ratings (1-5 based on form review)\nconst dataFormQualityRatings = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"data_form_quality_ratings\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    formCompletionId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"form_completion_id\").notNull().references(()=>dataFormCompletion.id),\n    reviewedById: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"reviewed_by_id\").notNull().references(()=>users.id),\n    qualityRating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"quality_rating\").notNull(),\n    accuracyScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"accuracy_score\"),\n    completenessScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"completeness_score\"),\n    timelinessScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_9__.integer)(\"timeliness_score\"),\n    feedback: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"feedback\"),\n    reviewDate: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"review_date\").notNull(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow()\n});\n// Performance Summary (aggregated metrics for quick access)\nconst performanceSummary = (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_2__.pgTable)(\"performance_summary\", {\n    id: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"id\").primaryKey().defaultRandom(),\n    brandAgentId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"brand_agent_id\").notNull().references(()=>users.id, {\n        onDelete: \"cascade\"\n    }),\n    organizationId: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_3__.uuid)(\"organization_id\").notNull().references(()=>organizations.id),\n    periodType: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"period_type\").notNull(),\n    periodValue: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_4__.text)(\"period_value\").notNull(),\n    // Aggregated metrics\n    avgManagerReview: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"avg_manager_review\", {\n        precision: 3,\n        scale: 2\n    }),\n    onTimePercentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"on_time_percentage\", {\n        precision: 5,\n        scale: 2\n    }),\n    locationCompliancePercentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"location_compliance_percentage\", {\n        precision: 5,\n        scale: 2\n    }),\n    avgDispensaryRating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"avg_dispensary_rating\", {\n        precision: 3,\n        scale: 2\n    }),\n    avgStaffRating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"avg_staff_rating\", {\n        precision: 3,\n        scale: 2\n    }),\n    activityCompletionPercentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"activity_completion_percentage\", {\n        precision: 5,\n        scale: 2\n    }),\n    dataFormCompletionPercentage: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"data_form_completion_percentage\", {\n        precision: 5,\n        scale: 2\n    }),\n    avgDataFormQualityRating: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"avg_data_form_quality_rating\", {\n        precision: 3,\n        scale: 2\n    }),\n    // Overall performance score\n    overallPerformanceScore: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_8__.decimal)(\"overall_performance_score\", {\n        precision: 5,\n        scale: 2\n    }),\n    calculatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"calculated_at\").notNull().defaultNow(),\n    createdAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"created_at\").notNull().defaultNow(),\n    updatedAt: (0,drizzle_orm_pg_core__WEBPACK_IMPORTED_MODULE_6__.timestamp)(\"updated_at\").notNull().defaultNow()\n});\n// Insert schemas for performance metrics tables\nconst insertManagerReviewSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(managerReviews);\nconst insertOnTimePerformanceSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(onTimePerformance);\nconst insertLocationComplianceSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(locationCompliance);\nconst insertDispensaryRatingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(dispensaryRatings);\nconst insertStaffRatingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(staffRatings);\nconst insertActivityCompletionRateSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(activityCompletionRates);\nconst insertDataFormCompletionSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(dataFormCompletion);\nconst insertDataFormQualityRatingSchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(dataFormQualityRatings);\nconst insertPerformanceSummarySchema = (0,drizzle_zod__WEBPACK_IMPORTED_MODULE_0__.createInsertSchema)(performanceSummary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWtCQSxDQUFDa1osb0JBQW9CO0FBQzlFLE1BQU1pQyxvQ0FBb0NuYiwrREFBa0JBLENBQUN3Wix3QkFBd0I7QUFDckYsTUFBTTRCLGlDQUFpQ3BiLCtEQUFrQkEsQ0FBQytaLG9CQUFvQiIsInNvdXJjZXMiOlsiL2hvbWUvcnVubmVyL3dvcmtzcGFjZS9zaGFyZWQvc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2hhcmVkIERhdGFiYXNlIFNjaGVtYSBhbmQgVHlwZXNcbiAqIFRoaXMgZmlsZSBjb250YWlucyBhbGwgZGF0YWJhc2UgdGFibGUgZGVmaW5pdGlvbnMgYW5kIHJlbGF0ZWQgdHlwZXNcbiAqIHVzZWQgdGhyb3VnaG91dCB0aGUgUmlzaGkgUGxhdGZvcm0gYXBwbGljYXRpb25cbiAqL1xuXG5pbXBvcnQge1xuICBwZ1RhYmxlLFxuICB0ZXh0LFxuICB2YXJjaGFyLFxuICB0aW1lc3RhbXAsXG4gIGJvb2xlYW4sXG4gIGludGVnZXIsXG4gIHV1aWQsXG4gIGpzb25iLFxuICBkZWNpbWFsLFxuICBwZ0VudW0sXG4gIHNlcmlhbCxcbn0gZnJvbSBcImRyaXp6bGUtb3JtL3BnLWNvcmVcIjtcbmltcG9ydCB7IGNyZWF0ZUluc2VydFNjaGVtYSB9IGZyb20gXCJkcml6emxlLXpvZFwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gRW51bXNcbmV4cG9ydCBjb25zdCB1c2VyUm9sZUVudW0gPSBwZ0VudW0oXCJ1c2VyX3JvbGVcIiwgW1xuICBcInN1cGVyX2FkbWluXCIsXG4gIFwiaW50ZXJuYWxfYWRtaW5cIixcbiAgXCJpbnRlcm5hbF9maWVsZF9tYW5hZ2VyXCIsXG4gIFwiYnJhbmRfYWdlbnRcIixcbiAgXCJjbGllbnRfbWFuYWdlclwiLFxuICBcImNsaWVudF91c2VyXCIsXG5dKTtcblxuZXhwb3J0IGNvbnN0IG9yZ2FuaXphdGlvblR5cGVFbnVtID0gcGdFbnVtKFwib3JnYW5pemF0aW9uX3R5cGVcIiwgW1xuICBcImludGVybmFsXCIsXG4gIFwiY2xpZW50XCIsXG4gIFwicGFydG5lclwiLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBvcmdhbml6YXRpb25UaWVyRW51bSA9IHBnRW51bShcIm9yZ2FuaXphdGlvbl90aWVyXCIsIFtcbiAgXCJ0aWVyXzFcIixcbiAgXCJ0aWVyXzJcIixcbiAgXCJ0aWVyXzNcIixcbl0pO1xuXG5leHBvcnQgY29uc3QgYm9va2luZ1N0YXR1c0VudW0gPSBwZ0VudW0oXCJib29raW5nX3N0YXR1c1wiLCBbXG4gIFwiZHJhZnRcIixcbiAgXCJwZW5kaW5nXCIsXG4gIFwiYXBwcm92ZWRcIixcbiAgXCJyZWplY3RlZFwiLFxuICBcImluX3Byb2dyZXNzXCIsXG4gIFwiY29tcGxldGVkXCIsXG4gIFwiY2FuY2VsZWRcIixcbl0pO1xuXG4vLyBDb25zdGFudHMgZm9yIHVzZSBpbiBBUEkgcm91dGVzXG5leHBvcnQgY29uc3QgQk9PS0lOR19TVEFUVVMgPSB7XG4gIERSQUZUOiBcImRyYWZ0XCIsXG4gIFBFTkRJTkc6IFwicGVuZGluZ1wiLFxuICBBUFBST1ZFRDogXCJhcHByb3ZlZFwiLFxuICBSRUpFQ1RFRDogXCJyZWplY3RlZFwiLFxuICBJTl9QUk9HUkVTUzogXCJpbl9wcm9ncmVzc1wiLFxuICBDT01QTEVURUQ6IFwiY29tcGxldGVkXCIsXG4gIENBTkNFTEVEOiBcImNhbmNlbGVkXCIsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3QgYm9va2luZ1ByaW9yaXR5RW51bSA9IHBnRW51bShcImJvb2tpbmdfcHJpb3JpdHlcIiwgW1xuICBcImxvd1wiLFxuICBcIm1lZGl1bVwiLFxuICBcImhpZ2hcIixcbiAgXCJ1cmdlbnRcIixcbl0pO1xuXG5leHBvcnQgY29uc3Qgc2hpZnRTdGF0dXNFbnVtID0gcGdFbnVtKFwic2hpZnRfc3RhdHVzXCIsIFtcbiAgXCJkcmFmdFwiLFxuICBcIm9wZW5cIixcbiAgXCJhc3NpZ25lZFwiLFxuICBcImluX3Byb2dyZXNzXCIsXG4gIFwiY29tcGxldGVkXCIsXG4gIFwiY2FuY2VsbGVkXCIsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFzc2lnbm1lbnRTdGF0dXNFbnVtID0gcGdFbnVtKFwiYXNzaWdubWVudF9zdGF0dXNcIiwgW1xuICBcImFzc2lnbmVkXCIsXG4gIFwiY29uZmlybWVkXCIsXG4gIFwiY2hlY2tlZF9pblwiLFxuICBcImNvbXBsZXRlZFwiLFxuICBcIm5vX3Nob3dcIixcbl0pO1xuXG4vLyBDb3JlIFRhYmxlc1xuZXhwb3J0IGNvbnN0IHVzZXJzID0gcGdUYWJsZShcInVzZXJzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICB1c2VybmFtZTogdGV4dChcInVzZXJuYW1lXCIpLm5vdE51bGwoKSxcbiAgcGFzc3dvcmQ6IHRleHQoXCJwYXNzd29yZFwiKS5ub3ROdWxsKCksXG4gIHJvbGU6IHRleHQoXCJyb2xlXCIpLm5vdE51bGwoKSxcbiAgZnVsbE5hbWU6IHRleHQoXCJmdWxsX25hbWVcIiksXG4gIGVtYWlsOiB0ZXh0KFwiZW1haWxcIiksXG4gIHBob25lOiB0ZXh0KFwicGhvbmVcIiksXG4gIGFjdGl2ZTogYm9vbGVhbihcImFjdGl2ZVwiKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcbiAgcHJvZmlsZUltYWdlOiB0ZXh0KFwicHJvZmlsZV9pbWFnZVwiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBvcmdhbml6YXRpb25zID0gcGdUYWJsZShcIm9yZ2FuaXphdGlvbnNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG5hbWU6IHRleHQoXCJuYW1lXCIpLm5vdE51bGwoKSxcbiAgdHlwZTogdGV4dChcInR5cGVcIikubm90TnVsbCgpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIikubm90TnVsbCgpLFxuICBwcmltYXJ5X2NvbnRhY3RfaWQ6IHV1aWQoXCJwcmltYXJ5X2NvbnRhY3RfaWRcIiksXG4gIGJpbGxpbmdfYWRkcmVzczoganNvbmIoXCJiaWxsaW5nX2FkZHJlc3NcIiksXG4gIGJpbGxpbmdfZW1haWw6IHRleHQoXCJiaWxsaW5nX2VtYWlsXCIpLFxuICBiaWxsaW5nX3Bob25lOiB0ZXh0KFwiYmlsbGluZ19waG9uZVwiKSxcbiAgc3Vic2NyaXB0aW9uX3RpZXI6IHRleHQoXCJzdWJzY3JpcHRpb25fdGllclwiKSxcbiAgc3Vic2NyaXB0aW9uX3N0YXR1czogdGV4dChcInN1YnNjcmlwdGlvbl9zdGF0dXNcIiksXG4gIGxvZ29fdXJsOiB0ZXh0KFwibG9nb191cmxcIiksXG4gIHdlYnNpdGU6IHRleHQoXCJ3ZWJzaXRlXCIpLFxuICBub3RlczogdGV4dChcIm5vdGVzXCIpLFxuICB0aWVyOiB0ZXh0KFwidGllclwiKSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZXJPcmdhbml6YXRpb25zID0gcGdUYWJsZShcInVzZXJfb3JnYW5pemF0aW9uc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgdXNlcl9pZDogdXVpZChcInVzZXJfaWRcIikubm90TnVsbCgpLFxuICBvcmdhbml6YXRpb25faWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIikubm90TnVsbCgpLFxuICByb2xlOiB0ZXh0KFwicm9sZVwiKS5ub3ROdWxsKCksXG4gIGlzX2RlZmF1bHQ6IGJvb2xlYW4oXCJpc19kZWZhdWx0XCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgbG9jYXRpb25zID0gcGdUYWJsZShcImxvY2F0aW9uc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgbmFtZTogdGV4dChcIm5hbWVcIikubm90TnVsbCgpLFxuICB0eXBlOiB0ZXh0KFwidHlwZVwiKSxcbiAgYWRkcmVzczE6IHRleHQoXCJhZGRyZXNzMVwiKSxcbiAgYWRkcmVzczI6IHRleHQoXCJhZGRyZXNzMlwiKSxcbiAgY2l0eTogdGV4dChcImNpdHlcIikubm90TnVsbCgpLFxuICBzdGF0ZV9pZDogdXVpZChcInN0YXRlX2lkXCIpLFxuICB6aXBjb2RlOiB0ZXh0KFwiemlwY29kZVwiKSxcbiAgcGhvbmU6IHRleHQoXCJwaG9uZVwiKSxcbiAgZW1haWw6IHRleHQoXCJlbWFpbFwiKSxcbiAgd2Vic2l0ZTogdGV4dChcIndlYnNpdGVcIiksXG4gIGNvbnRhY3RfbmFtZTogdGV4dChcImNvbnRhY3RfbmFtZVwiKSxcbiAgY29udGFjdF9lbWFpbDogdGV4dChcImNvbnRhY3RfZW1haWxcIiksXG4gIGNvbnRhY3RfcGhvbmU6IHRleHQoXCJjb250YWN0X3Bob25lXCIpLFxuICBub3RlczogdGV4dChcIm5vdGVzXCIpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIiksXG4gIHJlcXVlc3RlZF9ieTogdXVpZChcInJlcXVlc3RlZF9ieVwiKSxcbiAgcmV2aWV3ZWRfYnk6IHV1aWQoXCJyZXZpZXdlZF9ieVwiKSxcbiAgcmV2aWV3X2RhdGU6IHRpbWVzdGFtcChcInJldmlld19kYXRlXCIpLFxuICBnZW9fbGF0OiBkZWNpbWFsKFwiZ2VvX2xhdFwiKSxcbiAgZ2VvX2xuZzogZGVjaW1hbChcImdlb19sbmdcIiksXG4gIGFjdGl2ZTogYm9vbGVhbihcImFjdGl2ZVwiKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHlwZXMgPSBwZ1RhYmxlKFwiYWN0aXZpdHlfdHlwZXNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG5hbWU6IHRleHQoXCJuYW1lXCIpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgY2F0ZWdvcnk6IHRleHQoXCJjYXRlZ29yeVwiKSxcbiAgaWNvbjogdGV4dChcImljb25cIiksXG4gIGNvbG9yOiB0ZXh0KFwiY29sb3JcIiksXG4gIG9yZ2FuaXphdGlvbklkOiB1dWlkKFwib3JnYW5pemF0aW9uX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIGlzU3lzdGVtRGVmaW5lZDogYm9vbGVhbihcImlzX3N5c3RlbV9kZWZpbmVkXCIpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgaXNBY3RpdmU6IGJvb2xlYW4oXCJpc19hY3RpdmVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpdml0aWVzID0gcGdUYWJsZShcImFjdGl2aXRpZXNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGJvb2tpbmdJZDogdXVpZChcImJvb2tpbmdfaWRcIikubm90TnVsbCgpLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICB0aXRsZTogdGV4dChcInRpdGxlXCIpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgYWN0aXZpdHlUeXBlSWQ6IHV1aWQoXCJhY3Rpdml0eV90eXBlX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gYWN0aXZpdHlUeXBlcy5pZCksXG4gIGxvY2F0aW9uSWQ6IHV1aWQoXCJsb2NhdGlvbl9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IGxvY2F0aW9ucy5pZCksXG4gIHN0YXR1czogdGV4dChcInN0YXR1c1wiKS5ub3ROdWxsKCkuZGVmYXVsdChcImFzc2lnbmVkXCIpLFxuICBzdGFydFRpbWU6IHRleHQoXCJzdGFydF90aW1lXCIpLFxuICBlbmRUaW1lOiB0ZXh0KFwiZW5kX3RpbWVcIiksXG4gIHN0YWZmUmVxdWlyZWQ6IGludGVnZXIoXCJzdGFmZl9yZXF1aXJlZFwiKSxcbiAgbm90ZXM6IHRleHQoXCJub3Rlc1wiKSxcbiAgYXNzaWduZWRCeUlkOiB1dWlkKFwiYXNzaWduZWRfYnlfaWRcIikucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGNyZWF0ZWRCeUlkOiB1dWlkKFwiY3JlYXRlZF9ieV9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBib29raW5ncyA9IHBnVGFibGUoXCJib29raW5nc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgdGl0bGU6IHRleHQoXCJ0aXRsZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGNsaWVudE9yZ2FuaXphdGlvbklkOiB1dWlkKFwiY2xpZW50X29yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgbG9jYXRpb25JZDogdXVpZChcImxvY2F0aW9uX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gbG9jYXRpb25zLmlkKSxcbiAgYWN0aXZpdHlUeXBlSWQ6IHV1aWQoXCJhY3Rpdml0eV90eXBlX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gYWN0aXZpdHlUeXBlcy5pZCksXG4gIHN0YXJ0RGF0ZTogdGltZXN0YW1wKFwic3RhcnRfZGF0ZVwiKS5ub3ROdWxsKCksXG4gIGVuZERhdGU6IHRpbWVzdGFtcChcImVuZF9kYXRlXCIpLm5vdE51bGwoKSxcbiAgc3RhcnRUaW1lOiB0ZXh0KFwic3RhcnRfdGltZVwiKSxcbiAgZW5kVGltZTogdGV4dChcImVuZF90aW1lXCIpLFxuICBidWRnZXQ6IGludGVnZXIoXCJidWRnZXRcIiksXG4gIGF0dGVuZGVlRXN0aW1hdGU6IGludGVnZXIoXCJhdHRlbmRlZV9lc3RpbWF0ZVwiKSxcbiAgc3RhdHVzOiBib29raW5nU3RhdHVzRW51bShcInN0YXR1c1wiKS5ub3ROdWxsKCkuZGVmYXVsdChcImRyYWZ0XCIpLFxuICBwcmlvcml0eTogYm9va2luZ1ByaW9yaXR5RW51bShcInByaW9yaXR5XCIpLm5vdE51bGwoKS5kZWZhdWx0KFwibWVkaXVtXCIpLFxuICBub3RlczogdGV4dChcIm5vdGVzXCIpLFxuICBwcm9tb3Rpb25UeXBlSWQ6IHV1aWQoXCJwcm9tb3Rpb25fdHlwZV9pZFwiKSxcbiAga2l0VGVtcGxhdGVJZDogdXVpZChcImtpdF90ZW1wbGF0ZV9pZFwiKSxcbiAgc3RhZmZDb3VudDogaW50ZWdlcihcInN0YWZmX2NvdW50XCIpLFxuICByZXF1aXJlc1RyYWluaW5nOiBib29sZWFuKFwicmVxdWlyZXNfdHJhaW5pbmdcIikuZGVmYXVsdChmYWxzZSksXG4gIGlzUmVjdXJyaW5nOiBib29sZWFuKFwiaXNfcmVjdXJyaW5nXCIpLmRlZmF1bHQoZmFsc2UpLFxuICByZWN1cnJlbmNlUGF0dGVybjogdGV4dChcInJlY3VycmVuY2VfcGF0dGVyblwiKSxcbiAgcmVjdXJyZW5jZUVuZERhdGU6IHRpbWVzdGFtcChcInJlY3VycmVuY2VfZW5kX2RhdGVcIiksXG4gIGNyZWF0ZWRCeUlkOiB1dWlkKFwiY3JlYXRlZF9ieV9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICBhcHByb3ZlZEJ5SWQ6IHV1aWQoXCJhcHByb3ZlZF9ieV9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgYXBwcm92ZWRBdDogdGltZXN0YW1wKFwiYXBwcm92ZWRfYXRcIiksXG4gIHJlamVjdGVkQnlJZDogdXVpZChcInJlamVjdGVkX2J5X2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICByZWplY3RlZEF0OiB0aW1lc3RhbXAoXCJyZWplY3RlZF9hdFwiKSxcbiAgcmVqZWN0aW9uUmVhc29uOiB0ZXh0KFwicmVqZWN0aW9uX3JlYXNvblwiKSxcbiAgY2FuY2VsZWRBdDogdGltZXN0YW1wKFwiY2FuY2VsZWRfYXRcIiksXG4gIGNhbmNlbGVkQnlJZDogdXVpZChcImNhbmNlbGVkX2J5X2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjYW5jZWxSZWFzb246IHRleHQoXCJjYW5jZWxfcmVhc29uXCIpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpdml0eUFzc2lnbm1lbnRzID0gcGdUYWJsZShcImFjdGl2aXR5X2Fzc2lnbm1lbnRzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBhY3Rpdml0eUlkOiB1dWlkKFwiYWN0aXZpdHlfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYWN0aXZpdGllcy5pZCksXG4gIHVzZXJJZDogdXVpZChcInVzZXJfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICByb2xlOiB0ZXh0KFwicm9sZVwiKSxcbiAgc3RhdHVzOiB0ZXh0KFwic3RhdHVzXCIpLm5vdE51bGwoKS5kZWZhdWx0KFwiYXNzaWduZWRcIiksXG4gIGFzc2lnbmVkQXQ6IHRpbWVzdGFtcChcImFzc2lnbmVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIGFzc2lnbmVkQnlJZDogdXVpZChcImFzc2lnbmVkX2J5X2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxufSk7XG5cbi8vIEJyYW5kIEFnZW50IEFzc2lnbm1lbnRzIHRhYmxlIGZvciBidWxrIGFzc2lnbm1lbnQgb3BlcmF0aW9uc1xuZXhwb3J0IGNvbnN0IGJyYW5kQWdlbnRBc3NpZ25tZW50cyA9IHBnVGFibGUoXCJicmFuZF9hZ2VudF9hc3NpZ25tZW50c1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYnJhbmRBZ2VudElkOiB1dWlkKFwiYnJhbmRfYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBib29raW5nSWQ6IHV1aWQoXCJib29raW5nX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICBhY3Rpdml0eUlkOiB1dWlkKFwiYWN0aXZpdHlfaWRcIikucmVmZXJlbmNlcygoKSA9PiBhY3Rpdml0aWVzLmlkKSxcbiAgcm9sZTogdGV4dChcInJvbGVcIiksXG4gIHN0YXR1czogdGV4dChcInN0YXR1c1wiKS5ub3ROdWxsKCkuZGVmYXVsdChcImFzc2lnbmVkXCIpLFxuICBhc3NpZ25lZEF0OiB0aW1lc3RhbXAoXCJhc3NpZ25lZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICBhc3NpZ25lZEJ5SWQ6IHV1aWQoXCJhc3NpZ25lZF9ieV9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbn0pO1xuXG4vLyBTeXN0ZW0gRXZlbnRzIHRhYmxlIGZvciBtZXNzYWdlIHNlbmRpbmdcbmV4cG9ydCBjb25zdCBzeXN0ZW1FdmVudHMgPSBwZ1RhYmxlKFwic3lzdGVtX2V2ZW50c1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgZXZlbnRUeXBlOiB0ZXh0KFwiZXZlbnRfdHlwZVwiKS5ub3ROdWxsKCksXG4gIHVzZXJJZDogdXVpZChcInVzZXJfaWRcIikucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIG9yZ2FuaXphdGlvbklkOiB1dWlkKFwib3JnYW5pemF0aW9uX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIG1ldGFkYXRhOiBqc29uYihcIm1ldGFkYXRhXCIpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBTdGF0ZXMgdGFibGUgZm9yIGxvY2F0aW9uIG1hbmFnZW1lbnRcbmV4cG9ydCBjb25zdCBzdGF0ZXMgPSBwZ1RhYmxlKFwic3RhdGVzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGFiYnJldmlhdGlvbjogdGV4dChcImFiYnJldmlhdGlvblwiKS5ub3ROdWxsKCksXG4gIGFjdGl2ZTogYm9vbGVhbihcImFjdGl2ZVwiKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEJyYW5kcyB0YWJsZVxuZXhwb3J0IGNvbnN0IGJyYW5kcyA9IHBnVGFibGUoXCJicmFuZHNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLmRlZmF1bHRSYW5kb20oKS5wcmltYXJ5S2V5KCksXG4gIG5hbWU6IHZhcmNoYXIoXCJuYW1lXCIsIHsgbGVuZ3RoOiAxNTAgfSkubm90TnVsbCgpLFxuICBkZXNjcmlwdGlvbjogdGV4dChcImRlc2NyaXB0aW9uXCIpLFxuICBsb2dvVXJsOiB0ZXh0KFwibG9nb191cmxcIiksXG4gIHByaW1hcnlDb2xvcjogdGV4dChcInByaW1hcnlfY29sb3JcIiksXG4gIHNlY29uZGFyeUNvbG9yOiB0ZXh0KFwic2Vjb25kYXJ5X2NvbG9yXCIpLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQpLFxuICBhY3RpdmU6IGJvb2xlYW4oXCJhY3RpdmVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gQnJhbmQgbG9jYXRpb25zIChtYW55LXRvLW1hbnkpXG5leHBvcnQgY29uc3QgYnJhbmRMb2NhdGlvbnMgPSBwZ1RhYmxlKFwiYnJhbmRfbG9jYXRpb25zXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5kZWZhdWx0UmFuZG9tKCkucHJpbWFyeUtleSgpLFxuICBicmFuZElkOiB1dWlkKFwiYnJhbmRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYnJhbmRzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgbG9jYXRpb25JZDogdXVpZChcImxvY2F0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGxvY2F0aW9ucy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGFjdGl2ZTogYm9vbGVhbihcImFjdGl2ZVwiKS5kZWZhdWx0KHRydWUpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEF2YWlsYWJpbGl0eSBCbG9ja3MgdGFibGUgZm9yIHNjaGVkdWxpbmdcbmV4cG9ydCBjb25zdCBhdmFpbGFiaWxpdHlCbG9ja3MgPSBwZ1RhYmxlKFwiYXZhaWxhYmlsaXR5X2Jsb2Nrc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgdXNlcl9pZDogdXVpZChcInVzZXJfaWRcIikubm90TnVsbCgpLFxuICB0aXRsZTogdGV4dChcInRpdGxlXCIpLFxuICBzdGFydF9kYXRlOiB0aW1lc3RhbXAoXCJzdGFydF9kYXRlXCIpLm5vdE51bGwoKSxcbiAgZW5kX2RhdGU6IHRpbWVzdGFtcChcImVuZF9kYXRlXCIpLm5vdE51bGwoKSxcbiAgZGF5X29mX3dlZWs6IGludGVnZXIoXCJkYXlfb2Zfd2Vla1wiKSxcbiAgaXNfcmVjdXJyaW5nOiBib29sZWFuKFwiaXNfcmVjdXJyaW5nXCIpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIiksXG4gIHJlY3VycmluZzogYm9vbGVhbihcInJlY3VycmluZ1wiKSxcbiAgcmVjdXJyZW5jZV9wYXR0ZXJuOiB0ZXh0KFwicmVjdXJyZW5jZV9wYXR0ZXJuXCIpLFxuICByZWN1cnJlbmNlX2dyb3VwOiB0ZXh0KFwicmVjdXJyZW5jZV9ncm91cFwiKSxcbiAgcmVjdXJyZW5jZV9lbmRfdHlwZTogdGV4dChcInJlY3VycmVuY2VfZW5kX3R5cGVcIiksXG4gIHJlY3VycmVuY2VfY291bnQ6IGludGVnZXIoXCJyZWN1cnJlbmNlX2NvdW50XCIpLFxuICByZWN1cnJlbmNlX2VuZF9kYXRlOiB0aW1lc3RhbXAoXCJyZWN1cnJlbmNlX2VuZF9kYXRlXCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9uVXNlcnMgPSBwZ1RhYmxlKFwib3JnYW5pemF0aW9uX3VzZXJzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBvcmdhbml6YXRpb25faWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIikubm90TnVsbCgpLFxuICB1c2VyX2lkOiB1dWlkKFwidXNlcl9pZFwiKS5ub3ROdWxsKCksXG4gIHJvbGU6IHRleHQoXCJyb2xlXCIpLm5vdE51bGwoKSxcbiAgdGl0bGU6IHRleHQoXCJ0aXRsZVwiKSxcbiAgZGVwYXJ0bWVudDogdGV4dChcImRlcGFydG1lbnRcIiksXG4gIGlzX3ByaW1hcnk6IGJvb2xlYW4oXCJpc19wcmltYXJ5XCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9uU2V0dGluZ3MgPSBwZ1RhYmxlKFwib3JnYW5pemF0aW9uX3NldHRpbmdzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBvcmdhbml6YXRpb25faWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIiksXG4gIGtleTogdGV4dChcImtleVwiKSxcbiAgdmFsdWU6IHRleHQoXCJ2YWx1ZVwiKSxcbiAgY2F0ZWdvcnk6IHRleHQoXCJjYXRlZ29yeVwiKSxcbiAgc2V0dGluZ19rZXk6IHRleHQoXCJzZXR0aW5nX2tleVwiKSxcbiAgc2V0dGluZ192YWx1ZTogdGV4dChcInNldHRpbmdfdmFsdWVcIiksXG4gIHVwZGF0ZWRfYnk6IHV1aWQoXCJ1cGRhdGVkX2J5XCIpLFxuICBub3RpZmljYXRpb25fZW1haWw6IHRleHQoXCJub3RpZmljYXRpb25fZW1haWxcIiksXG4gIHRpbWV6b25lOiB0ZXh0KFwidGltZXpvbmVcIiksXG4gIGxhbmd1YWdlOiB0ZXh0KFwibGFuZ3VhZ2VcIiksXG4gIGRhdGVfZm9ybWF0OiB0ZXh0KFwiZGF0ZV9mb3JtYXRcIiksXG4gIHRpbWVfZm9ybWF0OiB0ZXh0KFwidGltZV9mb3JtYXRcIiksXG4gIGJpbGxpbmdfY29udGFjdF9uYW1lOiB0ZXh0KFwiYmlsbGluZ19jb250YWN0X25hbWVcIiksXG4gIGJpbGxpbmdfY29udGFjdF9lbWFpbDogdGV4dChcImJpbGxpbmdfY29udGFjdF9lbWFpbFwiKSxcbiAgYmlsbGluZ19hZGRyZXNzOiB0ZXh0KFwiYmlsbGluZ19hZGRyZXNzXCIpLFxuICBhZGRpdGlvbmFsX3NldHRpbmdzOiBqc29uYihcImFkZGl0aW9uYWxfc2V0dGluZ3NcIiksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZF9hdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEludmVudG9yeSBJdGVtcyAtIEl0ZW1zIGF2YWlsYWJsZSBmb3IgcmVwbGVuaXNobWVudFxuZXhwb3J0IGNvbnN0IGludmVudG9yeUl0ZW1zID0gcGdUYWJsZShcImludmVudG9yeV9pdGVtc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgbmFtZTogdmFyY2hhcihcIm5hbWVcIiwgeyBsZW5ndGg6IDI1NSB9KS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGNhdGVnb3J5OiB2YXJjaGFyKFwiY2F0ZWdvcnlcIiwgeyBsZW5ndGg6IDEwMCB9KSxcbiAgc2t1OiB2YXJjaGFyKFwic2t1XCIsIHsgbGVuZ3RoOiAxMDAgfSksXG4gIHVuaXRfb2ZfbWVhc3VyZTogdmFyY2hhcihcInVuaXRfb2ZfbWVhc3VyZVwiLCB7IGxlbmd0aDogNTAgfSkubm90TnVsbCgpLmRlZmF1bHQoXCJlYWNoXCIpLFxuICBjb3N0X3Blcl91bml0OiBkZWNpbWFsKFwiY29zdF9wZXJfdW5pdFwiLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxuICBzdXBwbGllcl9pbmZvOiB0ZXh0KFwic3VwcGxpZXJfaW5mb1wiKSxcbiAgaXNfY29uc3VtYWJsZTogYm9vbGVhbihcImlzX2NvbnN1bWFibGVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIG1pbmltdW1fc3RvY2tfbGV2ZWw6IGludGVnZXIoXCJtaW5pbXVtX3N0b2NrX2xldmVsXCIpLmRlZmF1bHQoMCksXG4gIG1heGltdW1fc3RvY2tfbGV2ZWw6IGludGVnZXIoXCJtYXhpbXVtX3N0b2NrX2xldmVsXCIpLmRlZmF1bHQoMTAwMCksXG4gIGN1cnJlbnRfc3RvY2s6IGludGVnZXIoXCJjdXJyZW50X3N0b2NrXCIpLm5vdE51bGwoKS5kZWZhdWx0KDApLFxuICBhdmFpbGFibGVfc3RvY2s6IGludGVnZXIoXCJhdmFpbGFibGVfc3RvY2tcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIHJlc2VydmVkX3N0b2NrOiBpbnRlZ2VyKFwicmVzZXJ2ZWRfc3RvY2tcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIHJlb3JkZXJfcG9pbnQ6IGludGVnZXIoXCJyZW9yZGVyX3BvaW50XCIpLmRlZmF1bHQoMTApLFxuICBpc19hY3RpdmU6IGJvb2xlYW4oXCJpc19hY3RpdmVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZF9hdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEtpdCBUZW1wbGF0ZXMgLSBQcmVkZXRlcm1pbmVkIGJ5IFJpc2hpICsgY2xpZW50IGZvciBzcGVjaWZpYyBicmFuZHMvcmVnaW9uc1xuZXhwb3J0IGNvbnN0IGtpdFRlbXBsYXRlcyA9IHBnVGFibGUoXCJraXRfdGVtcGxhdGVzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIG9yZ2FuaXphdGlvbl9pZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgYnJhbmRfaWQ6IHV1aWQoXCJicmFuZF9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IGJyYW5kcy5pZCksXG4gIGltYWdlX3VybDogdGV4dChcImltYWdlX3VybFwiKSwgLy8gTWFpbiB0ZW1wbGF0ZSBpbWFnZVxuICB0aHVtYm5haWxfdXJsOiB0ZXh0KFwidGh1bWJuYWlsX3VybFwiKSwgLy8gT3B0aW1pemVkIHRodW1ibmFpbFxuICBpbWFnZV9hbHRfdGV4dDogdGV4dChcImltYWdlX2FsdF90ZXh0XCIpLCAvLyBBY2Nlc3NpYmlsaXR5IGRlc2NyaXB0aW9uXG4gIGFjdGl2ZTogYm9vbGVhbihcImFjdGl2ZVwiKS5ub3ROdWxsKCkuZGVmYXVsdCh0cnVlKSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gS2l0IFRlbXBsYXRlIEl0ZW1zIC0gSXRlbXMgdGhhdCBzaG91bGQgYmUgaW4gZWFjaCBraXQgdGVtcGxhdGVcbmV4cG9ydCBjb25zdCBraXRUZW1wbGF0ZUl0ZW1zID0gcGdUYWJsZShcImtpdF90ZW1wbGF0ZV9pdGVtc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAga2l0X3RlbXBsYXRlX2lkOiB1dWlkKFwia2l0X3RlbXBsYXRlX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGtpdFRlbXBsYXRlcy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGludmVudG9yeV9pdGVtX2lkOiB1dWlkKFwiaW52ZW50b3J5X2l0ZW1faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gaW52ZW50b3J5SXRlbXMuaWQpLFxuICBxdWFudGl0eV9yZXF1aXJlZDogaW50ZWdlcihcInF1YW50aXR5X3JlcXVpcmVkXCIpLm5vdE51bGwoKS5kZWZhdWx0KDEpLFxuICBpc19jcml0aWNhbDogYm9vbGVhbihcImlzX2NyaXRpY2FsXCIpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgdXNhZ2VfaW5zdHJ1Y3Rpb25zOiB0ZXh0KFwidXNhZ2VfaW5zdHJ1Y3Rpb25zXCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBLaXQgSW5zdGFuY2VzIC0gUGh5c2ljYWwgaW5zdGFuY2VzIG9mIHRlbXBsYXRlcyBpbiBzZXJ2aWNlXG5leHBvcnQgY29uc3Qga2l0SW5zdGFuY2VzID0gcGdUYWJsZShcImtpdHNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG5hbWU6IHRleHQoXCJuYW1lXCIpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgdGVtcGxhdGVfaWQ6IHV1aWQoXCJ0ZW1wbGF0ZV9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IGtpdFRlbXBsYXRlcy5pZCksXG4gIGxvY2F0aW9uX2lkOiB1dWlkKFwibG9jYXRpb25faWRcIikucmVmZXJlbmNlcygoKSA9PiBsb2NhdGlvbnMuaWQpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIikubm90TnVsbCgpLmRlZmF1bHQoXCJhdmFpbGFibGVcIiksXG4gIG9yZ2FuaXphdGlvbl9pZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgYWN0aXZlOiBib29sZWFuKFwiYWN0aXZlXCIpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBLaXQgSW5zdGFuY2UgSXRlbXMgLSBDdXJyZW50IGl0ZW1zIHdpdGhpbiBlYWNoIGtpdCBpbnN0YW5jZSB3aXRoIHF1YW50aXRpZXNcbmV4cG9ydCBjb25zdCBraXRJbnN0YW5jZUl0ZW1zID0gcGdUYWJsZShcImtpdF9pbnN0YW5jZV9pdGVtc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAga2l0X2luc3RhbmNlX2lkOiB1dWlkKFwia2l0X2luc3RhbmNlX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGtpdEluc3RhbmNlcy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGludmVudG9yeV9pdGVtX2lkOiB1dWlkKFwiaW52ZW50b3J5X2l0ZW1faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gaW52ZW50b3J5SXRlbXMuaWQpLFxuICBjdXJyZW50X3F1YW50aXR5OiBpbnRlZ2VyKFwiY3VycmVudF9xdWFudGl0eVwiKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcbiAgb3JpZ2luYWxfcXVhbnRpdHk6IGludGVnZXIoXCJvcmlnaW5hbF9xdWFudGl0eVwiKS5ub3ROdWxsKCkuZGVmYXVsdCgwKSxcbiAgbWluaW11bV9xdWFudGl0eTogaW50ZWdlcihcIm1pbmltdW1fcXVhbnRpdHlcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIGNvbnN1bWVkX3F1YW50aXR5OiBpbnRlZ2VyKFwiY29uc3VtZWRfcXVhbnRpdHlcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIGNvbmRpdGlvbjogdmFyY2hhcihcImNvbmRpdGlvblwiLCB7IGxlbmd0aDogNTAgfSkubm90TnVsbCgpLmRlZmF1bHQoXCJnb29kXCIpLFxuICBleHBpcmF0aW9uX2RhdGU6IHRpbWVzdGFtcChcImV4cGlyYXRpb25fZGF0ZVwiKSxcbiAgbGFzdF9yZXN0b2NrZWQ6IHRpbWVzdGFtcChcImxhc3RfcmVzdG9ja2VkXCIpLFxuICBuZWVkc19yZXBsZW5pc2htZW50OiBib29sZWFuKFwibmVlZHNfcmVwbGVuaXNobWVudFwiKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZF9hdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIENvbnN1bXB0aW9uIFRyYWNraW5nIC0gVHJhY2sgd2hhdCBnZXRzIGNvbnN1bWVkIGR1cmluZyBib29raW5nc1xuZXhwb3J0IGNvbnN0IGNvbnN1bXB0aW9uTG9ncyA9IHBnVGFibGUoXCJjb25zdW1wdGlvbl9sb2dzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBraXRfaW5zdGFuY2VfaWQ6IHV1aWQoXCJraXRfaW5zdGFuY2VfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4ga2l0SW5zdGFuY2VzLmlkKSxcbiAgaW52ZW50b3J5X2l0ZW1faWQ6IHV1aWQoXCJpbnZlbnRvcnlfaXRlbV9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBpbnZlbnRvcnlJdGVtcy5pZCksXG4gIGJvb2tpbmdfaWQ6IHV1aWQoXCJib29raW5nX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICBxdWFudGl0eV9jb25zdW1lZDogaW50ZWdlcihcInF1YW50aXR5X2NvbnN1bWVkXCIpLm5vdE51bGwoKSxcbiAgY29uc3VtcHRpb25fZGF0ZTogdGltZXN0YW1wKFwiY29uc3VtcHRpb25fZGF0ZVwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICBjb25zdW1lZF9ieTogdXVpZChcImNvbnN1bWVkX2J5XCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICByZWFzb246IHRleHQoXCJyZWFzb25cIiksXG4gIGxvY2F0aW9uOiB2YXJjaGFyKFwibG9jYXRpb25cIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIFJlcGxlbmlzaG1lbnQgUmVxdWVzdHMgLSBUcmFjayByZXF1ZXN0cyB0byByZXBsZW5pc2gga2l0IGluc3RhbmNlc1xuZXhwb3J0IGNvbnN0IHJlcGxlbmlzaG1lbnRSZXF1ZXN0cyA9IHBnVGFibGUoXCJyZXBsZW5pc2htZW50X3JlcXVlc3RzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBraXRfaW5zdGFuY2VfaWQ6IHV1aWQoXCJraXRfaW5zdGFuY2VfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4ga2l0SW5zdGFuY2VzLmlkKSxcbiAgcmVxdWVzdGVkX2J5OiB1dWlkKFwicmVxdWVzdGVkX2J5XCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgc3RhdHVzOiB2YXJjaGFyKFwic3RhdHVzXCIsIHsgbGVuZ3RoOiA1MCB9KS5ub3ROdWxsKCkuZGVmYXVsdChcInBlbmRpbmdcIiksIC8vIHBlbmRpbmcsIGFwcHJvdmVkLCBpbl9wcm9ncmVzcywgY29tcGxldGVkLCBjYW5jZWxlZFxuICBwcmlvcml0eTogdmFyY2hhcihcInByaW9yaXR5XCIsIHsgbGVuZ3RoOiA1MCB9KS5ub3ROdWxsKCkuZGVmYXVsdChcIm1lZGl1bVwiKSwgLy8gbG93LCBtZWRpdW0sIGhpZ2gsIHVyZ2VudFxuICBkdWVfZGF0ZTogdGltZXN0YW1wKFwiZHVlX2RhdGVcIiksXG4gIGFwcHJvdmVkX2J5OiB1dWlkKFwiYXBwcm92ZWRfYnlcIikucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGFwcHJvdmVkX2F0OiB0aW1lc3RhbXAoXCJhcHByb3ZlZF9hdFwiKSxcbiAgY29tcGxldGVkX2J5OiB1dWlkKFwiY29tcGxldGVkX2J5XCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjb21wbGV0ZWRfYXQ6IHRpbWVzdGFtcChcImNvbXBsZXRlZF9hdFwiKSxcbiAgdG90YWxfZXN0aW1hdGVkX2Nvc3Q6IGRlY2ltYWwoXCJ0b3RhbF9lc3RpbWF0ZWRfY29zdFwiLCB7IHByZWNpc2lvbjogMTAsIHNjYWxlOiAyIH0pLFxuICBub3RlczogdGV4dChcIm5vdGVzXCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBSZXBsZW5pc2htZW50IFJlcXVlc3QgSXRlbXMgLSBTcGVjaWZpYyBpdGVtcyB0byByZXBsZW5pc2hcbmV4cG9ydCBjb25zdCByZXBsZW5pc2htZW50UmVxdWVzdEl0ZW1zID0gcGdUYWJsZShcInJlcGxlbmlzaG1lbnRfcmVxdWVzdF9pdGVtc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgcmVwbGVuaXNobWVudF9yZXF1ZXN0X2lkOiB1dWlkKFwicmVwbGVuaXNobWVudF9yZXF1ZXN0X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHJlcGxlbmlzaG1lbnRSZXF1ZXN0cy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIGludmVudG9yeV9pdGVtX2lkOiB1dWlkKFwiaW52ZW50b3J5X2l0ZW1faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gaW52ZW50b3J5SXRlbXMuaWQpLFxuICBxdWFudGl0eV9yZXF1ZXN0ZWQ6IGludGVnZXIoXCJxdWFudGl0eV9yZXF1ZXN0ZWRcIikubm90TnVsbCgpLFxuICBxdWFudGl0eV9hcHByb3ZlZDogaW50ZWdlcihcInF1YW50aXR5X2FwcHJvdmVkXCIpLmRlZmF1bHQoMCksXG4gIHF1YW50aXR5X3N1cHBsaWVkOiBpbnRlZ2VyKFwicXVhbnRpdHlfc3VwcGxpZWRcIikuZGVmYXVsdCgwKSxcbiAgdW5pdF9jb3N0OiBkZWNpbWFsKFwidW5pdF9jb3N0XCIsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gIHRvdGFsX2Nvc3Q6IGRlY2ltYWwoXCJ0b3RhbF9jb3N0XCIsIHsgcHJlY2lzaW9uOiAxMCwgc2NhbGU6IDIgfSksXG4gIHN1cHBsaWVyOiB2YXJjaGFyKFwic3VwcGxpZXJcIiwgeyBsZW5ndGg6IDI1NSB9KSxcbiAgdHJhY2tpbmdfbnVtYmVyOiB2YXJjaGFyKFwidHJhY2tpbmdfbnVtYmVyXCIsIHsgbGVuZ3RoOiAxMDAgfSksXG4gIGRlbGl2ZXJlZF9hdDogdGltZXN0YW1wKFwiZGVsaXZlcmVkX2F0XCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRfYXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBDb25zdGFudHNcbmV4cG9ydCBjb25zdCBVU0VSX1JPTEVTID0ge1xuICBTVVBFUl9BRE1JTjogXCJzdXBlcl9hZG1pblwiLFxuICBJTlRFUk5BTF9BRE1JTjogXCJpbnRlcm5hbF9hZG1pblwiLFxuICBJTlRFUk5BTF9GSUVMRF9NQU5BR0VSOiBcImludGVybmFsX2ZpZWxkX21hbmFnZXJcIixcbiAgQlJBTkRfQUdFTlQ6IFwiYnJhbmRfYWdlbnRcIixcbiAgQ0xJRU5UX01BTkFHRVI6IFwiY2xpZW50X21hbmFnZXJcIixcbiAgQ0xJRU5UX1VTRVI6IFwiY2xpZW50X3VzZXJcIixcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBjb25zdCBCT09LSU5HX1BSSU9SSVRZID0ge1xuICBMT1c6IFwibG93XCIsXG4gIE1FRElVTTogXCJtZWRpdW1cIixcbiAgSElHSDogXCJoaWdoXCIsXG4gIFVSR0VOVDogXCJ1cmdlbnRcIixcbn0gYXMgY29uc3Q7XG5cbi8vIFJvbGUgcGVybWlzc2lvbnMgY29uc3RhbnRzXG5leHBvcnQgY29uc3Qgcm9sZXMgPSBbXG4gIFwic3VwZXJfYWRtaW5cIixcbiAgXCJpbnRlcm5hbF9hZG1pblwiLCBcbiAgXCJpbnRlcm5hbF9maWVsZF9tYW5hZ2VyXCIsXG4gIFwiYnJhbmRfYWdlbnRcIixcbiAgXCJjbGllbnRfbWFuYWdlclwiLFxuICBcImNsaWVudF91c2VyXCIsXG5dIGFzIGNvbnN0O1xuXG5leHBvcnQgY29uc3Qgcm9sZVBlcm1pc3Npb25zID0ge1xuICBzdXBlcl9hZG1pbjogW1wiKlwiXSxcbiAgaW50ZXJuYWxfYWRtaW46IFtcImNyZWF0ZToqXCIsIFwicmVhZDoqXCIsIFwidXBkYXRlOipcIiwgXCJkZWxldGU6KlwiXSxcbiAgaW50ZXJuYWxfZmllbGRfbWFuYWdlcjogW1wiY3JlYXRlOmJvb2tpbmdzXCIsIFwicmVhZDoqXCIsIFwidXBkYXRlOmJvb2tpbmdzXCIsIFwidXBkYXRlOnN0YWZmXCJdLFxuICBicmFuZF9hZ2VudDogW1wicmVhZDpib29raW5nc1wiLCBcInJlYWQ6c3RhZmZcIiwgXCJ1cGRhdGU6cHJvZmlsZVwiXSxcbiAgY2xpZW50X21hbmFnZXI6IFtcImNyZWF0ZTpib29raW5nc1wiLCBcInJlYWQ6Ym9va2luZ3NcIiwgXCJ1cGRhdGU6Ym9va2luZ3NcIiwgXCJyZWFkOnN0YWZmXCJdLFxuICBjbGllbnRfdXNlcjogW1wicmVhZDpib29raW5nc1wiLCBcInJlYWQ6c3RhZmZcIiwgXCJ1cGRhdGU6cHJvZmlsZVwiXSxcbn0gYXMgY29uc3Q7XG5cbi8vIEluc2VydCBTY2hlbWFzIHVzaW5nIGRyaXp6bGUtem9kXG5leHBvcnQgY29uc3QgaW5zZXJ0VXNlclNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYSh1c2Vycyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0T3JnYW5pemF0aW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKG9yZ2FuaXphdGlvbnMpO1xuZXhwb3J0IGNvbnN0IGluc2VydExvY2F0aW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGxvY2F0aW9ucyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0QWN0aXZpdHlTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoYWN0aXZpdGllcyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0Qm9va2luZ1NjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShib29raW5ncyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0QWN0aXZpdHlUeXBlU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGFjdGl2aXR5VHlwZXMpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0QWN0aXZpdHlBc3NpZ25tZW50U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKFxuICBhY3Rpdml0eUFzc2lnbm1lbnRzLFxuKTtcblxuLy8gTmV3IGludmVudG9yeS9raXQgaW5zZXJ0IHNjaGVtYXNcbmV4cG9ydCBjb25zdCBpbnNlcnRJbnZlbnRvcnlJdGVtU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGludmVudG9yeUl0ZW1zKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEtpdFRlbXBsYXRlU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGtpdFRlbXBsYXRlcyk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRLaXRUZW1wbGF0ZUl0ZW1TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoa2l0VGVtcGxhdGVJdGVtcyk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRLaXRJbnN0YW5jZVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShraXRJbnN0YW5jZXMpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0S2l0SW5zdGFuY2VJdGVtU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGtpdEluc3RhbmNlSXRlbXMpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0Q29uc3VtcHRpb25Mb2dTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoY29uc3VtcHRpb25Mb2dzKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFJlcGxlbmlzaG1lbnRSZXF1ZXN0U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHJlcGxlbmlzaG1lbnRSZXF1ZXN0cyk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRSZXBsZW5pc2htZW50UmVxdWVzdEl0ZW1TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEocmVwbGVuaXNobWVudFJlcXVlc3RJdGVtcyk7XG5cbi8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYWxpYXNlcyAobW92ZWQgYWZ0ZXIgc2NoZW1hIGRlZmluaXRpb25zKVxuZXhwb3J0IGNvbnN0IGtpdHMgPSBraXRJbnN0YW5jZXM7XG5leHBvcnQgY29uc3QgaW5zZXJ0S2l0U2NoZW1hID0gaW5zZXJ0S2l0SW5zdGFuY2VTY2hlbWE7XG5cbi8vIFR5cGUgZXhwb3J0cyBmb3IgbmV3IGludmVudG9yeS9raXQgc3lzdGVtXG5leHBvcnQgdHlwZSBJbnZlbnRvcnlJdGVtID0gdHlwZW9mIGludmVudG9yeUl0ZW1zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEludmVudG9yeUl0ZW0gPSB0eXBlb2YgaW5zZXJ0SW52ZW50b3J5SXRlbVNjaGVtYS5fdHlwZTtcblxuZXhwb3J0IHR5cGUgS2l0VGVtcGxhdGUgPSB0eXBlb2Yga2l0VGVtcGxhdGVzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEtpdFRlbXBsYXRlID0gdHlwZW9mIGluc2VydEtpdFRlbXBsYXRlU2NoZW1hLl90eXBlO1xuXG5leHBvcnQgdHlwZSBLaXRUZW1wbGF0ZUl0ZW0gPSB0eXBlb2Yga2l0VGVtcGxhdGVJdGVtcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRLaXRUZW1wbGF0ZUl0ZW0gPSB0eXBlb2YgaW5zZXJ0S2l0VGVtcGxhdGVJdGVtU2NoZW1hLl90eXBlO1xuXG5leHBvcnQgdHlwZSBLaXRJbnN0YW5jZSA9IHR5cGVvZiBraXRJbnN0YW5jZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0S2l0SW5zdGFuY2UgPSB0eXBlb2YgaW5zZXJ0S2l0SW5zdGFuY2VTY2hlbWEuX3R5cGU7XG5cbmV4cG9ydCB0eXBlIEtpdEluc3RhbmNlSXRlbSA9IHR5cGVvZiBraXRJbnN0YW5jZUl0ZW1zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEtpdEluc3RhbmNlSXRlbSA9IHR5cGVvZiBpbnNlcnRLaXRJbnN0YW5jZUl0ZW1TY2hlbWEuX3R5cGU7XG5cbmV4cG9ydCB0eXBlIENvbnN1bXB0aW9uTG9nID0gdHlwZW9mIGNvbnN1bXB0aW9uTG9ncy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRDb25zdW1wdGlvbkxvZyA9IHR5cGVvZiBpbnNlcnRDb25zdW1wdGlvbkxvZ1NjaGVtYS5fdHlwZTtcblxuZXhwb3J0IHR5cGUgUmVwbGVuaXNobWVudFJlcXVlc3QgPSB0eXBlb2YgcmVwbGVuaXNobWVudFJlcXVlc3RzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFJlcGxlbmlzaG1lbnRSZXF1ZXN0ID0gdHlwZW9mIGluc2VydFJlcGxlbmlzaG1lbnRSZXF1ZXN0U2NoZW1hLl90eXBlO1xuXG5leHBvcnQgdHlwZSBSZXBsZW5pc2htZW50UmVxdWVzdEl0ZW0gPSB0eXBlb2YgcmVwbGVuaXNobWVudFJlcXVlc3RJdGVtcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRSZXBsZW5pc2htZW50UmVxdWVzdEl0ZW0gPSB0eXBlb2YgaW5zZXJ0UmVwbGVuaXNobWVudFJlcXVlc3RJdGVtU2NoZW1hLl90eXBlO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0VXNlck9yZ2FuaXphdGlvblNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShcbiAgdXNlck9yZ2FuaXphdGlvbnMsXG4pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0T3JnYW5pemF0aW9uVXNlclNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShcbiAgb3JnYW5pemF0aW9uVXNlcnMsXG4pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0T3JnYW5pemF0aW9uU2V0dGluZ3NTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIG9yZ2FuaXphdGlvblNldHRpbmdzLFxuKTtcblxuLy8gSW5mZXIgVHlwZXNcbmV4cG9ydCB0eXBlIFVzZXIgPSB0eXBlb2YgdXNlcnMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0VXNlciA9IHouaW5mZXI8dHlwZW9mIGluc2VydFVzZXJTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBPcmdhbml6YXRpb24gPSB0eXBlb2Ygb3JnYW5pemF0aW9ucy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRPcmdhbml6YXRpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRPcmdhbml6YXRpb25TY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBMb2NhdGlvbiA9IHR5cGVvZiBsb2NhdGlvbnMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0TG9jYXRpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRMb2NhdGlvblNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIEFjdGl2aXR5ID0gdHlwZW9mIGFjdGl2aXRpZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QWN0aXZpdHkgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRBY3Rpdml0eVNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIEJvb2tpbmcgPSB0eXBlb2YgYm9va2luZ3MuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0Qm9va2luZyA9IHouaW5mZXI8dHlwZW9mIGluc2VydEJvb2tpbmdTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBBY3Rpdml0eVR5cGUgPSB0eXBlb2YgYWN0aXZpdHlUeXBlcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBY3Rpdml0eVR5cGUgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRBY3Rpdml0eVR5cGVTY2hlbWE+O1xuXG5leHBvcnQgdHlwZSBBY3Rpdml0eUFzc2lnbm1lbnQgPSB0eXBlb2YgYWN0aXZpdHlBc3NpZ25tZW50cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBY3Rpdml0eUFzc2lnbm1lbnQgPSB6LmluZmVyPFxuICB0eXBlb2YgaW5zZXJ0QWN0aXZpdHlBc3NpZ25tZW50U2NoZW1hXG4+O1xuXG5leHBvcnQgdHlwZSBVc2VyT3JnYW5pemF0aW9uID0gdHlwZW9mIHVzZXJPcmdhbml6YXRpb25zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFVzZXJPcmdhbml6YXRpb24gPSB6LmluZmVyPFxuICB0eXBlb2YgaW5zZXJ0VXNlck9yZ2FuaXphdGlvblNjaGVtYVxuPjtcblxuZXhwb3J0IHR5cGUgT3JnYW5pemF0aW9uVXNlciA9IHR5cGVvZiBvcmdhbml6YXRpb25Vc2Vycy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRPcmdhbml6YXRpb25Vc2VyID0gei5pbmZlcjxcbiAgdHlwZW9mIGluc2VydE9yZ2FuaXphdGlvblVzZXJTY2hlbWFcbj47XG5cbmV4cG9ydCB0eXBlIE9yZ2FuaXphdGlvblNldHRpbmdzID0gdHlwZW9mIG9yZ2FuaXphdGlvblNldHRpbmdzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydE9yZ2FuaXphdGlvblNldHRpbmdzID0gei5pbmZlcjxcbiAgdHlwZW9mIGluc2VydE9yZ2FuaXphdGlvblNldHRpbmdzU2NoZW1hXG4+O1xuXG4vLyBBZGRpdGlvbmFsIGluc2VydCBzY2hlbWFzIGZvciB0aGUgbmV3IHRhYmxlc1xuZXhwb3J0IGNvbnN0IGluc2VydEJyYW5kQWdlbnRBc3NpZ25tZW50U2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKFxuICBicmFuZEFnZW50QXNzaWdubWVudHMsXG4pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0U3lzdGVtRXZlbnRTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoc3lzdGVtRXZlbnRzKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFN0YXRlU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHN0YXRlcyk7XG5cbi8vIEFkZGl0aW9uYWwgaW5mZXIgdHlwZXMgZm9yIHRoZSBuZXcgdGFibGVzXG5leHBvcnQgdHlwZSBCcmFuZEFnZW50QXNzaWdubWVudCA9IHR5cGVvZiBicmFuZEFnZW50QXNzaWdubWVudHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QnJhbmRBZ2VudEFzc2lnbm1lbnQgPSB6LmluZmVyPFxuICB0eXBlb2YgaW5zZXJ0QnJhbmRBZ2VudEFzc2lnbm1lbnRTY2hlbWFcbj47XG5cbmV4cG9ydCB0eXBlIFN5c3RlbUV2ZW50ID0gdHlwZW9mIHN5c3RlbUV2ZW50cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRTeXN0ZW1FdmVudCA9IHouaW5mZXI8dHlwZW9mIGluc2VydFN5c3RlbUV2ZW50U2NoZW1hPjtcblxuZXhwb3J0IHR5cGUgU3RhdGUgPSB0eXBlb2Ygc3RhdGVzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFN0YXRlID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0U3RhdGVTY2hlbWE+O1xuXG4vLyBBZGRpdGlvbmFsIGluc2VydCBzY2hlbWFzIGZvciBuZXcgdGFibGVzXG5leHBvcnQgY29uc3QgaW5zZXJ0QnJhbmRTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoYnJhbmRzKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEJyYW5kTG9jYXRpb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIGJyYW5kTG9jYXRpb25zLFxuKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEF2YWlsYWJpbGl0eUJsb2NrU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKFxuICBhdmFpbGFiaWxpdHlCbG9ja3MsXG4pO1xuXG4vLyBBZGRpdGlvbmFsIGluZmVyIHR5cGVzIGZvciBuZXcgdGFibGVzXG5leHBvcnQgdHlwZSBCcmFuZCA9IHR5cGVvZiBicmFuZHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QnJhbmQgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCcmFuZFNjaGVtYT47XG5leHBvcnQgdHlwZSBCcmFuZExvY2F0aW9uID0gdHlwZW9mIGJyYW5kTG9jYXRpb25zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEJyYW5kTG9jYXRpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCcmFuZExvY2F0aW9uU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEF2YWlsYWJpbGl0eUJsb2NrID0gdHlwZW9mIGF2YWlsYWJpbGl0eUJsb2Nrcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBdmFpbGFiaWxpdHlCbG9jayA9IHouaW5mZXI8XG4gIHR5cGVvZiBpbnNlcnRBdmFpbGFiaWxpdHlCbG9ja1NjaGVtYVxuPjtcblxuLy8gU2hpZnRzIFRhYmxlIC0gRW5oYW5jZWQgZXZlbnQgc2NoZWR1bGluZyBmb3Igd29ya2ZvcmNlXG5leHBvcnQgY29uc3Qgc2hpZnRzID0gcGdUYWJsZShcInNoaWZ0c1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikuZGVmYXVsdFJhbmRvbSgpLnByaW1hcnlLZXkoKSxcbiAgZXZlbnRJZDogdXVpZChcImV2ZW50X2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gc3lzdGVtRXZlbnRzLmlkKSxcbiAgdGl0bGU6IHZhcmNoYXIoXCJ0aXRsZVwiLCB7IGxlbmd0aDogMjAwIH0pLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKSxcbiAgbG9jYXRpb25JZDogdXVpZChcImxvY2F0aW9uX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gbG9jYXRpb25zLmlkKSxcbiAgYnJhbmRJZDogdXVpZChcImJyYW5kX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gYnJhbmRzLmlkKSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIHN0YXJ0RGF0ZVRpbWU6IHRpbWVzdGFtcChcInN0YXJ0X2RhdGV0aW1lXCIpLm5vdE51bGwoKSxcbiAgZW5kRGF0ZVRpbWU6IHRpbWVzdGFtcChcImVuZF9kYXRldGltZVwiKS5ub3ROdWxsKCksXG4gIHJlcXVpcmVkQWdlbnRzOiBpbnRlZ2VyKFwicmVxdWlyZWRfYWdlbnRzXCIpLmRlZmF1bHQoMSksXG4gIHN0YXR1czogc2hpZnRTdGF0dXNFbnVtKFwic3RhdHVzXCIpLmRlZmF1bHQoXCJkcmFmdFwiKSxcbiAgcmVxdWlyZWRTa2lsbHM6IGpzb25iKFwicmVxdWlyZWRfc2tpbGxzXCIpLFxuICBob3VybHlSYXRlOiBkZWNpbWFsKFwiaG91cmx5X3JhdGVcIiwgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcbiAgdG90YWxCdWRnZXQ6IGRlY2ltYWwoXCJ0b3RhbF9idWRnZXRcIiwgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogMiB9KSxcbiAgbm90ZXM6IHRleHQoXCJub3Rlc1wiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbiAgY3JlYXRlZEJ5OiB1dWlkKFwiY3JlYXRlZF9ieVwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY2FuY2VsbGF0aW9uUmVhc29uOiB0ZXh0KFwiY2FuY2VsbGF0aW9uX3JlYXNvblwiKSxcbn0pO1xuXG4vLyBTaGlmdCBBc3NpZ25tZW50c1xuZXhwb3J0IGNvbnN0IHNoaWZ0QXNzaWdubWVudHMgPSBwZ1RhYmxlKFwic2hpZnRfYXNzaWdubWVudHNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLmRlZmF1bHRSYW5kb20oKS5wcmltYXJ5S2V5KCksXG4gIHNoaWZ0SWQ6IHV1aWQoXCJzaGlmdF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBzaGlmdHMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBhZ2VudElkOiB1dWlkKFwiYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBhc3NpZ25tZW50U3RhdHVzOlxuICAgIGFzc2lnbm1lbnRTdGF0dXNFbnVtKFwiYXNzaWdubWVudF9zdGF0dXNcIikuZGVmYXVsdChcImFzc2lnbmVkXCIpLFxuICBhc3NpZ25lZEF0OiB0aW1lc3RhbXAoXCJhc3NpZ25lZF9hdFwiKS5kZWZhdWx0Tm93KCksXG4gIGFzc2lnbmVkQnk6IHV1aWQoXCJhc3NpZ25lZF9ieVwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY29uZmlybWVkQXQ6IHRpbWVzdGFtcChcImNvbmZpcm1lZF9hdFwiKSxcbiAgY2hlY2tlZEluQXQ6IHRpbWVzdGFtcChcImNoZWNrZWRfaW5fYXRcIiksXG4gIGNoZWNrZWRPdXRBdDogdGltZXN0YW1wKFwiY2hlY2tlZF9vdXRfYXRcIiksXG4gIGFjdHVhbEhvdXJzOiBkZWNpbWFsKFwiYWN0dWFsX2hvdXJzXCIsIHsgcHJlY2lzaW9uOiA0LCBzY2FsZTogMiB9KSxcbiAgbm90ZXM6IHRleHQoXCJub3Rlc1wiKSxcbn0pO1xuXG4vLyBJbnNlcnQgc2NoZW1hcyBmb3Igc2hpZnRzXG5leHBvcnQgY29uc3QgaW5zZXJ0U2hpZnRTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoc2hpZnRzKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFNoaWZ0QXNzaWdubWVudFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShcbiAgc2hpZnRBc3NpZ25tZW50cyxcbik7XG5cbi8vIFR5cGVzIGZvciBzaGlmdHNcbmV4cG9ydCB0eXBlIFNoaWZ0ID0gdHlwZW9mIHNoaWZ0cy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRTaGlmdCA9IHouaW5mZXI8dHlwZW9mIGluc2VydFNoaWZ0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFNoaWZ0QXNzaWdubWVudCA9IHR5cGVvZiBzaGlmdEFzc2lnbm1lbnRzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFNoaWZ0QXNzaWdubWVudCA9IHouaW5mZXI8dHlwZW9mIGluc2VydFNoaWZ0QXNzaWdubWVudFNjaGVtYT47XG5cbi8vIE1pc3NpbmcgdGFibGVzIHRoYXQgYXJlIHJlZmVyZW5jZWQgaW4gQVBJIHJvdXRlc1xuZXhwb3J0IGNvbnN0IGl0ZW1zID0gcGdUYWJsZShcIml0ZW1zXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZF9hdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gUHJvcGVyIGJvb2tpbmcgY29tbWVudHMgdGFibGVcbmV4cG9ydCBjb25zdCBib29raW5nQ29tbWVudHMgPSBwZ1RhYmxlKFwiYm9va2luZ19jb21tZW50c1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYm9va2luZ0lkOiB1dWlkKFwiYm9va2luZ19pZFwiKS5ub3ROdWxsKCkucmVmZXJlbmNlcygoKSA9PiBib29raW5ncy5pZCksXG4gIGF1dGhvcklkOiB1dWlkKFwiYXV0aG9yX2lkXCIpLm5vdE51bGwoKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgY29udGVudDogdGV4dChcImNvbnRlbnRcIikubm90TnVsbCgpLFxuICBpc0ludGVybmFsOiBib29sZWFuKFwiaXNfaW50ZXJuYWxcIikubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gTm90ZTogcHJvbW90aW9uVHlwZXMgdGFibGUgZG9lcyBub3QgZXhpc3QgLSB1c2luZyBhY3Rpdml0eV90eXBlcyBmb3IgcHJvbW90aW9uc1xuZXhwb3J0IGNvbnN0IHByb21vdGlvblR5cGVzID0gcGdUYWJsZShcImFjdGl2aXR5X3R5cGVzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBuYW1lOiB0ZXh0KFwibmFtZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGljb246IHRleHQoXCJpY29uXCIpLFxuICBjb2xvcjogdGV4dChcImNvbG9yXCIpLFxuICBvcmdhbml6YXRpb25faWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIiksXG4gIGlzX3N5c3RlbV9kZWZpbmVkOiBib29sZWFuKFwiaXNfc3lzdGVtX2RlZmluZWRcIikubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxuICBtZXRhZGF0YV9zY2hlbWE6IGpzb25iKFwibWV0YWRhdGFfc2NoZW1hXCIpLFxuICBhY3RpdmU6IGJvb2xlYW4oXCJhY3RpdmVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlck9yZ2FuaXphdGlvblByZWZlcmVuY2VzID0gcGdUYWJsZShcbiAgXCJ1c2VyX29yZ2FuaXphdGlvbl9wcmVmZXJlbmNlc1wiLFxuICB7XG4gICAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICAgIHVzZXJfaWQ6IHV1aWQoXCJ1c2VyX2lkXCIpLm5vdE51bGwoKSxcbiAgICBvcmdhbml6YXRpb25faWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIikubm90TnVsbCgpLFxuICAgIGxhc3RfYWN0aXZlOiB0aW1lc3RhbXAoXCJsYXN0X2FjdGl2ZVwiKSxcbiAgICBpc19kZWZhdWx0OiBib29sZWFuKFwiaXNfZGVmYXVsdFwiKSxcbiAgICB0aGVtZTogdGV4dChcInRoZW1lXCIpLFxuICAgIGRhc2hib2FyZF9sYXlvdXQ6IGpzb25iKFwiZGFzaGJvYXJkX2xheW91dFwiKSxcbiAgICBub3RpZmljYXRpb25fc2V0dGluZ3M6IGpzb25iKFwibm90aWZpY2F0aW9uX3NldHRpbmdzXCIpLFxuICAgIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIH0sXG4pO1xuXG5leHBvcnQgY29uc3QgcGVybWlzc2lvbnMgPSBwZ1RhYmxlKFwicGVybWlzc2lvbnNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG5hbWU6IHRleHQoXCJuYW1lXCIpLm5vdE51bGwoKSxcbiAgZGVzY3JpcHRpb246IHRleHQoXCJkZXNjcmlwdGlvblwiKS5ub3ROdWxsKCksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5cblxuLy8gSW5zZXJ0IHNjaGVtYXMgZm9yIG1pc3NpbmcgdGFibGVzXG5leHBvcnQgY29uc3QgaW5zZXJ0SXRlbVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShpdGVtcyk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRCb29raW5nQ29tbWVudFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShcbiAgYm9va2luZ0NvbW1lbnRzLFxuKTtcblxuXG5cbmV4cG9ydCBjb25zdCBpbnNlcnRQcm9tb3Rpb25UeXBlU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKFxuICBwcm9tb3Rpb25UeXBlcyxcbik7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRVc2VyT3JnYW5pemF0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIHVzZXJPcmdhbml6YXRpb25QcmVmZXJlbmNlcyxcbik7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRQZXJtaXNzaW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHBlcm1pc3Npb25zKTtcblxuLy8gQWRkIG1pc3NpbmcgcmVnaW9ucyBhbmQgb3JnYW5pemF0aW9uUmVnaW9ucyB0YWJsZXNcbmV4cG9ydCBjb25zdCByZWdpb25zID0gcGdUYWJsZShcInJlZ2lvbnNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG5hbWU6IHRleHQoXCJuYW1lXCIpLm5vdE51bGwoKSxcbiAgY29kZTogdGV4dChcImNvZGVcIikubm90TnVsbCgpLFxuICBjb3VudHJ5OiB0ZXh0KFwiY291bnRyeVwiKS5ub3ROdWxsKCkuZGVmYXVsdChcIlVTXCIpLFxuICBzdGF0ZTogdGV4dChcInN0YXRlXCIpLFxuICB0aW1lem9uZTogdGV4dChcInRpbWV6b25lXCIpLFxuICBhY3RpdmU6IGJvb2xlYW4oXCJhY3RpdmVcIikubm90TnVsbCgpLmRlZmF1bHQodHJ1ZSksXG4gIGNyZWF0ZWRfYXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkX2F0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbn0pO1xuXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9uUmVnaW9ucyA9IHBnVGFibGUoXCJvcmdhbml6YXRpb25fcmVnaW9uc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgb3JnYW5pemF0aW9uX2lkOiB1dWlkKFwib3JnYW5pemF0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQpLFxuICByZWdpb25faWQ6IHV1aWQoXCJyZWdpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gcmVnaW9ucy5pZCksXG4gIGlzX3ByaW1hcnk6IGJvb2xlYW4oXCJpc19wcmltYXJ5XCIpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgY3JlYXRlZF9hdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gQWRkIG1pc3Npbmcgb3JnYW5pemF0aW9uQnJhbmRpbmcgdGFibGVcbmV4cG9ydCBjb25zdCBvcmdhbml6YXRpb25CcmFuZGluZyA9IHBnVGFibGUoXCJvcmdhbml6YXRpb25fYnJhbmRpbmdcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG9yZ2FuaXphdGlvbl9pZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgbG9nb191cmw6IHRleHQoXCJsb2dvX3VybFwiKSxcbiAgcHJpbWFyeV9jb2xvcjogdGV4dChcInByaW1hcnlfY29sb3JcIiksXG4gIHNlY29uZGFyeV9jb2xvcjogdGV4dChcInNlY29uZGFyeV9jb2xvclwiKSxcbiAgYWNjZW50X2NvbG9yOiB0ZXh0KFwiYWNjZW50X2NvbG9yXCIpLFxuICBmb250X2ZhbWlseTogdGV4dChcImZvbnRfZmFtaWx5XCIpLFxuICBjdXN0b21fY3NzOiB0ZXh0KFwiY3VzdG9tX2Nzc1wiKSxcbiAgZmF2aWNvbl91cmw6IHRleHQoXCJmYXZpY29uX3VybFwiKSxcbiAgYnJhbmRfbmFtZTogdGV4dChcImJyYW5kX25hbWVcIiksXG4gIHRhZ2xpbmU6IHRleHQoXCJ0YWdsaW5lXCIpLFxuICB3ZWJzaXRlX3VybDogdGV4dChcIndlYnNpdGVfdXJsXCIpLFxuICBjcmVhdGVkX2F0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZF9hdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gSW5zZXJ0IHNjaGVtYXMgZm9yIG5ldyB0YWJsZXNcbmV4cG9ydCBjb25zdCBpbnNlcnRSZWdpb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEocmVnaW9ucyk7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRPcmdhbml6YXRpb25SZWdpb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIG9yZ2FuaXphdGlvblJlZ2lvbnMsXG4pO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0T3JnYW5pemF0aW9uQnJhbmRpbmdTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIG9yZ2FuaXphdGlvbkJyYW5kaW5nLFxuKTtcblxuXG5cbi8vIFR5cGVzIGZvciBtaXNzaW5nIHRhYmxlc1xuZXhwb3J0IHR5cGUgSXRlbSA9IHR5cGVvZiBpdGVtcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRJdGVtID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0SXRlbVNjaGVtYT47XG5leHBvcnQgdHlwZSBCb29raW5nQ29tbWVudCA9IHR5cGVvZiBib29raW5nQ29tbWVudHMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0Qm9va2luZ0NvbW1lbnQgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRCb29raW5nQ29tbWVudFNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIFByb21vdGlvblR5cGUgPSB0eXBlb2YgcHJvbW90aW9uVHlwZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0UHJvbW90aW9uVHlwZSA9IHouaW5mZXI8dHlwZW9mIGluc2VydFByb21vdGlvblR5cGVTY2hlbWE+O1xuZXhwb3J0IHR5cGUgVXNlck9yZ2FuaXphdGlvblByZWZlcmVuY2VzID1cbiAgdHlwZW9mIHVzZXJPcmdhbml6YXRpb25QcmVmZXJlbmNlcy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRVc2VyT3JnYW5pemF0aW9uUHJlZmVyZW5jZXMgPSB6LmluZmVyPFxuICB0eXBlb2YgaW5zZXJ0VXNlck9yZ2FuaXphdGlvblByZWZlcmVuY2VzU2NoZW1hXG4+O1xuZXhwb3J0IHR5cGUgUGVybWlzc2lvbiA9IHR5cGVvZiBwZXJtaXNzaW9ucy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRQZXJtaXNzaW9uID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0UGVybWlzc2lvblNjaGVtYT47XG5cbmV4cG9ydCB0eXBlIFJlZ2lvbiA9IHR5cGVvZiByZWdpb25zLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFJlZ2lvbiA9IHouaW5mZXI8dHlwZW9mIGluc2VydFJlZ2lvblNjaGVtYT47XG5leHBvcnQgdHlwZSBPcmdhbml6YXRpb25SZWdpb24gPSB0eXBlb2Ygb3JnYW5pemF0aW9uUmVnaW9ucy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRPcmdhbml6YXRpb25SZWdpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRPcmdhbml6YXRpb25SZWdpb25TY2hlbWE+O1xuZXhwb3J0IHR5cGUgT3JnYW5pemF0aW9uQnJhbmRpbmcgPSB0eXBlb2Ygb3JnYW5pemF0aW9uQnJhbmRpbmcuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0T3JnYW5pemF0aW9uQnJhbmRpbmcgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRPcmdhbml6YXRpb25CcmFuZGluZ1NjaGVtYT47XG5cbi8vIFRhc2tzIHRhYmxlIGZvciB0YXNrIG1hbmFnZW1lbnRcbmV4cG9ydCBjb25zdCB0YXNrcyA9IHBnVGFibGUoXCJ0YXNrc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgdGl0bGU6IHRleHQoXCJ0aXRsZVwiKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KFwiZGVzY3JpcHRpb25cIiksXG4gIGFzc2lnbmVkVG86IHV1aWQoXCJhc3NpZ25lZF90b1wiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgYXNzaWduZWRCeTogdXVpZChcImFzc2lnbmVkX2J5XCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIikubm90TnVsbCgpLmRlZmF1bHQoXCJwZW5kaW5nXCIpLFxuICBwcmlvcml0eTogdGV4dChcInByaW9yaXR5XCIpLm5vdE51bGwoKS5kZWZhdWx0KFwibWVkaXVtXCIpLFxuICBkdWVEYXRlOiB0aW1lc3RhbXAoXCJkdWVfZGF0ZVwiKSxcbiAgY29tcGxldGVkQXQ6IHRpbWVzdGFtcChcImNvbXBsZXRlZF9hdFwiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIFVzZXIgUGVybWlzc2lvbnMgdGFibGUgZm9yIFJCQUNcbmV4cG9ydCBjb25zdCB1c2VyUGVybWlzc2lvbnMgPSBwZ1RhYmxlKFwidXNlcl9wZXJtaXNzaW9uc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgdXNlcklkOiB1dWlkKFwidXNlcl9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKS5ub3ROdWxsKCksXG4gIHBlcm1pc3Npb246IHRleHQoXCJwZXJtaXNzaW9uXCIpLm5vdE51bGwoKSxcbiAgcmVzb3VyY2U6IHRleHQoXCJyZXNvdXJjZVwiKSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIikucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgZ3JhbnRlZEJ5OiB1dWlkKFwiZ3JhbnRlZF9ieVwiKS5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgZ3JhbnRlZEF0OiB0aW1lc3RhbXAoXCJncmFudGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIGV4cGlyZXNBdDogdGltZXN0YW1wKFwiZXhwaXJlc19hdFwiKSxcbiAgYWN0aXZlOiBib29sZWFuKFwiYWN0aXZlXCIpLm5vdE51bGwoKS5kZWZhdWx0KHRydWUpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gSW5zZXJ0IHNjaGVtYXMgZm9yIG5ldyB0YWJsZXNcbmV4cG9ydCBjb25zdCBpbnNlcnRUYXNrU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHRhc2tzKTtcblxuZXhwb3J0IGNvbnN0IGluc2VydFVzZXJQZXJtaXNzaW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHVzZXJQZXJtaXNzaW9ucyk7XG5cbi8vIFR5cGVzIGZvciBuZXcgdGFibGVzXG5leHBvcnQgdHlwZSBUYXNrID0gdHlwZW9mIHRhc2tzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydFRhc2sgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRUYXNrU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFVzZXJQZXJtaXNzaW9uID0gdHlwZW9mIHVzZXJQZXJtaXNzaW9ucy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRVc2VyUGVybWlzc2lvbiA9IHouaW5mZXI8dHlwZW9mIGluc2VydFVzZXJQZXJtaXNzaW9uU2NoZW1hPjtcblxuLy8gUkJBQyBleHBvcnRzIGZvciBhdXRoLXNlcnZpY2UgY29tcGF0aWJpbGl0eSAocmVtb3ZlZCBkdXBsaWNhdGUgZXhwb3J0cyAtIHVzaW5nIHZlcnNpb25zIGRlZmluZWQgZWFybGllcilcblxuLy8gS2l0IFRlbXBsYXRlIFR5cGVzIChkdXBsaWNhdGUgcmVtb3ZlZCAtIHVzaW5nIGRlZmluaXRpb24gZnJvbSBsaW5lIDU4NClcbi8vIEtpdCB0eXBlcyB3aWxsIGJlIGhhbmRsZWQgYnkgS2l0SW5zdGFuY2UgYW5kIEtpdFRlbXBsYXRlXG5cbi8vIEF1ZGl0IExvZ3MgdGFibGUgZm9yIHRyYWNraW5nIHN5c3RlbSBjaGFuZ2VzXG5leHBvcnQgY29uc3QgYXVkaXRMb2dzID0gcGdUYWJsZShcImF1ZGl0X2xvZ3NcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGVudGl0eVR5cGU6IHRleHQoXCJlbnRpdHlfdHlwZVwiKS5ub3ROdWxsKCksXG4gIGVudGl0eUlkOiB1dWlkKFwiZW50aXR5X2lkXCIpLm5vdE51bGwoKSxcbiAgYWN0aW9uOiB0ZXh0KFwiYWN0aW9uXCIpLm5vdE51bGwoKSxcbiAgY2hhbmdlczoganNvbmIoXCJjaGFuZ2VzXCIpLFxuICB1c2VySWQ6IHV1aWQoXCJ1c2VyX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKS5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQpLFxuICBpcEFkZHJlc3M6IHRleHQoXCJpcF9hZGRyZXNzXCIpLFxuICB1c2VyQWdlbnQ6IHRleHQoXCJ1c2VyX2FnZW50XCIpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBJbnNlcnQgc2NoZW1hIGZvciBhdWRpdCBsb2dzXG5leHBvcnQgY29uc3QgaW5zZXJ0QXVkaXRMb2dTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoYXVkaXRMb2dzKTtcblxuLy8gVHlwZXMgZm9yIGF1ZGl0IGxvZ3NcbmV4cG9ydCB0eXBlIEF1ZGl0TG9nID0gdHlwZW9mIGF1ZGl0TG9ncy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBdWRpdExvZyA9IHouaW5mZXI8dHlwZW9mIGluc2VydEF1ZGl0TG9nU2NoZW1hPjtcblxuLy8gT3JnYW5pemF0aW9uIEludml0YXRpb25zIHRhYmxlXG5leHBvcnQgY29uc3Qgb3JnYW5pemF0aW9uSW52aXRhdGlvbnMgPSBwZ1RhYmxlKFwib3JnYW5pemF0aW9uX2ludml0YXRpb25zXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgZW1haWw6IHRleHQoXCJlbWFpbFwiKS5ub3ROdWxsKCksXG4gIHJvbGU6IHRleHQoXCJyb2xlXCIpLm5vdE51bGwoKSxcbiAgaW52aXRlZEJ5VXNlcklkOiB1dWlkKFwiaW52aXRlZF9ieV91c2VyX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICB0b2tlbjogdGV4dChcInRva2VuXCIpLm5vdE51bGwoKS51bmlxdWUoKSxcbiAgZXhwaXJlc0F0OiB0aW1lc3RhbXAoXCJleHBpcmVzX2F0XCIpLm5vdE51bGwoKSxcbiAgYWNjZXB0ZWRBdDogdGltZXN0YW1wKFwiYWNjZXB0ZWRfYXRcIiksXG4gIGFjY2VwdGVkQnlVc2VySWQ6IHV1aWQoXCJhY2NlcHRlZF9ieV91c2VyX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gSW5zZXJ0IHNjaGVtYSBmb3Igb3JnYW5pemF0aW9uIGludml0YXRpb25zXG5leHBvcnQgY29uc3QgaW5zZXJ0T3JnYW5pemF0aW9uSW52aXRhdGlvblNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShcbiAgb3JnYW5pemF0aW9uSW52aXRhdGlvbnMsXG4pO1xuXG4vLyBPcmdhbml6YXRpb24gUGVybWlzc2lvbnMgdGFibGVcbmV4cG9ydCBjb25zdCBvcmdhbml6YXRpb25QZXJtaXNzaW9ucyA9IHBnVGFibGUoXCJvcmdhbml6YXRpb25fcGVybWlzc2lvbnNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIG9yZ2FuaXphdGlvbklkOiB1dWlkKFwib3JnYW5pemF0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBwZXJtaXNzaW9uOiB0ZXh0KFwicGVybWlzc2lvblwiKS5ub3ROdWxsKCksXG4gIGlzR3JhbnRlZDogYm9vbGVhbihcImlzX2dyYW50ZWRcIikubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxuICBncmFudGVkQnlVc2VySWQ6IHV1aWQoXCJncmFudGVkX2J5X3VzZXJfaWRcIikucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGdyYW50ZWRBdDogdGltZXN0YW1wKFwiZ3JhbnRlZF9hdFwiKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIEluc2VydCBzY2hlbWEgZm9yIG9yZ2FuaXphdGlvbiBwZXJtaXNzaW9uc1xuZXhwb3J0IGNvbnN0IGluc2VydE9yZ2FuaXphdGlvblBlcm1pc3Npb25TY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIG9yZ2FuaXphdGlvblBlcm1pc3Npb25zLFxuKTtcblxuLy8gVHlwZXMgZm9yIG9yZ2FuaXphdGlvbiBpbnZpdGF0aW9ucyBhbmQgcGVybWlzc2lvbnNcbmV4cG9ydCB0eXBlIE9yZ2FuaXphdGlvbkludml0YXRpb24gPVxuICB0eXBlb2Ygb3JnYW5pemF0aW9uSW52aXRhdGlvbnMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0T3JnYW5pemF0aW9uSW52aXRhdGlvbiA9IHouaW5mZXI8XG4gIHR5cGVvZiBpbnNlcnRPcmdhbml6YXRpb25JbnZpdGF0aW9uU2NoZW1hXG4+O1xuZXhwb3J0IHR5cGUgT3JnYW5pemF0aW9uUGVybWlzc2lvbiA9XG4gIHR5cGVvZiBvcmdhbml6YXRpb25QZXJtaXNzaW9ucy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRPcmdhbml6YXRpb25QZXJtaXNzaW9uID0gei5pbmZlcjxcbiAgdHlwZW9mIGluc2VydE9yZ2FuaXphdGlvblBlcm1pc3Npb25TY2hlbWFcbj47XG5cbi8vIEtpdCBDb21wb25lbnQgSW52ZW50b3J5IHRhYmxlXG5leHBvcnQgY29uc3Qga2l0Q29tcG9uZW50SW52ZW50b3J5ID0gcGdUYWJsZShcImtpdF9jb21wb25lbnRfaW52ZW50b3J5XCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBraXRJZDogdXVpZChcImtpdF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBraXRzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgY29tcG9uZW50SWQ6IHV1aWQoXCJjb21wb25lbnRfaWRcIikubm90TnVsbCgpLFxuICBxdWFudGl0eTogaW50ZWdlcihcInF1YW50aXR5XCIpLm5vdE51bGwoKS5kZWZhdWx0KDEpLFxuICBhc3NpZ25lZFF1YW50aXR5OiBpbnRlZ2VyKFwiYXNzaWduZWRfcXVhbnRpdHlcIikubm90TnVsbCgpLmRlZmF1bHQoMCksXG4gIGF2YWlsYWJsZVF1YW50aXR5OiBpbnRlZ2VyKFwiYXZhaWxhYmxlX3F1YW50aXR5XCIpLm5vdE51bGwoKS5kZWZhdWx0KDEpLFxuICBjb25kaXRpb246IHRleHQoXCJjb25kaXRpb25cIikuZGVmYXVsdChcImdvb2RcIiksXG4gIGxvY2F0aW9uOiB0ZXh0KFwibG9jYXRpb25cIiksXG4gIG5vdGVzOiB0ZXh0KFwibm90ZXNcIiksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBBY3Rpdml0eSBLaXRzIHRhYmxlXG5leHBvcnQgY29uc3QgYWN0aXZpdHlLaXRzID0gcGdUYWJsZShcImFjdGl2aXR5X2tpdHNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGFjdGl2aXR5SWQ6IHV1aWQoXCJhY3Rpdml0eV9pZFwiKS5ub3ROdWxsKCksXG4gIGtpdFRlbXBsYXRlSWQ6IHV1aWQoXCJraXRfdGVtcGxhdGVfaWRcIikucmVmZXJlbmNlcygoKSA9PiBraXRUZW1wbGF0ZXMuaWQpLFxuICBraXRJbnN0YW5jZUlkOiB1dWlkKFwia2l0X2luc3RhbmNlX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4ga2l0cy5pZCksXG4gIGFzc2lnbmVkVG9JZDogdXVpZChcImFzc2lnbmVkX3RvX2lkXCIpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLFxuICBzdGF0dXM6IHRleHQoXCJzdGF0dXNcIikubm90TnVsbCgpLmRlZmF1bHQoXCJhc3NpZ25lZFwiKSxcbiAgYXNzaWduZWRBdDogdGltZXN0YW1wKFwiYXNzaWduZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgY2hlY2tlZE91dEF0OiB0aW1lc3RhbXAoXCJjaGVja2VkX291dF9hdFwiKSxcbiAgY2hlY2tlZEluQXQ6IHRpbWVzdGFtcChcImNoZWNrZWRfaW5fYXRcIiksXG4gIG5vdGVzOiB0ZXh0KFwibm90ZXNcIiksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBBZ2VudCBTa2lsbHMgdGFibGVcbmV4cG9ydCBjb25zdCBhZ2VudFNraWxscyA9IHBnVGFibGUoXCJhZ2VudF9za2lsbHNcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGFnZW50SWQ6IHV1aWQoXCJhZ2VudF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHNraWxsTmFtZTogdGV4dChcInNraWxsX25hbWVcIikubm90TnVsbCgpLFxuICBza2lsbExldmVsOiB0ZXh0KFwic2tpbGxfbGV2ZWxcIikubm90TnVsbCgpLmRlZmF1bHQoXCJiZWdpbm5lclwiKSxcbiAgY2VydGlmaWVkOiBib29sZWFuKFwiY2VydGlmaWVkXCIpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgY2VydGlmaWNhdGlvbkRhdGU6IHRpbWVzdGFtcChcImNlcnRpZmljYXRpb25fZGF0ZVwiKSxcbiAgZXhwaXJ5RGF0ZTogdGltZXN0YW1wKFwiZXhwaXJ5X2RhdGVcIiksXG4gIG5vdGVzOiB0ZXh0KFwibm90ZXNcIiksXG4gIGNyZWF0ZWRBdDogdGltZXN0YW1wKFwiY3JlYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICB1cGRhdGVkQXQ6IHRpbWVzdGFtcChcInVwZGF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyBJbnNlcnQgc2NoZW1hcyBmb3IgbWlzc2luZyB0YWJsZXNcbmV4cG9ydCBjb25zdCBpbnNlcnRLaXRDb21wb25lbnRJbnZlbnRvcnlTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoXG4gIGtpdENvbXBvbmVudEludmVudG9yeSxcbik7XG5cbmV4cG9ydCBjb25zdCBpbnNlcnRBY3Rpdml0eUtpdFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShhY3Rpdml0eUtpdHMpO1xuXG5leHBvcnQgY29uc3QgaW5zZXJ0QWdlbnRTa2lsbFNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShhZ2VudFNraWxscyk7XG5cbi8vIFR5cGVzIGZvciBtaXNzaW5nIHRhYmxlc1xuZXhwb3J0IHR5cGUgS2l0Q29tcG9uZW50SW52ZW50b3J5ID0gdHlwZW9mIGtpdENvbXBvbmVudEludmVudG9yeS4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRLaXRDb21wb25lbnRJbnZlbnRvcnkgPSB6LmluZmVyPFxuICB0eXBlb2YgaW5zZXJ0S2l0Q29tcG9uZW50SW52ZW50b3J5U2NoZW1hXG4+O1xuZXhwb3J0IHR5cGUgQWN0aXZpdHlLaXQgPSB0eXBlb2YgYWN0aXZpdHlLaXRzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydEFjdGl2aXR5S2l0ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0QWN0aXZpdHlLaXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgQWdlbnRTa2lsbCA9IHR5cGVvZiBhZ2VudFNraWxscy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRBZ2VudFNraWxsID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0QWdlbnRTa2lsbFNjaGVtYT47XG5cbi8vIEJyYW5kIEFnZW50IFBlcmZvcm1hbmNlIE1ldHJpY3MgVGFibGVzXG4vLyBUaGVzZSB0YWJsZXMgdHJhY2sgdGhlIDggc3BlY2lmaWMgbWV0cmljcyBmb3IgYnJhbmQgYWdlbnQgcGVyZm9ybWFuY2UgbWVhc3VyZW1lbnRcblxuLy8gMS4gTWFuYWdlciBSZXZpZXdzICgxLTUgcmF0aW5nKVxuZXhwb3J0IGNvbnN0IG1hbmFnZXJSZXZpZXdzID0gcGdUYWJsZShcIm1hbmFnZXJfcmV2aWV3c1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYnJhbmRBZ2VudElkOiB1dWlkKFwiYnJhbmRfYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBtYW5hZ2VySWQ6IHV1aWQoXCJtYW5hZ2VyX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIHJhdGluZzogaW50ZWdlcihcInJhdGluZ1wiKS5ub3ROdWxsKCksIC8vIDEtNSBzY2FsZVxuICByZXZpZXdQZXJpb2Q6IHRleHQoXCJyZXZpZXdfcGVyaW9kXCIpLm5vdE51bGwoKSwgLy8gZS5nLiwgXCIyMDI1LTAxXCIsIFwiUTEtMjAyNVwiXG4gIGNvbW1lbnRzOiB0ZXh0KFwiY29tbWVudHNcIiksXG4gIHJldmlld0RhdGU6IHRpbWVzdGFtcChcInJldmlld19kYXRlXCIpLm5vdE51bGwoKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG4gIHVwZGF0ZWRBdDogdGltZXN0YW1wKFwidXBkYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxufSk7XG5cbi8vIDIuIE9uLXRpbWUgUGVyZm9ybWFuY2UgKHBlcmNlbnRhZ2UgYmFzZWQgb24gYm9va2luZ3MpXG5leHBvcnQgY29uc3Qgb25UaW1lUGVyZm9ybWFuY2UgPSBwZ1RhYmxlKFwib25fdGltZV9wZXJmb3JtYW5jZVwiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYnJhbmRBZ2VudElkOiB1dWlkKFwiYnJhbmRfYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgYm9va2luZ0lkOiB1dWlkKFwiYm9va2luZ19pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBib29raW5ncy5pZCksXG4gIHNjaGVkdWxlZFN0YXJ0VGltZTogdGltZXN0YW1wKFwic2NoZWR1bGVkX3N0YXJ0X3RpbWVcIikubm90TnVsbCgpLFxuICBhY3R1YWxTdGFydFRpbWU6IHRpbWVzdGFtcChcImFjdHVhbF9zdGFydF90aW1lXCIpLFxuICBpc09uVGltZTogYm9vbGVhbihcImlzX29uX3RpbWVcIikubm90TnVsbCgpLmRlZmF1bHQoZmFsc2UpLFxuICBtaW51dGVzTGF0ZTogaW50ZWdlcihcIm1pbnV0ZXNfbGF0ZVwiKS5kZWZhdWx0KDApLFxuICByZWFzb246IHRleHQoXCJyZWFzb25cIiksIC8vIElmIGxhdGUsIHJlYXNvbiBwcm92aWRlZFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyAzLiBPbi1sb2NhdGlvbiBDb21wbGlhbmNlIChwZXJjZW50YWdlIGJhc2VkIG9uIEdQUy9jaGVjay1pbnMpXG5leHBvcnQgY29uc3QgbG9jYXRpb25Db21wbGlhbmNlID0gcGdUYWJsZShcImxvY2F0aW9uX2NvbXBsaWFuY2VcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGJyYW5kQWdlbnRJZDogdXVpZChcImJyYW5kX2FnZW50X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIGJvb2tpbmdJZDogdXVpZChcImJvb2tpbmdfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICBsb2NhdGlvbklkOiB1dWlkKFwibG9jYXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gbG9jYXRpb25zLmlkKSxcbiAgY2hlY2tJblRpbWU6IHRpbWVzdGFtcChcImNoZWNrX2luX3RpbWVcIiksXG4gIGNoZWNrT3V0VGltZTogdGltZXN0YW1wKFwiY2hlY2tfb3V0X3RpbWVcIiksXG4gIGlzQ29tcGxpYW50OiBib29sZWFuKFwiaXNfY29tcGxpYW50XCIpLm5vdE51bGwoKS5kZWZhdWx0KGZhbHNlKSxcbiAgZ3BzTGF0aXR1ZGU6IGRlY2ltYWwoXCJncHNfbGF0aXR1ZGVcIiwgeyBwcmVjaXNpb246IDEwLCBzY2FsZTogOCB9KSxcbiAgZ3BzTG9uZ2l0dWRlOiBkZWNpbWFsKFwiZ3BzX2xvbmdpdHVkZVwiLCB7IHByZWNpc2lvbjogMTEsIHNjYWxlOiA4IH0pLFxuICBkaXN0YW5jZUZyb21Mb2NhdGlvbjogZGVjaW1hbChcImRpc3RhbmNlX2Zyb21fbG9jYXRpb25cIiwgeyBwcmVjaXNpb246IDgsIHNjYWxlOiAyIH0pLCAvLyBpbiBtZXRlcnNcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gNC4gRGlzcGVuc2FyeSBSYXRpbmdzICgxLTUgZnJvbSBkaXNwZW5zYXJ5IHN0YWZmKVxuZXhwb3J0IGNvbnN0IGRpc3BlbnNhcnlSYXRpbmdzID0gcGdUYWJsZShcImRpc3BlbnNhcnlfcmF0aW5nc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYnJhbmRBZ2VudElkOiB1dWlkKFwiYnJhbmRfYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgbG9jYXRpb25JZDogdXVpZChcImxvY2F0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGxvY2F0aW9ucy5pZCksXG4gIGJvb2tpbmdJZDogdXVpZChcImJvb2tpbmdfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICByYXRpbmc6IGludGVnZXIoXCJyYXRpbmdcIikubm90TnVsbCgpLCAvLyAxLTUgc2NhbGVcbiAgcmF0ZWRCeTogdGV4dChcInJhdGVkX2J5XCIpLCAvLyBEaXNwZW5zYXJ5IHN0YWZmIG5hbWVcbiAgcmF0ZWRCeVRpdGxlOiB0ZXh0KFwicmF0ZWRfYnlfdGl0bGVcIiksIC8vIFRoZWlyIHRpdGxlL3JvbGVcbiAgZmVlZGJhY2s6IHRleHQoXCJmZWVkYmFja1wiKSxcbiAgcmF0aW5nRGF0ZTogdGltZXN0YW1wKFwicmF0aW5nX2RhdGVcIikubm90TnVsbCgpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyA1LiBTdGFmZiBSYXRpbmdzIGZyb20gQm9va2luZyBMb2NhdGlvbnMgKDEtNSBmcm9tIG90aGVyIHN0YWZmKVxuZXhwb3J0IGNvbnN0IHN0YWZmUmF0aW5ncyA9IHBnVGFibGUoXCJzdGFmZl9yYXRpbmdzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBicmFuZEFnZW50SWQ6IHV1aWQoXCJicmFuZF9hZ2VudF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIHJhdGVkQnlJZDogdXVpZChcInJhdGVkX2J5X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIGJvb2tpbmdJZDogdXVpZChcImJvb2tpbmdfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICByYXRpbmc6IGludGVnZXIoXCJyYXRpbmdcIikubm90TnVsbCgpLCAvLyAxLTUgc2NhbGVcbiAgZmVlZGJhY2s6IHRleHQoXCJmZWVkYmFja1wiKSxcbiAgcmF0aW5nRGF0ZTogdGltZXN0YW1wKFwicmF0aW5nX2RhdGVcIikubm90TnVsbCgpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyA2LiBBY3Rpdml0eSBDb21wbGV0aW9uIFJhdGVzIChwZXJjZW50YWdlIGJhc2VkIG9uIGFzc2lnbmVkIGFjdGl2aXRpZXMpXG5leHBvcnQgY29uc3QgYWN0aXZpdHlDb21wbGV0aW9uUmF0ZXMgPSBwZ1RhYmxlKFwiYWN0aXZpdHlfY29tcGxldGlvbl9yYXRlc1wiLCB7XG4gIGlkOiB1dWlkKFwiaWRcIikucHJpbWFyeUtleSgpLmRlZmF1bHRSYW5kb20oKSxcbiAgYnJhbmRBZ2VudElkOiB1dWlkKFwiYnJhbmRfYWdlbnRfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQsIHsgb25EZWxldGU6IFwiY2FzY2FkZVwiIH0pLFxuICBvcmdhbml6YXRpb25JZDogdXVpZChcIm9yZ2FuaXphdGlvbl9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiBvcmdhbml6YXRpb25zLmlkKSxcbiAgYWN0aXZpdHlJZDogdXVpZChcImFjdGl2aXR5X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGFjdGl2aXRpZXMuaWQpLFxuICBib29raW5nSWQ6IHV1aWQoXCJib29raW5nX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGJvb2tpbmdzLmlkKSxcbiAgYXNzaWduZWREYXRlOiB0aW1lc3RhbXAoXCJhc3NpZ25lZF9kYXRlXCIpLm5vdE51bGwoKSxcbiAgZHVlRGF0ZTogdGltZXN0YW1wKFwiZHVlX2RhdGVcIiksXG4gIGNvbXBsZXRlZERhdGU6IHRpbWVzdGFtcChcImNvbXBsZXRlZF9kYXRlXCIpLFxuICBpc0NvbXBsZXRlZDogYm9vbGVhbihcImlzX2NvbXBsZXRlZFwiKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXG4gIGNvbXBsZXRpb25RdWFsaXR5OiBpbnRlZ2VyKFwiY29tcGxldGlvbl9xdWFsaXR5XCIpLCAvLyAxLTUgc2NhbGUgaWYgYXBwbGljYWJsZVxuICBub3RlczogdGV4dChcIm5vdGVzXCIpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyA3LiBEYXRhIEZvcm0gQ29tcGxldGlvbiAocGVyY2VudGFnZSBiYXNlZCBvbiByZXF1aXJlZCBmb3JtcylcbmV4cG9ydCBjb25zdCBkYXRhRm9ybUNvbXBsZXRpb24gPSBwZ1RhYmxlKFwiZGF0YV9mb3JtX2NvbXBsZXRpb25cIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGJyYW5kQWdlbnRJZDogdXVpZChcImJyYW5kX2FnZW50X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIGJvb2tpbmdJZDogdXVpZChcImJvb2tpbmdfaWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gYm9va2luZ3MuaWQpLFxuICBmb3JtVHlwZTogdGV4dChcImZvcm1fdHlwZVwiKS5ub3ROdWxsKCksIC8vIGUuZy4sIFwicHJlLXZpc2l0XCIsIFwicG9zdC12aXNpdFwiLCBcImludmVudG9yeVwiXG4gIGZvcm1EYXRhOiBqc29uYihcImZvcm1fZGF0YVwiKSwgLy8gQWN0dWFsIGZvcm0gZGF0YVxuICBpc0NvbXBsZXRlZDogYm9vbGVhbihcImlzX2NvbXBsZXRlZFwiKS5ub3ROdWxsKCkuZGVmYXVsdChmYWxzZSksXG4gIHJlcXVpcmVkRGF0ZTogdGltZXN0YW1wKFwicmVxdWlyZWRfZGF0ZVwiKS5ub3ROdWxsKCksXG4gIHN1Ym1pdHRlZERhdGU6IHRpbWVzdGFtcChcInN1Ym1pdHRlZF9kYXRlXCIpLFxuICBjb21wbGV0aW9uUmF0ZTogZGVjaW1hbChcImNvbXBsZXRpb25fcmF0ZVwiLCB7IHByZWNpc2lvbjogNSwgc2NhbGU6IDIgfSksIC8vIDAtMTAwJVxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbn0pO1xuXG4vLyA4LiBEYXRhIEZvcm0gUXVhbGl0eSBSYXRpbmdzICgxLTUgYmFzZWQgb24gZm9ybSByZXZpZXcpXG5leHBvcnQgY29uc3QgZGF0YUZvcm1RdWFsaXR5UmF0aW5ncyA9IHBnVGFibGUoXCJkYXRhX2Zvcm1fcXVhbGl0eV9yYXRpbmdzXCIsIHtcbiAgaWQ6IHV1aWQoXCJpZFwiKS5wcmltYXJ5S2V5KCkuZGVmYXVsdFJhbmRvbSgpLFxuICBicmFuZEFnZW50SWQ6IHV1aWQoXCJicmFuZF9hZ2VudF9pZFwiKVxuICAgIC5ub3ROdWxsKClcbiAgICAucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCwgeyBvbkRlbGV0ZTogXCJjYXNjYWRlXCIgfSksXG4gIG9yZ2FuaXphdGlvbklkOiB1dWlkKFwib3JnYW5pemF0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IG9yZ2FuaXphdGlvbnMuaWQpLFxuICBmb3JtQ29tcGxldGlvbklkOiB1dWlkKFwiZm9ybV9jb21wbGV0aW9uX2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IGRhdGFGb3JtQ29tcGxldGlvbi5pZCksXG4gIHJldmlld2VkQnlJZDogdXVpZChcInJldmlld2VkX2J5X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkKSxcbiAgcXVhbGl0eVJhdGluZzogaW50ZWdlcihcInF1YWxpdHlfcmF0aW5nXCIpLm5vdE51bGwoKSwgLy8gMS01IHNjYWxlXG4gIGFjY3VyYWN5U2NvcmU6IGludGVnZXIoXCJhY2N1cmFjeV9zY29yZVwiKSwgLy8gMS01IHNjYWxlXG4gIGNvbXBsZXRlbmVzc1Njb3JlOiBpbnRlZ2VyKFwiY29tcGxldGVuZXNzX3Njb3JlXCIpLCAvLyAxLTUgc2NhbGVcbiAgdGltZWxpbmVzc1Njb3JlOiBpbnRlZ2VyKFwidGltZWxpbmVzc19zY29yZVwiKSwgLy8gMS01IHNjYWxlXG4gIGZlZWRiYWNrOiB0ZXh0KFwiZmVlZGJhY2tcIiksXG4gIHJldmlld0RhdGU6IHRpbWVzdGFtcChcInJldmlld19kYXRlXCIpLm5vdE51bGwoKSxcbiAgY3JlYXRlZEF0OiB0aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gUGVyZm9ybWFuY2UgU3VtbWFyeSAoYWdncmVnYXRlZCBtZXRyaWNzIGZvciBxdWljayBhY2Nlc3MpXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2VTdW1tYXJ5ID0gcGdUYWJsZShcInBlcmZvcm1hbmNlX3N1bW1hcnlcIiwge1xuICBpZDogdXVpZChcImlkXCIpLnByaW1hcnlLZXkoKS5kZWZhdWx0UmFuZG9tKCksXG4gIGJyYW5kQWdlbnRJZDogdXVpZChcImJyYW5kX2FnZW50X2lkXCIpXG4gICAgLm5vdE51bGwoKVxuICAgIC5yZWZlcmVuY2VzKCgpID0+IHVzZXJzLmlkLCB7IG9uRGVsZXRlOiBcImNhc2NhZGVcIiB9KSxcbiAgb3JnYW5pemF0aW9uSWQ6IHV1aWQoXCJvcmdhbml6YXRpb25faWRcIilcbiAgICAubm90TnVsbCgpXG4gICAgLnJlZmVyZW5jZXMoKCkgPT4gb3JnYW5pemF0aW9ucy5pZCksXG4gIHBlcmlvZFR5cGU6IHRleHQoXCJwZXJpb2RfdHlwZVwiKS5ub3ROdWxsKCksIC8vIFwibW9udGhseVwiLCBcInF1YXJ0ZXJseVwiLCBcInllYXJseVwiXG4gIHBlcmlvZFZhbHVlOiB0ZXh0KFwicGVyaW9kX3ZhbHVlXCIpLm5vdE51bGwoKSwgLy8gZS5nLiwgXCIyMDI1LTAxXCIsIFwiUTEtMjAyNVwiLCBcIjIwMjVcIlxuICBcbiAgLy8gQWdncmVnYXRlZCBtZXRyaWNzXG4gIGF2Z01hbmFnZXJSZXZpZXc6IGRlY2ltYWwoXCJhdmdfbWFuYWdlcl9yZXZpZXdcIiwgeyBwcmVjaXNpb246IDMsIHNjYWxlOiAyIH0pLFxuICBvblRpbWVQZXJjZW50YWdlOiBkZWNpbWFsKFwib25fdGltZV9wZXJjZW50YWdlXCIsIHsgcHJlY2lzaW9uOiA1LCBzY2FsZTogMiB9KSxcbiAgbG9jYXRpb25Db21wbGlhbmNlUGVyY2VudGFnZTogZGVjaW1hbChcImxvY2F0aW9uX2NvbXBsaWFuY2VfcGVyY2VudGFnZVwiLCB7IHByZWNpc2lvbjogNSwgc2NhbGU6IDIgfSksXG4gIGF2Z0Rpc3BlbnNhcnlSYXRpbmc6IGRlY2ltYWwoXCJhdmdfZGlzcGVuc2FyeV9yYXRpbmdcIiwgeyBwcmVjaXNpb246IDMsIHNjYWxlOiAyIH0pLFxuICBhdmdTdGFmZlJhdGluZzogZGVjaW1hbChcImF2Z19zdGFmZl9yYXRpbmdcIiwgeyBwcmVjaXNpb246IDMsIHNjYWxlOiAyIH0pLFxuICBhY3Rpdml0eUNvbXBsZXRpb25QZXJjZW50YWdlOiBkZWNpbWFsKFwiYWN0aXZpdHlfY29tcGxldGlvbl9wZXJjZW50YWdlXCIsIHsgcHJlY2lzaW9uOiA1LCBzY2FsZTogMiB9KSxcbiAgZGF0YUZvcm1Db21wbGV0aW9uUGVyY2VudGFnZTogZGVjaW1hbChcImRhdGFfZm9ybV9jb21wbGV0aW9uX3BlcmNlbnRhZ2VcIiwgeyBwcmVjaXNpb246IDUsIHNjYWxlOiAyIH0pLFxuICBhdmdEYXRhRm9ybVF1YWxpdHlSYXRpbmc6IGRlY2ltYWwoXCJhdmdfZGF0YV9mb3JtX3F1YWxpdHlfcmF0aW5nXCIsIHsgcHJlY2lzaW9uOiAzLCBzY2FsZTogMiB9KSxcbiAgXG4gIC8vIE92ZXJhbGwgcGVyZm9ybWFuY2Ugc2NvcmVcbiAgb3ZlcmFsbFBlcmZvcm1hbmNlU2NvcmU6IGRlY2ltYWwoXCJvdmVyYWxsX3BlcmZvcm1hbmNlX3Njb3JlXCIsIHsgcHJlY2lzaW9uOiA1LCBzY2FsZTogMiB9KSxcbiAgXG4gIGNhbGN1bGF0ZWRBdDogdGltZXN0YW1wKFwiY2FsY3VsYXRlZF9hdFwiKS5ub3ROdWxsKCkuZGVmYXVsdE5vdygpLFxuICBjcmVhdGVkQXQ6IHRpbWVzdGFtcChcImNyZWF0ZWRfYXRcIikubm90TnVsbCgpLmRlZmF1bHROb3coKSxcbiAgdXBkYXRlZEF0OiB0aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIpLm5vdE51bGwoKS5kZWZhdWx0Tm93KCksXG59KTtcblxuLy8gSW5zZXJ0IHNjaGVtYXMgZm9yIHBlcmZvcm1hbmNlIG1ldHJpY3MgdGFibGVzXG5leHBvcnQgY29uc3QgaW5zZXJ0TWFuYWdlclJldmlld1NjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShtYW5hZ2VyUmV2aWV3cyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0T25UaW1lUGVyZm9ybWFuY2VTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEob25UaW1lUGVyZm9ybWFuY2UpO1xuZXhwb3J0IGNvbnN0IGluc2VydExvY2F0aW9uQ29tcGxpYW5jZVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShsb2NhdGlvbkNvbXBsaWFuY2UpO1xuZXhwb3J0IGNvbnN0IGluc2VydERpc3BlbnNhcnlSYXRpbmdTY2hlbWEgPSBjcmVhdGVJbnNlcnRTY2hlbWEoZGlzcGVuc2FyeVJhdGluZ3MpO1xuZXhwb3J0IGNvbnN0IGluc2VydFN0YWZmUmF0aW5nU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKHN0YWZmUmF0aW5ncyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0QWN0aXZpdHlDb21wbGV0aW9uUmF0ZVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShhY3Rpdml0eUNvbXBsZXRpb25SYXRlcyk7XG5leHBvcnQgY29uc3QgaW5zZXJ0RGF0YUZvcm1Db21wbGV0aW9uU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGRhdGFGb3JtQ29tcGxldGlvbik7XG5leHBvcnQgY29uc3QgaW5zZXJ0RGF0YUZvcm1RdWFsaXR5UmF0aW5nU2NoZW1hID0gY3JlYXRlSW5zZXJ0U2NoZW1hKGRhdGFGb3JtUXVhbGl0eVJhdGluZ3MpO1xuZXhwb3J0IGNvbnN0IGluc2VydFBlcmZvcm1hbmNlU3VtbWFyeVNjaGVtYSA9IGNyZWF0ZUluc2VydFNjaGVtYShwZXJmb3JtYW5jZVN1bW1hcnkpO1xuXG4vLyBUeXBlcyBmb3IgcGVyZm9ybWFuY2UgbWV0cmljcyB0YWJsZXNcbmV4cG9ydCB0eXBlIE1hbmFnZXJSZXZpZXcgPSB0eXBlb2YgbWFuYWdlclJldmlld3MuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0TWFuYWdlclJldmlldyA9IHouaW5mZXI8dHlwZW9mIGluc2VydE1hbmFnZXJSZXZpZXdTY2hlbWE+O1xuZXhwb3J0IHR5cGUgT25UaW1lUGVyZm9ybWFuY2UgPSB0eXBlb2Ygb25UaW1lUGVyZm9ybWFuY2UuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0T25UaW1lUGVyZm9ybWFuY2UgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnRPblRpbWVQZXJmb3JtYW5jZVNjaGVtYT47XG5leHBvcnQgdHlwZSBMb2NhdGlvbkNvbXBsaWFuY2UgPSB0eXBlb2YgbG9jYXRpb25Db21wbGlhbmNlLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydExvY2F0aW9uQ29tcGxpYW5jZSA9IHouaW5mZXI8dHlwZW9mIGluc2VydExvY2F0aW9uQ29tcGxpYW5jZVNjaGVtYT47XG5leHBvcnQgdHlwZSBEaXNwZW5zYXJ5UmF0aW5nID0gdHlwZW9mIGRpc3BlbnNhcnlSYXRpbmdzLiRpbmZlclNlbGVjdDtcbmV4cG9ydCB0eXBlIEluc2VydERpc3BlbnNhcnlSYXRpbmcgPSB6LmluZmVyPHR5cGVvZiBpbnNlcnREaXNwZW5zYXJ5UmF0aW5nU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFN0YWZmUmF0aW5nID0gdHlwZW9mIHN0YWZmUmF0aW5ncy4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnRTdGFmZlJhdGluZyA9IHouaW5mZXI8dHlwZW9mIGluc2VydFN0YWZmUmF0aW5nU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEFjdGl2aXR5Q29tcGxldGlvblJhdGUgPSB0eXBlb2YgYWN0aXZpdHlDb21wbGV0aW9uUmF0ZXMuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0QWN0aXZpdHlDb21wbGV0aW9uUmF0ZSA9IHouaW5mZXI8dHlwZW9mIGluc2VydEFjdGl2aXR5Q29tcGxldGlvblJhdGVTY2hlbWE+O1xuZXhwb3J0IHR5cGUgRGF0YUZvcm1Db21wbGV0aW9uID0gdHlwZW9mIGRhdGFGb3JtQ29tcGxldGlvbi4kaW5mZXJTZWxlY3Q7XG5leHBvcnQgdHlwZSBJbnNlcnREYXRhRm9ybUNvbXBsZXRpb24gPSB6LmluZmVyPHR5cGVvZiBpbnNlcnREYXRhRm9ybUNvbXBsZXRpb25TY2hlbWE+O1xuZXhwb3J0IHR5cGUgRGF0YUZvcm1RdWFsaXR5UmF0aW5nID0gdHlwZW9mIGRhdGFGb3JtUXVhbGl0eVJhdGluZ3MuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0RGF0YUZvcm1RdWFsaXR5UmF0aW5nID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0RGF0YUZvcm1RdWFsaXR5UmF0aW5nU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFBlcmZvcm1hbmNlU3VtbWFyeSA9IHR5cGVvZiBwZXJmb3JtYW5jZVN1bW1hcnkuJGluZmVyU2VsZWN0O1xuZXhwb3J0IHR5cGUgSW5zZXJ0UGVyZm9ybWFuY2VTdW1tYXJ5ID0gei5pbmZlcjx0eXBlb2YgaW5zZXJ0UGVyZm9ybWFuY2VTdW1tYXJ5U2NoZW1hPjtcbiJdLCJuYW1lcyI6WyJwZ1RhYmxlIiwidGV4dCIsInZhcmNoYXIiLCJ0aW1lc3RhbXAiLCJib29sZWFuIiwiaW50ZWdlciIsInV1aWQiLCJqc29uYiIsImRlY2ltYWwiLCJwZ0VudW0iLCJjcmVhdGVJbnNlcnRTY2hlbWEiLCJ1c2VyUm9sZUVudW0iLCJvcmdhbml6YXRpb25UeXBlRW51bSIsIm9yZ2FuaXphdGlvblRpZXJFbnVtIiwiYm9va2luZ1N0YXR1c0VudW0iLCJCT09LSU5HX1NUQVRVUyIsIkRSQUZUIiwiUEVORElORyIsIkFQUFJPVkVEIiwiUkVKRUNURUQiLCJJTl9QUk9HUkVTUyIsIkNPTVBMRVRFRCIsIkNBTkNFTEVEIiwiYm9va2luZ1ByaW9yaXR5RW51bSIsInNoaWZ0U3RhdHVzRW51bSIsImFzc2lnbm1lbnRTdGF0dXNFbnVtIiwidXNlcnMiLCJpZCIsInByaW1hcnlLZXkiLCJkZWZhdWx0UmFuZG9tIiwidXNlcm5hbWUiLCJub3ROdWxsIiwicGFzc3dvcmQiLCJyb2xlIiwiZnVsbE5hbWUiLCJlbWFpbCIsInBob25lIiwiYWN0aXZlIiwiZGVmYXVsdCIsInByb2ZpbGVJbWFnZSIsImNyZWF0ZWRBdCIsImRlZmF1bHROb3ciLCJ1cGRhdGVkQXQiLCJvcmdhbml6YXRpb25zIiwibmFtZSIsInR5cGUiLCJzdGF0dXMiLCJwcmltYXJ5X2NvbnRhY3RfaWQiLCJiaWxsaW5nX2FkZHJlc3MiLCJiaWxsaW5nX2VtYWlsIiwiYmlsbGluZ19waG9uZSIsInN1YnNjcmlwdGlvbl90aWVyIiwic3Vic2NyaXB0aW9uX3N0YXR1cyIsImxvZ29fdXJsIiwid2Vic2l0ZSIsIm5vdGVzIiwidGllciIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwidXNlck9yZ2FuaXphdGlvbnMiLCJ1c2VyX2lkIiwib3JnYW5pemF0aW9uX2lkIiwiaXNfZGVmYXVsdCIsImxvY2F0aW9ucyIsImFkZHJlc3MxIiwiYWRkcmVzczIiLCJjaXR5Iiwic3RhdGVfaWQiLCJ6aXBjb2RlIiwiY29udGFjdF9uYW1lIiwiY29udGFjdF9lbWFpbCIsImNvbnRhY3RfcGhvbmUiLCJyZXF1ZXN0ZWRfYnkiLCJyZXZpZXdlZF9ieSIsInJldmlld19kYXRlIiwiZ2VvX2xhdCIsImdlb19sbmciLCJhY3Rpdml0eVR5cGVzIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeSIsImljb24iLCJjb2xvciIsIm9yZ2FuaXphdGlvbklkIiwicmVmZXJlbmNlcyIsImlzU3lzdGVtRGVmaW5lZCIsImlzQWN0aXZlIiwiYWN0aXZpdGllcyIsImJvb2tpbmdJZCIsImJvb2tpbmdzIiwidGl0bGUiLCJhY3Rpdml0eVR5cGVJZCIsImxvY2F0aW9uSWQiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwic3RhZmZSZXF1aXJlZCIsImFzc2lnbmVkQnlJZCIsImNyZWF0ZWRCeUlkIiwiY2xpZW50T3JnYW5pemF0aW9uSWQiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYnVkZ2V0IiwiYXR0ZW5kZWVFc3RpbWF0ZSIsInByaW9yaXR5IiwicHJvbW90aW9uVHlwZUlkIiwia2l0VGVtcGxhdGVJZCIsInN0YWZmQ291bnQiLCJyZXF1aXJlc1RyYWluaW5nIiwiaXNSZWN1cnJpbmciLCJyZWN1cnJlbmNlUGF0dGVybiIsInJlY3VycmVuY2VFbmREYXRlIiwiYXBwcm92ZWRCeUlkIiwiYXBwcm92ZWRBdCIsInJlamVjdGVkQnlJZCIsInJlamVjdGVkQXQiLCJyZWplY3Rpb25SZWFzb24iLCJjYW5jZWxlZEF0IiwiY2FuY2VsZWRCeUlkIiwiY2FuY2VsUmVhc29uIiwiYWN0aXZpdHlBc3NpZ25tZW50cyIsImFjdGl2aXR5SWQiLCJ1c2VySWQiLCJhc3NpZ25lZEF0IiwiYnJhbmRBZ2VudEFzc2lnbm1lbnRzIiwiYnJhbmRBZ2VudElkIiwic3lzdGVtRXZlbnRzIiwiZXZlbnRUeXBlIiwibWV0YWRhdGEiLCJzdGF0ZXMiLCJhYmJyZXZpYXRpb24iLCJicmFuZHMiLCJsZW5ndGgiLCJsb2dvVXJsIiwicHJpbWFyeUNvbG9yIiwic2Vjb25kYXJ5Q29sb3IiLCJicmFuZExvY2F0aW9ucyIsImJyYW5kSWQiLCJvbkRlbGV0ZSIsImF2YWlsYWJpbGl0eUJsb2NrcyIsInN0YXJ0X2RhdGUiLCJlbmRfZGF0ZSIsImRheV9vZl93ZWVrIiwiaXNfcmVjdXJyaW5nIiwicmVjdXJyaW5nIiwicmVjdXJyZW5jZV9wYXR0ZXJuIiwicmVjdXJyZW5jZV9ncm91cCIsInJlY3VycmVuY2VfZW5kX3R5cGUiLCJyZWN1cnJlbmNlX2NvdW50IiwicmVjdXJyZW5jZV9lbmRfZGF0ZSIsIm9yZ2FuaXphdGlvblVzZXJzIiwiZGVwYXJ0bWVudCIsImlzX3ByaW1hcnkiLCJvcmdhbml6YXRpb25TZXR0aW5ncyIsImtleSIsInZhbHVlIiwic2V0dGluZ19rZXkiLCJzZXR0aW5nX3ZhbHVlIiwidXBkYXRlZF9ieSIsIm5vdGlmaWNhdGlvbl9lbWFpbCIsInRpbWV6b25lIiwibGFuZ3VhZ2UiLCJkYXRlX2Zvcm1hdCIsInRpbWVfZm9ybWF0IiwiYmlsbGluZ19jb250YWN0X25hbWUiLCJiaWxsaW5nX2NvbnRhY3RfZW1haWwiLCJhZGRpdGlvbmFsX3NldHRpbmdzIiwiaW52ZW50b3J5SXRlbXMiLCJza3UiLCJ1bml0X29mX21lYXN1cmUiLCJjb3N0X3Blcl91bml0IiwicHJlY2lzaW9uIiwic2NhbGUiLCJzdXBwbGllcl9pbmZvIiwiaXNfY29uc3VtYWJsZSIsIm1pbmltdW1fc3RvY2tfbGV2ZWwiLCJtYXhpbXVtX3N0b2NrX2xldmVsIiwiY3VycmVudF9zdG9jayIsImF2YWlsYWJsZV9zdG9jayIsInJlc2VydmVkX3N0b2NrIiwicmVvcmRlcl9wb2ludCIsImlzX2FjdGl2ZSIsImtpdFRlbXBsYXRlcyIsImJyYW5kX2lkIiwiaW1hZ2VfdXJsIiwidGh1bWJuYWlsX3VybCIsImltYWdlX2FsdF90ZXh0Iiwia2l0VGVtcGxhdGVJdGVtcyIsImtpdF90ZW1wbGF0ZV9pZCIsImludmVudG9yeV9pdGVtX2lkIiwicXVhbnRpdHlfcmVxdWlyZWQiLCJpc19jcml0aWNhbCIsInVzYWdlX2luc3RydWN0aW9ucyIsImtpdEluc3RhbmNlcyIsInRlbXBsYXRlX2lkIiwibG9jYXRpb25faWQiLCJraXRJbnN0YW5jZUl0ZW1zIiwia2l0X2luc3RhbmNlX2lkIiwiY3VycmVudF9xdWFudGl0eSIsIm9yaWdpbmFsX3F1YW50aXR5IiwibWluaW11bV9xdWFudGl0eSIsImNvbnN1bWVkX3F1YW50aXR5IiwiY29uZGl0aW9uIiwiZXhwaXJhdGlvbl9kYXRlIiwibGFzdF9yZXN0b2NrZWQiLCJuZWVkc19yZXBsZW5pc2htZW50IiwiY29uc3VtcHRpb25Mb2dzIiwiYm9va2luZ19pZCIsInF1YW50aXR5X2NvbnN1bWVkIiwiY29uc3VtcHRpb25fZGF0ZSIsImNvbnN1bWVkX2J5IiwicmVhc29uIiwibG9jYXRpb24iLCJyZXBsZW5pc2htZW50UmVxdWVzdHMiLCJkdWVfZGF0ZSIsImFwcHJvdmVkX2J5IiwiYXBwcm92ZWRfYXQiLCJjb21wbGV0ZWRfYnkiLCJjb21wbGV0ZWRfYXQiLCJ0b3RhbF9lc3RpbWF0ZWRfY29zdCIsInJlcGxlbmlzaG1lbnRSZXF1ZXN0SXRlbXMiLCJyZXBsZW5pc2htZW50X3JlcXVlc3RfaWQiLCJxdWFudGl0eV9yZXF1ZXN0ZWQiLCJxdWFudGl0eV9hcHByb3ZlZCIsInF1YW50aXR5X3N1cHBsaWVkIiwidW5pdF9jb3N0IiwidG90YWxfY29zdCIsInN1cHBsaWVyIiwidHJhY2tpbmdfbnVtYmVyIiwiZGVsaXZlcmVkX2F0IiwiVVNFUl9ST0xFUyIsIlNVUEVSX0FETUlOIiwiSU5URVJOQUxfQURNSU4iLCJJTlRFUk5BTF9GSUVMRF9NQU5BR0VSIiwiQlJBTkRfQUdFTlQiLCJDTElFTlRfTUFOQUdFUiIsIkNMSUVOVF9VU0VSIiwiQk9PS0lOR19QUklPUklUWSIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJVUkdFTlQiLCJyb2xlcyIsInJvbGVQZXJtaXNzaW9ucyIsInN1cGVyX2FkbWluIiwiaW50ZXJuYWxfYWRtaW4iLCJpbnRlcm5hbF9maWVsZF9tYW5hZ2VyIiwiYnJhbmRfYWdlbnQiLCJjbGllbnRfbWFuYWdlciIsImNsaWVudF91c2VyIiwiaW5zZXJ0VXNlclNjaGVtYSIsImluc2VydE9yZ2FuaXphdGlvblNjaGVtYSIsImluc2VydExvY2F0aW9uU2NoZW1hIiwiaW5zZXJ0QWN0aXZpdHlTY2hlbWEiLCJpbnNlcnRCb29raW5nU2NoZW1hIiwiaW5zZXJ0QWN0aXZpdHlUeXBlU2NoZW1hIiwiaW5zZXJ0QWN0aXZpdHlBc3NpZ25tZW50U2NoZW1hIiwiaW5zZXJ0SW52ZW50b3J5SXRlbVNjaGVtYSIsImluc2VydEtpdFRlbXBsYXRlU2NoZW1hIiwiaW5zZXJ0S2l0VGVtcGxhdGVJdGVtU2NoZW1hIiwiaW5zZXJ0S2l0SW5zdGFuY2VTY2hlbWEiLCJpbnNlcnRLaXRJbnN0YW5jZUl0ZW1TY2hlbWEiLCJpbnNlcnRDb25zdW1wdGlvbkxvZ1NjaGVtYSIsImluc2VydFJlcGxlbmlzaG1lbnRSZXF1ZXN0U2NoZW1hIiwiaW5zZXJ0UmVwbGVuaXNobWVudFJlcXVlc3RJdGVtU2NoZW1hIiwia2l0cyIsImluc2VydEtpdFNjaGVtYSIsImluc2VydFVzZXJPcmdhbml6YXRpb25TY2hlbWEiLCJpbnNlcnRPcmdhbml6YXRpb25Vc2VyU2NoZW1hIiwiaW5zZXJ0T3JnYW5pemF0aW9uU2V0dGluZ3NTY2hlbWEiLCJpbnNlcnRCcmFuZEFnZW50QXNzaWdubWVudFNjaGVtYSIsImluc2VydFN5c3RlbUV2ZW50U2NoZW1hIiwiaW5zZXJ0U3RhdGVTY2hlbWEiLCJpbnNlcnRCcmFuZFNjaGVtYSIsImluc2VydEJyYW5kTG9jYXRpb25TY2hlbWEiLCJpbnNlcnRBdmFpbGFiaWxpdHlCbG9ja1NjaGVtYSIsInNoaWZ0cyIsImV2ZW50SWQiLCJzdGFydERhdGVUaW1lIiwiZW5kRGF0ZVRpbWUiLCJyZXF1aXJlZEFnZW50cyIsInJlcXVpcmVkU2tpbGxzIiwiaG91cmx5UmF0ZSIsInRvdGFsQnVkZ2V0IiwiY3JlYXRlZEJ5IiwiY2FuY2VsbGF0aW9uUmVhc29uIiwic2hpZnRBc3NpZ25tZW50cyIsInNoaWZ0SWQiLCJhZ2VudElkIiwiYXNzaWdubWVudFN0YXR1cyIsImFzc2lnbmVkQnkiLCJjb25maXJtZWRBdCIsImNoZWNrZWRJbkF0IiwiY2hlY2tlZE91dEF0IiwiYWN0dWFsSG91cnMiLCJpbnNlcnRTaGlmdFNjaGVtYSIsImluc2VydFNoaWZ0QXNzaWdubWVudFNjaGVtYSIsIml0ZW1zIiwiYm9va2luZ0NvbW1lbnRzIiwiYXV0aG9ySWQiLCJjb250ZW50IiwiaXNJbnRlcm5hbCIsInByb21vdGlvblR5cGVzIiwiaXNfc3lzdGVtX2RlZmluZWQiLCJtZXRhZGF0YV9zY2hlbWEiLCJ1c2VyT3JnYW5pemF0aW9uUHJlZmVyZW5jZXMiLCJsYXN0X2FjdGl2ZSIsInRoZW1lIiwiZGFzaGJvYXJkX2xheW91dCIsIm5vdGlmaWNhdGlvbl9zZXR0aW5ncyIsInBlcm1pc3Npb25zIiwiaW5zZXJ0SXRlbVNjaGVtYSIsImluc2VydEJvb2tpbmdDb21tZW50U2NoZW1hIiwiaW5zZXJ0UHJvbW90aW9uVHlwZVNjaGVtYSIsImluc2VydFVzZXJPcmdhbml6YXRpb25QcmVmZXJlbmNlc1NjaGVtYSIsImluc2VydFBlcm1pc3Npb25TY2hlbWEiLCJyZWdpb25zIiwiY29kZSIsImNvdW50cnkiLCJzdGF0ZSIsIm9yZ2FuaXphdGlvblJlZ2lvbnMiLCJyZWdpb25faWQiLCJvcmdhbml6YXRpb25CcmFuZGluZyIsInByaW1hcnlfY29sb3IiLCJzZWNvbmRhcnlfY29sb3IiLCJhY2NlbnRfY29sb3IiLCJmb250X2ZhbWlseSIsImN1c3RvbV9jc3MiLCJmYXZpY29uX3VybCIsImJyYW5kX25hbWUiLCJ0YWdsaW5lIiwid2Vic2l0ZV91cmwiLCJpbnNlcnRSZWdpb25TY2hlbWEiLCJpbnNlcnRPcmdhbml6YXRpb25SZWdpb25TY2hlbWEiLCJpbnNlcnRPcmdhbml6YXRpb25CcmFuZGluZ1NjaGVtYSIsInRhc2tzIiwiYXNzaWduZWRUbyIsImR1ZURhdGUiLCJjb21wbGV0ZWRBdCIsInVzZXJQZXJtaXNzaW9ucyIsInBlcm1pc3Npb24iLCJyZXNvdXJjZSIsImdyYW50ZWRCeSIsImdyYW50ZWRBdCIsImV4cGlyZXNBdCIsImluc2VydFRhc2tTY2hlbWEiLCJpbnNlcnRVc2VyUGVybWlzc2lvblNjaGVtYSIsImF1ZGl0TG9ncyIsImVudGl0eVR5cGUiLCJlbnRpdHlJZCIsImFjdGlvbiIsImNoYW5nZXMiLCJpcEFkZHJlc3MiLCJ1c2VyQWdlbnQiLCJpbnNlcnRBdWRpdExvZ1NjaGVtYSIsIm9yZ2FuaXphdGlvbkludml0YXRpb25zIiwiaW52aXRlZEJ5VXNlcklkIiwidG9rZW4iLCJ1bmlxdWUiLCJhY2NlcHRlZEF0IiwiYWNjZXB0ZWRCeVVzZXJJZCIsImluc2VydE9yZ2FuaXphdGlvbkludml0YXRpb25TY2hlbWEiLCJvcmdhbml6YXRpb25QZXJtaXNzaW9ucyIsImlzR3JhbnRlZCIsImdyYW50ZWRCeVVzZXJJZCIsImluc2VydE9yZ2FuaXphdGlvblBlcm1pc3Npb25TY2hlbWEiLCJraXRDb21wb25lbnRJbnZlbnRvcnkiLCJraXRJZCIsImNvbXBvbmVudElkIiwicXVhbnRpdHkiLCJhc3NpZ25lZFF1YW50aXR5IiwiYXZhaWxhYmxlUXVhbnRpdHkiLCJhY3Rpdml0eUtpdHMiLCJraXRJbnN0YW5jZUlkIiwiYXNzaWduZWRUb0lkIiwiYWdlbnRTa2lsbHMiLCJza2lsbE5hbWUiLCJza2lsbExldmVsIiwiY2VydGlmaWVkIiwiY2VydGlmaWNhdGlvbkRhdGUiLCJleHBpcnlEYXRlIiwiaW5zZXJ0S2l0Q29tcG9uZW50SW52ZW50b3J5U2NoZW1hIiwiaW5zZXJ0QWN0aXZpdHlLaXRTY2hlbWEiLCJpbnNlcnRBZ2VudFNraWxsU2NoZW1hIiwibWFuYWdlclJldmlld3MiLCJtYW5hZ2VySWQiLCJyYXRpbmciLCJyZXZpZXdQZXJpb2QiLCJjb21tZW50cyIsInJldmlld0RhdGUiLCJvblRpbWVQZXJmb3JtYW5jZSIsInNjaGVkdWxlZFN0YXJ0VGltZSIsImFjdHVhbFN0YXJ0VGltZSIsImlzT25UaW1lIiwibWludXRlc0xhdGUiLCJsb2NhdGlvbkNvbXBsaWFuY2UiLCJjaGVja0luVGltZSIsImNoZWNrT3V0VGltZSIsImlzQ29tcGxpYW50IiwiZ3BzTGF0aXR1ZGUiLCJncHNMb25naXR1ZGUiLCJkaXN0YW5jZUZyb21Mb2NhdGlvbiIsImRpc3BlbnNhcnlSYXRpbmdzIiwicmF0ZWRCeSIsInJhdGVkQnlUaXRsZSIsImZlZWRiYWNrIiwicmF0aW5nRGF0ZSIsInN0YWZmUmF0aW5ncyIsInJhdGVkQnlJZCIsImFjdGl2aXR5Q29tcGxldGlvblJhdGVzIiwiYXNzaWduZWREYXRlIiwiY29tcGxldGVkRGF0ZSIsImlzQ29tcGxldGVkIiwiY29tcGxldGlvblF1YWxpdHkiLCJkYXRhRm9ybUNvbXBsZXRpb24iLCJmb3JtVHlwZSIsImZvcm1EYXRhIiwicmVxdWlyZWREYXRlIiwic3VibWl0dGVkRGF0ZSIsImNvbXBsZXRpb25SYXRlIiwiZGF0YUZvcm1RdWFsaXR5UmF0aW5ncyIsImZvcm1Db21wbGV0aW9uSWQiLCJyZXZpZXdlZEJ5SWQiLCJxdWFsaXR5UmF0aW5nIiwiYWNjdXJhY3lTY29yZSIsImNvbXBsZXRlbmVzc1Njb3JlIiwidGltZWxpbmVzc1Njb3JlIiwicGVyZm9ybWFuY2VTdW1tYXJ5IiwicGVyaW9kVHlwZSIsInBlcmlvZFZhbHVlIiwiYXZnTWFuYWdlclJldmlldyIsIm9uVGltZVBlcmNlbnRhZ2UiLCJsb2NhdGlvbkNvbXBsaWFuY2VQZXJjZW50YWdlIiwiYXZnRGlzcGVuc2FyeVJhdGluZyIsImF2Z1N0YWZmUmF0aW5nIiwiYWN0aXZpdHlDb21wbGV0aW9uUGVyY2VudGFnZSIsImRhdGFGb3JtQ29tcGxldGlvblBlcmNlbnRhZ2UiLCJhdmdEYXRhRm9ybVF1YWxpdHlSYXRpbmciLCJvdmVyYWxsUGVyZm9ybWFuY2VTY29yZSIsImNhbGN1bGF0ZWRBdCIsImluc2VydE1hbmFnZXJSZXZpZXdTY2hlbWEiLCJpbnNlcnRPblRpbWVQZXJmb3JtYW5jZVNjaGVtYSIsImluc2VydExvY2F0aW9uQ29tcGxpYW5jZVNjaGVtYSIsImluc2VydERpc3BlbnNhcnlSYXRpbmdTY2hlbWEiLCJpbnNlcnRTdGFmZlJhdGluZ1NjaGVtYSIsImluc2VydEFjdGl2aXR5Q29tcGxldGlvblJhdGVTY2hlbWEiLCJpbnNlcnREYXRhRm9ybUNvbXBsZXRpb25TY2hlbWEiLCJpbnNlcnREYXRhRm9ybVF1YWxpdHlSYXRpbmdTY2hlbWEiLCJpbnNlcnRQZXJmb3JtYW5jZVN1bW1hcnlTY2hlbWEiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./shared/schema.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@neondatabase/serverless":
/*!*******************************************!*\
  !*** external "@neondatabase/serverless" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = import("@neondatabase/serverless");;

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/uuid","vendor-chunks/drizzle-orm","vendor-chunks/zod","vendor-chunks/drizzle-zod","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/safe-buffer","vendor-chunks/ms","vendor-chunks/lodash.once","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isplainobject","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isinteger","vendor-chunks/lodash.isboolean","vendor-chunks/lodash.includes","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fauth-service%2Fsession%2Froute&page=%2Fapi%2Fauth-service%2Fsession%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth-service%2Fsession%2Froute.ts&appDir=%2Fhome%2Frunner%2Fworkspace%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Frunner%2Fworkspace&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();